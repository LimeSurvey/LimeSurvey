(function(){function w(a){var c={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',
type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},
parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",
type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",
type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as \x3cbr\x3e (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",
type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,
description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: \x3cdiv\x3efoo\x3c/div\x3e",type:"boolean"}};if(!1===a)return JSON.parse(JSON.stringify(c));a={};for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b].defaultValue);return a}function x(a,c){var b=c?"Error in "+c+" extension-\x3e":"Error in unnamed extension",e={valid:!0,error:""};d.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var g=b+" sub-extension "+
f+": ",h=a[f];if("object"!=typeof h)return e.valid=!1,e.error=g+"must be an object, but "+typeof h+" given",e;if(!d.helper.isString(h.type))return e.valid=!1,e.error=g+'property "type" must be a string, but '+typeof h.type+" given",e;var k=h.type=h.type.toLowerCase();if("language"===k&&(k=h.type="lang"),"html"===k&&(k=h.type="output"),"lang"!==k&&"output"!==k&&"listener"!==k)return e.valid=!1,e.error=g+"type "+k+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===
k){if(d.helper.isUndefined(h.listeners))return e.valid=!1,e.error=g+'. Extensions of type "listener" must have a property called "listeners"',e}else if(d.helper.isUndefined(h.filter)&&d.helper.isUndefined(h.regex))return e.valid=!1,e.error=g+k+' extensions must define either a "regex" property or a "filter" method',e;if(h.listeners){if("object"!=typeof h.listeners)return e.valid=!1,e.error=g+'"listeners" property must be an object but '+typeof h.listeners+" given",e;for(var l in h.listeners)if(h.listeners.hasOwnProperty(l)&&
"function"!=typeof h.listeners[l])return e.valid=!1,e.error=g+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof h.listeners[l]+" given",e}if(h.filter){if("function"!=typeof h.filter)return e.valid=!1,e.error=g+'"filter" must be a function, but '+typeof h.filter+" given",e}else if(h.regex){if(d.helper.isString(h.regex)&&(h.regex=new RegExp(h.regex,"g")),!(h.regex instanceof RegExp))return e.valid=!1,e.error=g+'"regex" property must either be a string or a RegExp object, but '+
typeof h.regex+" given",e;if(d.helper.isUndefined(h.replace))return e.valid=!1,e.error=g+'"regex" extensions must implement a replace string or function',e}}return e}function B(a,c){return"¨E"+c.charCodeAt(0)+"E"}var d={},y={},q={},r=w(!0),z="vanilla",v={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,
requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:w(!0),allOn:function(){var a=
w(!0),c={},b;for(b in a)a.hasOwnProperty(b)&&(c[b]=!0);return c}()};d.helper={};d.extensions={};d.setOption=function(a,c){return r[a]=c,this};d.getOption=function(a){return r[a]};d.getOptions=function(){return r};d.resetOptions=function(){r=w(!0)};d.setFlavor=function(a){if(!v.hasOwnProperty(a))throw Error(a+" flavor was not found");d.resetOptions();var c=v[a];z=a;for(var b in c)c.hasOwnProperty(b)&&(r[b]=c[b])};d.getFlavor=function(){return z};d.getFlavorOptions=function(a){if(v.hasOwnProperty(a))return v[a]};
d.getDefaultOptions=function(a){return w(a)};d.subParser=function(a,c){if(d.helper.isString(a)){if(void 0===c){if(y.hasOwnProperty(a))return y[a];throw Error("SubParser named "+a+" not registered!");}y[a]=c}};d.extension=function(a,c){if(!d.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=d.helper.stdExtName(a),d.helper.isUndefined(c)){if(!q.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return q[a]}"function"==typeof c&&(c=c());d.helper.isArray(c)||
(c=[c]);var b=x(c,a);if(!b.valid)throw Error(b.error);q[a]=c};d.getAllExtensions=function(){return q};d.removeExtension=function(a){delete q[a]};d.resetExtensions=function(){q={}};d.validateExtension=function(a){a=x(a,null);return!!a.valid||(console.warn(a.error),!1)};d.hasOwnProperty("helper")||(d.helper={});d.helper.isString=function(a){return"string"==typeof a||a instanceof String};d.helper.isFunction=function(a){var c={};return a&&"[object Function]"===c.toString.call(a)};d.helper.isArray=function(a){return Array.isArray(a)};
d.helper.isUndefined=function(a){return void 0===a};d.helper.forEach=function(a,c){if(d.helper.isUndefined(a))throw Error("obj param is required");if(d.helper.isUndefined(c))throw Error("callback param is required");if(!d.helper.isFunction(c))throw Error("callback param must be a function/closure");if("function"==typeof a.forEach)a.forEach(c);else if(d.helper.isArray(a))for(var b=0;b<a.length;b++)c(a[b],b,a);else{if("object"!=typeof a)throw Error("obj does not seem to be an array or an iterable object");
for(b in a)a.hasOwnProperty(b)&&c(a[b],b,a)}};d.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};d.helper.escapeCharactersCallback=B;d.helper.escapeCharacters=function(a,c,b){c="(["+c.replace(/([\[\]\\])/g,"\\$1")+"])";b&&(c="\\\\"+c);return a.replace(new RegExp(c,"g"),B)};var C=function(a,c,b,d){var f,g,h,k;g=d||"";d=-1<g.indexOf("g");b=new RegExp(c+"|"+b,"g"+g.replace(/g/g,""));var l=new RegExp(c,g.replace(/g/g,"")),n=[];do for(c=0;g=b.exec(a);)if(l.test(g[0]))c++||
(f=b.lastIndex,h=f-g[0].length);else if(c&&!--c&&(k=g.index+g[0].length,n.push({left:{start:h,end:f},match:{start:f,end:g.index},right:{start:g.index,end:k},wholeMatch:{start:h,end:k}}),!d))return n;while(c&&(b.lastIndex=f));return n};d.helper.matchRecursiveRegExp=function(a,c,b,d){c=C(a,c,b,d);b=[];for(d=0;d<c.length;++d)b.push([a.slice(c[d].wholeMatch.start,c[d].wholeMatch.end),a.slice(c[d].match.start,c[d].match.end),a.slice(c[d].left.start,c[d].left.end),a.slice(c[d].right.start,c[d].right.end)]);
return b};d.helper.replaceRecursiveRegExp=function(a,c,b,e,f){if(!d.helper.isFunction(c)){var g=c;c=function(){return g}}b=C(a,b,e,f);f=a;e=b.length;if(0<e){f=[];0!==b[0].wholeMatch.start&&f.push(a.slice(0,b[0].wholeMatch.start));for(var h=0;h<e;++h)f.push(c(a.slice(b[h].wholeMatch.start,b[h].wholeMatch.end),a.slice(b[h].match.start,b[h].match.end),a.slice(b[h].left.start,b[h].left.end),a.slice(b[h].right.start,b[h].right.end))),h<e-1&&f.push(a.slice(b[h].wholeMatch.end,b[h+1].wholeMatch.start));
b[e-1].wholeMatch.end<a.length&&f.push(a.slice(b[e-1].wholeMatch.end));f=f.join("")}return f};d.helper.regexIndexOf=function(a,c,b){if(!d.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(0==c instanceof RegExp)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";a=a.substring(b||0).search(c);return 0<=a?a+(b||0):a};d.helper.splitAtIndex=function(a,c){if(!d.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";
return[a.substring(0,c),a.substring(c)]};d.helper.encodeEmailAddress=function(a){var c=[function(a){return"\x26#"+a.charCodeAt(0)+";"},function(a){return"\x26#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a=a.replace(/./g,function(a){if("@"===a)a=c[Math.floor(2*Math.random())](a);else{var d=Math.random();a=.9<d?c[2](a):.45<d?c[1](a):c[0](a)}return a})};"undefined"==typeof console&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a;}});d.helper.regexes=
{asteriskAndDash:/([*_])/g};d.Converter=function(a){function c(a,c){if(c=c||null,d.helper.isString(a)){if(a=d.helper.stdExtName(a),c=a,d.extensions[a]){console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");var f=d.extensions[a],e=a;"function"==typeof f&&(f=f(new d.Converter));d.helper.isArray(f)||(f=[f]);e=x(f,e);if(!e.valid)throw Error(e.error);for(e=0;e<f.length;++e)switch(f[e].type){case "lang":g.push(f[e]);
break;case "output":h.push(f[e]);break;default:throw Error("Extension loader error: Type unrecognized!!!");}return}if(d.helper.isUndefined(q[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=q[a]}"function"==typeof a&&(a=a());d.helper.isArray(a)||(a=[a]);e=x(a,c);if(!e.valid)throw Error(e.error);for(e=0;e<a.length;++e){switch(a[e].type){case "lang":g.push(a[e]);break;case "output":h.push(a[e])}if(a[e].hasOwnProperty("listeners"))for(f in a[e].listeners)a[e].listeners.hasOwnProperty(f)&&
b(f,a[e].listeners[f])}}function b(a,b){if(!d.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");k.hasOwnProperty(a)||(k[a]=[]);k[a].push(b)}function e(a){var b=a.match(/^\s*/)[0].length;return a.replace(new RegExp("^\\s{0,"+b+"}","gm"),"")}var f={},g=[],h=[],k={},l=z;!function(){a=a||{};
for(var b in r)r.hasOwnProperty(b)&&(f[b]=r[b]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);f.extensions&&d.helper.forEach(f.extensions,c)}();this._dispatch=function(a,b,c,d){if(k.hasOwnProperty(a))for(var g=0;g<k[a].length;++g){var f=k[a][g](a,b,this,c,d);f&&void 0!==f&&(b=f)}return b};this.listen=function(a,c){return b(a,c),this};this.makeHtml=function(a){if(!a)return a;
var b={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:g,outputModifiers:h,converter:this,ghCodeBlocks:[]};return a=a.replace(/¨/g,"¨T"),a=a.replace(/\$/g,"¨D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a=a.replace(/\u00A0/g," "),f.smartIndentationFix&&(a=e(a)),a="\n\n"+a+"\n\n",a=d.subParser("detab")(a,f,b),a=a.replace(/^[ \t]+$/gm,""),d.helper.forEach(g,function(c){a=d.subParser("runExtension")(c,a,f,b)}),a=d.subParser("hashPreCodeTags")(a,
f,b),a=d.subParser("githubCodeBlocks")(a,f,b),a=d.subParser("hashHTMLBlocks")(a,f,b),a=d.subParser("hashCodeTags")(a,f,b),a=d.subParser("stripLinkDefinitions")(a,f,b),a=d.subParser("blockGamut")(a,f,b),a=d.subParser("unhashHTMLSpans")(a,f,b),a=d.subParser("unescapeSpecialChars")(a,f,b),a=a.replace(/¨D/g,"$$"),a=a.replace(/¨T/g,"¨"),d.helper.forEach(h,function(c){a=d.subParser("runExtension")(c,a,f,b)}),a};this.setOption=function(a,b){f[a]=b};this.getOption=function(a){return f[a]};this.getOptions=
function(){return f};this.addExtension=function(a,b){c(a,b||null)};this.useExtension=function(a){c(a)};this.setFlavor=function(a){if(!v.hasOwnProperty(a))throw Error(a+" flavor was not found");var b=v[a];l=a;for(var c in b)b.hasOwnProperty(c)&&(f[c]=b[c])};this.getFlavor=function(){return l};this.removeExtension=function(a){d.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var c=a[b],f=0;f<g.length;++f)g[f]===c&&g[f].splice(f,1);for(;0<h.length;++f)h[0]===c&&h[0].splice(f,1)}};this.getAllExtensions=
function(){return{language:g,output:h}}};d.subParser("anchors",function(a,c,b){a=b.converter._dispatch("anchors.before",a,c,b);var e=function(a,g,e,k,l,n,m){if(d.helper.isUndefined(m)&&(m=""),e=e.toLowerCase(),-1<a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))k="";else if(!k){if(e||(e=g.toLowerCase().replace(/ ?\n/g," ")),d.helper.isUndefined(b.gUrls[e]))return a;k=b.gUrls[e];d.helper.isUndefined(b.gTitles[e])||(m=b.gTitles[e])}k=k.replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback);
a='\x3ca href\x3d"'+k+'"';return""!==m&&null!==m&&(m=m.replace(/"/g,"\x26quot;"),m=m.replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback),a+=' title\x3d"'+m+'"'),c.openLinksInNewWindow&&(a+=' target\x3d"¨E95Eblank"'),a+("\x3e"+g+"\x3c/a\x3e")};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,e),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,e),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
e),a=a.replace(/\[([^\[\]]+)]()()()()()/g,e),c.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gim,function(a,b,e,k,l){if("\\"===e)return b+k;if(!d.helper.isString(c.ghMentionsLink))throw Error("ghMentionsLink option must be a string");a=c.ghMentionsLink.replace(/\{u}/g,l);e="";return c.openLinksInNewWindow&&(e=' target\x3d"¨E95Eblank"'),b+'\x3ca href\x3d"'+a+'"'+e+"\x3e"+k+"\x3c/a\x3e"})),a=b.converter._dispatch("anchors.after",a,c,b)});var F=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)()(?=\s|$)(?!["<>])/gi,
G=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]]?)(?=\s|$)(?!["<>])/gi,H=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>/gi,I=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-\/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,J=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,A=function(a){return function(c,b,d,f,g){c=b;f=d="";return/^www\./i.test(b)&&(b=b.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&g&&(d=g),a.openLinksInNewWindow&&
(f=' target\x3d"¨E95Eblank"'),'\x3ca href\x3d"'+b+'"'+f+"\x3e"+c+"\x3c/a\x3e"+d}},E=function(a,c){return function(b,e,f){b="mailto:";return e=e||"",f=d.subParser("unescapeSpecialChars")(f,a,c),a.encodeEmails?(b=d.helper.encodeEmailAddress(b+f),f=d.helper.encodeEmailAddress(f)):b+=f,e+'\x3ca href\x3d"'+b+'"\x3e'+f+"\x3c/a\x3e"}};d.subParser("autoLinks",function(a,c,b){return a=b.converter._dispatch("autoLinks.before",a,c,b),a=a.replace(H,A(c)),a=a.replace(J,E(c,b)),b.converter._dispatch("autoLinks.after",
a,c,b)});d.subParser("simplifiedAutoLinks",function(a,c,b){return c.simplifiedAutoLink?(a=b.converter._dispatch("simplifiedAutoLinks.before",a,c,b),a=c.excludeTrailingPunctuationFromURLs?a.replace(G,A(c)):a.replace(F,A(c)),a=a.replace(I,E(c,b)),b.converter._dispatch("simplifiedAutoLinks.after",a,c,b)):a});d.subParser("blockGamut",function(a,c,b){return a=b.converter._dispatch("blockGamut.before",a,c,b),a=d.subParser("blockQuotes")(a,c,b),a=d.subParser("headers")(a,c,b),a=d.subParser("horizontalRule")(a,
c,b),a=d.subParser("lists")(a,c,b),a=d.subParser("codeBlocks")(a,c,b),a=d.subParser("tables")(a,c,b),a=d.subParser("hashHTMLBlocks")(a,c,b),a=d.subParser("paragraphs")(a,c,b),b.converter._dispatch("blockGamut.after",a,c,b)});d.subParser("blockQuotes",function(a,c,b){return a=b.converter._dispatch("blockQuotes.before",a,c,b),a=a.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,f){var g=f;return g=g.replace(/^[ \t]*>[ \t]?/gm,"¨0"),g=g.replace(/¨0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=d.subParser("githubCodeBlocks")(g,
c,b),g=d.subParser("blockGamut")(g,c,b),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"¨0"),c.replace(/¨0/g,"")}),d.subParser("hashBlock")("\x3cblockquote\x3e\n"+g+"\n\x3c/blockquote\x3e",c,b)}),a=b.converter._dispatch("blockQuotes.after",a,c,b)});d.subParser("codeBlocks",function(a,c,b){a=b.converter._dispatch("codeBlocks.before",a,c,b);a+="¨0";return a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,
function(a,f,g){a=f;f="\n";return a=d.subParser("outdent")(a,c,b),a=d.subParser("encodeCode")(a,c,b),a=d.subParser("detab")(a,c,b),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),c.omitExtraWLInCodeBlocks&&(f=""),a="\x3cpre\x3e\x3ccode\x3e"+a+f+"\x3c/code\x3e\x3c/pre\x3e",d.subParser("hashBlock")(a,c,b)+g}),a=a.replace(/¨0/,""),a=b.converter._dispatch("codeBlocks.after",a,c,b)});d.subParser("codeSpans",function(a,c,b){return a=b.converter._dispatch("codeSpans.before",a,c,b),void 0===a&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,
function(a,f,g,h){a=h;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=d.subParser("encodeCode")(a,c,b),f+"\x3ccode\x3e"+a+"\x3c/code\x3e"}),a=b.converter._dispatch("codeSpans.after",a,c,b)});d.subParser("detab",function(a,c,b){return a=b.converter._dispatch("detab.before",a,c,b),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"¨A¨B"),a=a.replace(/¨B(.+?)¨A/g,function(a,b){for(var c=b,d=4-c.length%4,k=0;k<d;k++)c+=" ";return c}),a=a.replace(/¨A/g,"    "),a=a.replace(/¨B/g,""),a=
b.converter._dispatch("detab.after",a,c,b)});d.subParser("encodeAmpsAndAngles",function(a,c,b){return a=b.converter._dispatch("encodeAmpsAndAngles.before",a,c,b),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"\x26amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"\x26lt;"),a=a.replace(/</g,"\x26lt;"),a=a.replace(/>/g,"\x26gt;"),b.converter._dispatch("encodeAmpsAndAngles.after",a,c,b)});d.subParser("encodeBackslashEscapes",function(a,c,b){return a=b.converter._dispatch("encodeBackslashEscapes.before",a,c,
b),a=a.replace(/\\(\\)/g,d.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,d.helper.escapeCharactersCallback),b.converter._dispatch("encodeBackslashEscapes.after",a,c,b)});d.subParser("encodeCode",function(a,c,b){return a=b.converter._dispatch("encodeCode.before",a,c,b),a=a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/([*_{}\[\]\\=~-])/g,d.helper.escapeCharactersCallback),b.converter._dispatch("encodeCode.after",a,c,b)});d.subParser("escapeSpecialCharsWithinTagAttributes",
function(a,c,b){a=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,c,b);return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(a){return a.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,d.helper.escapeCharactersCallback)}),a=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,c,b)});d.subParser("githubCodeBlocks",function(a,c,b){return c.ghCodeBlocks?(a=b.converter._dispatch("githubCodeBlocks.before",a,c,b),a+="¨0",
a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,f,g){var h=c.omitExtraWLInCodeBlocks?"":"\n";return g=d.subParser("encodeCode")(g,c,b),g=d.subParser("detab")(g,c,b),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),g="\x3cpre\x3e\x3ccode"+(f?' class\x3d"'+f+" language-"+f+'"':"")+"\x3e"+g+h+"\x3c/code\x3e\x3c/pre\x3e",g=d.subParser("hashBlock")(g,c,b),"\n\n¨G"+(b.ghCodeBlocks.push({text:a,codeblock:g})-1)+"G\n\n"}),a=a.replace(/¨0/,""),b.converter._dispatch("githubCodeBlocks.after",a,c,b)):
a});d.subParser("hashBlock",function(a,c,b){return a=b.converter._dispatch("hashBlock.before",a,c,b),a=a.replace(/(^\n+|\n+$)/g,""),a="\n\n¨K"+(b.gHtmlBlocks.push(a)-1)+"K\n\n",b.converter._dispatch("hashBlock.after",a,c,b)});d.subParser("hashCodeTags",function(a,c,b){a=b.converter._dispatch("hashCodeTags.before",a,c,b);return a=d.helper.replaceRecursiveRegExp(a,function(a,f,g,h){a=g+d.subParser("encodeCode")(f,c,b)+h;return"¨C"+(b.gHtmlSpans.push(a)-1)+"C"},"\x3ccode\\b[^\x3e]*\x3e","\x3c/code\x3e",
"gim"),a=b.converter._dispatch("hashCodeTags.after",a,c,b)});d.subParser("hashElement",function(a,c,b){return function(a,c){var d=c;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),"\n\n¨K"+(b.gHtmlBlocks.push(d)-1)+"K\n\n"}});d.subParser("hashHTMLBlocks",function(a,c,b){a=b.converter._dispatch("hashHTMLBlocks.before",a,c,b);var e="pre div h1 h2 h3 h4 h5 h6 blockquote table dl ol ul script noscript form fieldset iframe math style section header footer nav article aside address audio canvas figure hgroup output video p".split(" "),
f=function(a,c,d,f){return-1!==d.search(/\bmarkdown\b/)&&(a=d+b.converter.makeHtml(c)+f),"\n\n¨K"+(b.gHtmlBlocks.push(a)-1)+"K\n\n"};c.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(a,b){return"\x26lt;"+b+"\x26gt;"}));for(var g=0;g<e.length;++g)for(var h,k=new RegExp("^ {0,3}(\x3c"+e[g]+"\\b[^\x3e]*\x3e)","im"),l="\x3c"+e[g]+"\\b[^\x3e]*\x3e",n="\x3c/"+e[g]+"\x3e";-1!==(h=d.helper.regexIndexOf(a,k));){h=d.helper.splitAtIndex(a,h);var m=d.helper.replaceRecursiveRegExp(h[1],f,l,
n,"im");if(m===h[1])break;a=h[0].concat(m)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,c,b)),a=d.helper.replaceRecursiveRegExp(a,function(a){return"\n\n¨K"+(b.gHtmlBlocks.push(a)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,c,b)),a=b.converter._dispatch("hashHTMLBlocks.after",a,c,b)});d.subParser("hashHTMLSpans",function(a,c,b){function d(a){return"¨C"+
(b.gHtmlSpans.push(a)-1)+"C"}return a=b.converter._dispatch("hashHTMLSpans.before",a,c,b),a=a.replace(/<[^>]+?\/>/gi,function(a){return d(a)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(a){return d(a)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(a){return d(a)}),a=a.replace(/<[^>]+?>/gi,function(a){return d(a)}),a=b.converter._dispatch("hashHTMLSpans.after",a,c,b)});d.subParser("unhashHTMLSpans",function(a,c,b){a=b.converter._dispatch("unhashHTMLSpans.before",a,c,b);for(var d=
0;d<b.gHtmlSpans.length;++d){for(var f=b.gHtmlSpans[d],g=0;/¨C(\d+)C/.test(f);){var h=RegExp.$1;if(f=f.replace("¨C"+h+"C",b.gHtmlSpans[h]),10===g)break;++g}a=a.replace("¨C"+d+"C",f)}return b.converter._dispatch("unhashHTMLSpans.after",a,c,b)});d.subParser("hashPreCodeTags",function(a,c,b){a=b.converter._dispatch("hashPreCodeTags.before",a,c,b);return a=d.helper.replaceRecursiveRegExp(a,function(a,f,g,h){f=g+d.subParser("encodeCode")(f,c,b)+h;return"\n\n¨G"+(b.ghCodeBlocks.push({text:a,codeblock:f})-
1)+"G\n\n"},"^ {0,3}\x3cpre\\b[^\x3e]*\x3e\\s*\x3ccode\\b[^\x3e]*\x3e","^ {0,3}\x3c/code\x3e\\s*\x3c/pre\x3e","gim"),a=b.converter._dispatch("hashPreCodeTags.after",a,c,b)});d.subParser("headers",function(a,c,b){function e(a){var g,f;if(c.customizedHeaderId){var e=a.match(/\{([^{]+?)}\s*$/);e&&e[1]&&(a=e[1])}return g=a,f=d.helper.isString(c.prefixHeaderId)?c.prefixHeaderId:!0===c.prefixHeaderId?"section-":"",c.rawPrefixHeaderId||(g=f+g),g=c.ghCompatibleHeaderId?g.replace(/ /g,"-").replace(/&amp;/g,
"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():c.rawHeaderId?g.replace(/ /g,"-").replace(/&amp;/g,"\x26").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():g.replace(/[^\w]/g,"").toLowerCase(),c.rawPrefixHeaderId&&(g=f+g),b.hashLinkCounts[g]?g=g+"-"+b.hashLinkCounts[g]++:b.hashLinkCounts[g]=1,g}a=b.converter._dispatch("headers.before",a,c,b);var f=isNaN(parseInt(c.headerLevelStart))?1:parseInt(c.headerLevelStart),g=
c.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(c.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,g){var l=d.subParser("spanGamut")(g,c,b),n=c.noHeaderId?"":' id\x3d"'+e(g)+'"',l="\x3ch"+f+n+"\x3e"+l+"\x3c/h"+f+"\x3e";return d.subParser("hashBlock")(l,c,b)});a=a.replace(g,function(a,g){var l=d.subParser("spanGamut")(g,c,b),n=c.noHeaderId?"":' id\x3d"'+e(g)+'"',m=f+1,l="\x3ch"+m+n+"\x3e"+l+"\x3c/h"+m+"\x3e";return d.subParser("hashBlock")(l,
c,b)});return a=a.replace(c.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,g,l){a=l;c.customizedHeaderId&&(a=l.replace(/\s?\{([^{]+?)}\s*$/,""));a=d.subParser("spanGamut")(a,c,b);l=c.noHeaderId?"":' id\x3d"'+e(l)+'"';g=f-1+g.length;g="\x3ch"+g+l+"\x3e"+a+"\x3c/h"+g+"\x3e";return d.subParser("hashBlock")(g,c,b)}),a=b.converter._dispatch("headers.after",a,c,b)});d.subParser("horizontalRule",function(a,c,b){a=b.converter._dispatch("horizontalRule.before",
a,c,b);var e=d.subParser("hashBlock")("\x3chr /\x3e",c,b);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,e),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,e),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,e),b.converter._dispatch("horizontalRule.after",a,c,b)});d.subParser("images",function(a,c,b){function e(a,c,e,k,l,n,m,p){m=b.gUrls;var D=b.gTitles,t=b.gDimensions;if(e=e.toLowerCase(),p||(p=""),-1<a.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))k="";else if(""===k||null===k){if(""!==e&&null!==e||(e=c.toLowerCase().replace(/ ?\n/g,
" ")),d.helper.isUndefined(m[e]))return a;k=m[e];d.helper.isUndefined(D[e])||(p=D[e]);d.helper.isUndefined(t[e])||(l=t[e].width,n=t[e].height)}c=c.replace(/"/g,"\x26quot;").replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback);k=k.replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback);a='\x3cimg src\x3d"'+k+'" alt\x3d"'+c+'"';return p&&(p=p.replace(/"/g,"\x26quot;").replace(d.helper.regexes.asteriskAndDash,d.helper.escapeCharactersCallback),a+=' title\x3d"'+
p+'"'),l&&n&&(l="*"===l?"auto":l,n="*"===n?"auto":n,a+=' width\x3d"'+l+'"',a+=' height\x3d"'+n+'"'),a+" /\x3e"}a=b.converter._dispatch("images.before",a,c,b);return a=a.replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,e),a=a.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+\/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(a,b,c,d,l,n,m,p){return d=d.replace(/\s/g,""),e(a,b,c,d,l,n,m,p)}),a=a.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,
e),a=a.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,e),a=a.replace(/!\[([^\[\]]+)]()()()()()/g,e),a=b.converter._dispatch("images.after",a,c,b)});d.subParser("italicsAndBold",function(a,c,b){function e(a,g,e){return c.simplifiedAutoLink&&(a=d.subParser("simplifiedAutoLinks")(a,c,b)),g+a+e}return a=b.converter._dispatch("italicsAndBold.before",a,c,b),c.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*)___\b/g,
function(a,b){return e(b,"\x3cstrong\x3e\x3cem\x3e","\x3c/em\x3e\x3c/strong\x3e")}),a=a.replace(/\b__(\S[\s\S]*)__\b/g,function(a,b){return e(b,"\x3cstrong\x3e","\x3c/strong\x3e")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(a,b){return e(b,"\x3cem\x3e","\x3c/em\x3e")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cstrong\x3e\x3cem\x3e","\x3c/em\x3e\x3c/strong\x3e"):a}),a=a.replace(/__(\S[\s\S]*?)__/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cstrong\x3e","\x3c/strong\x3e"):
a}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cem\x3e","\x3c/em\x3e"):a})),c.literalMidWordAsterisks?(a=a.trim().replace(/(^| )\*{3}(\S[\s\S]*?)\*{3}([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,b+"\x3cstrong\x3e\x3cem\x3e","\x3c/em\x3e\x3c/strong\x3e"+d)}),a=a.trim().replace(/(^| )\*{2}(\S[\s\S]*?)\*{2}([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,b+"\x3cstrong\x3e","\x3c/strong\x3e"+d)}),a=a.trim().replace(/(^| )\*(\S[\s\S]*?)\*([ ,;!?.]|$)/g,function(a,b,c,d){return e(c,
b+"\x3cem\x3e","\x3c/em\x3e"+d)})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cstrong\x3e\x3cem\x3e","\x3c/em\x3e\x3c/strong\x3e"):a}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cstrong\x3e","\x3c/strong\x3e"):a}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(a,b){return/\S$/.test(b)?e(b,"\x3cem\x3e","\x3c/em\x3e"):a})),a=b.converter._dispatch("italicsAndBold.after",a,c,b)});d.subParser("lists",function(a,c,b){function e(a,
e){b.gListLevel++;a=a.replace(/\n{2,}$/,"\n");a+="¨0";var f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,l=/\n[ \t]*\n(?!¨0)/.test(a);return c.disableForced4SpacesIndentedSublists&&(f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),a=a.replace(f,function(a,e,g,f,h,k,u){u=u&&""!==u.trim();a=d.subParser("outdent")(h,c,b);g="";return k&&c.tasklists&&(g=' class\x3d"task-list-item" style\x3d"list-style-type: none;"',
a=a.replace(/^[ \t]*\[(x|X| )?]/m,function(){var a='\x3cinput type\x3d"checkbox" disabled style\x3d"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return u&&(a+=" checked"),a+"\x3e"})),a=a.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(a){return"¨A"+a}),e||-1<a.search(/\n{2,}/)?(a=d.subParser("githubCodeBlocks")(a,c,b),a=d.subParser("blockGamut")(a,c,b)):(a=d.subParser("lists")(a,c,b),a=a.replace(/\n$/,""),a=d.subParser("hashHTMLBlocks")(a,c,b),a=a.replace(/\n\n+/g,"\n\n"),a=l?d.subParser("paragraphs")(a,
c,b):d.subParser("spanGamut")(a,c,b)),a=a.replace("¨A",""),a="\x3cli"+g+"\x3e"+a+"\x3c/li\x3e\n"}),a=a.replace(/¨0/g,""),b.gListLevel--,e&&(a=a.replace(/\s+$/,"")),a}function f(a,b,d){var f=c.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,n=c.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,m="ul"===b?f:n,p="";return-1!==a.search(m)?function t(a){var c=a.search(m);-1!==c?(p+="\n\x3c"+b+"\x3e\n"+e(a.slice(0,c),!!d)+"\x3c/"+b+"\x3e\n",b="ul"===
b?"ol":"ul",m="ul"===b?f:n,t(a.slice(c))):p+="\n\x3c"+b+"\x3e\n"+e(a,!!d)+"\x3c/"+b+"\x3e\n"}(a):p="\n\x3c"+b+"\x3e\n"+e(a,!!d)+"\x3c/"+b+"\x3e\n",p}return a=b.converter._dispatch("lists.before",a,c,b),a+="¨0",a=b.gListLevel?a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(a,b,c){return f(b,-1<c.search(/[*+-]/g)?"ul":"ol",!0)}):a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
function(a,b,c,d){return f(c,-1<d.search(/[*+-]/g)?"ul":"ol",!1)}),a=a.replace(/¨0/,""),a=b.converter._dispatch("lists.after",a,c,b)});d.subParser("outdent",function(a,c,b){return a=b.converter._dispatch("outdent.before",a,c,b),a=a.replace(/^(\t|[ ]{1,4})/gm,"¨0"),a=a.replace(/¨0/g,""),b.converter._dispatch("outdent.after",a,c,b)});d.subParser("paragraphs",function(a,c,b){a=b.converter._dispatch("paragraphs.before",a,c,b);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");for(var e=a.split(/\n{2,}/g),
f=[],g=e.length,h=0;h<g;h++){var k=e[h];0<=k.search(/¨(K|G)(\d+)\1/g)?f.push(k):0<=k.search(/\S/)&&(k=d.subParser("spanGamut")(k,c,b),k=k.replace(/^([ \t]*)/g,"\x3cp\x3e"),k+="\x3c/p\x3e",f.push(k))}g=f.length;for(h=0;h<g;h++){for(var l="",e=f[h],k=!1;/¨(K|G)(\d+)\1/.test(e);)l=RegExp.$2,l="K"===RegExp.$1?b.gHtmlBlocks[l]:k?d.subParser("encodeCode")(b.ghCodeBlocks[l].text,c,b):b.ghCodeBlocks[l].codeblock,l=l.replace(/\$/g,"$$$$"),e=e.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(e)&&
(k=!0);f[h]=e}return a=f.join("\n"),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),b.converter._dispatch("paragraphs.after",a,c,b)});d.subParser("runExtension",function(a,c,b,d){a.filter?c=a.filter(c,d.converter,b):a.regex&&(b=a.regex,b instanceof RegExp||(b=new RegExp(b,"g")),c=c.replace(b,a.replace));return c});d.subParser("spanGamut",function(a,c,b){return a=b.converter._dispatch("spanGamut.before",a,c,b),a=d.subParser("codeSpans")(a,c,b),a=d.subParser("escapeSpecialCharsWithinTagAttributes")(a,
c,b),a=d.subParser("encodeBackslashEscapes")(a,c,b),a=d.subParser("images")(a,c,b),a=d.subParser("anchors")(a,c,b),a=d.subParser("autoLinks")(a,c,b),a=d.subParser("italicsAndBold")(a,c,b),a=d.subParser("strikethrough")(a,c,b),a=d.subParser("simplifiedAutoLinks")(a,c,b),a=d.subParser("hashHTMLSpans")(a,c,b),a=d.subParser("encodeAmpsAndAngles")(a,c,b),c.simpleLineBreaks?/\n\n¨K/.test(a)||(a=a.replace(/\n+/g,"\x3cbr /\x3e\n")):a=a.replace(/  +\n/g,"\x3cbr /\x3e\n"),b.converter._dispatch("spanGamut.after",
a,c,b)});d.subParser("strikethrough",function(a,c,b){return c.strikethrough&&(a=b.converter._dispatch("strikethrough.before",a,c,b),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(a,f){var g=f;return c.simplifiedAutoLink&&(g=d.subParser("simplifiedAutoLinks")(g,c,b)),"\x3cdel\x3e"+g+"\x3c/del\x3e"}),a=b.converter._dispatch("strikethrough.after",a,c,b)),a});d.subParser("stripLinkDefinitions",function(a,c,b){a+="¨0";var e=function(a,e,h,k,l,n,m){return e=e.toLowerCase(),h.match(/^data:.+?\/.+?;base64,/)?
b.gUrls[e]=h.replace(/\s/g,""):b.gUrls[e]=d.subParser("encodeAmpsAndAngles")(h,c,b),n?n+m:(m&&(b.gTitles[e]=m.replace(/"|'/g,"\x26quot;")),c.parseImgDimensions&&k&&l&&(b.gDimensions[e]={width:k,height:l}),"")};return a=a.replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+\/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,e),a=a.replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,
e),a=a.replace(/¨0/,"")});d.subParser("tables",function(a,c,b){function e(a){return/^:[ \t]*--*$/.test(a)?' style\x3d"text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style\x3d"text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style\x3d"text-align:center;"':""}function f(a,e){var f="";return a=a.trim(),(c.tablesHeaderId||c.tableHeaderId)&&(f=' id\x3d"'+a.replace(/ /g,"_").toLowerCase()+'"'),a=d.subParser("spanGamut")(a,c,b),"\x3cth"+f+e+"\x3e"+a+"\x3c/th\x3e\n"}function g(a,e){return"\x3ctd"+e+
"\x3e"+d.subParser("spanGamut")(a,c,b)+"\x3c/td\x3e\n"}function h(a,b){for(var c="\x3ctable\x3e\n\x3cthead\x3e\n\x3ctr\x3e\n",d=a.length,e=0;e<d;++e)c+=a[e];c+="\x3c/tr\x3e\n\x3c/thead\x3e\n\x3ctbody\x3e\n";for(e=0;e<b.length;++e){for(var c=c+"\x3ctr\x3e\n",f=0;f<d;++f)c+=b[e][f];c+="\x3c/tr\x3e\n"}return c+"\x3c/tbody\x3e\n\x3c/table\x3e\n"}function k(a){var b,c=a.split("\n");for(b=0;b<c.length;++b)/^ {0,3}\|/.test(c[b])&&(c[b]=c[b].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(c[b])&&(c[b]=c[b].replace(/\|[ \t]*$/,
""));var k=c[0].split("|").map(function(a){return a.trim()}),q=c[1].split("|").map(function(a){return a.trim()}),t=[],r=[],u=[],v=[];c.shift();c.shift();for(b=0;b<c.length;++b)""!==c[b].trim()&&t.push(c[b].split("|").map(function(a){return a.trim()}));if(k.length<q.length)return a;for(b=0;b<q.length;++b)u.push(e(q[b]));for(b=0;b<k.length;++b)d.helper.isUndefined(u[b])&&(u[b]=""),r.push(f(k[b],u[b]));for(b=0;b<t.length;++b){a=[];for(c=0;c<r.length;++c)d.helper.isUndefined(t[b][c]),a.push(g(t[b][c],
u[c]));v.push(a)}return h(r,v)}return c.tables?(a=b.converter._dispatch("tables.before",a,c,b),a=a.replace(/\\(\|)/g,d.helper.escapeCharactersCallback),a=a.replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,k),a=a.replace(/^ {0,3}\|.+\|\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|\n( {0,3}\|.+\|\n)*(?:\n|¨0)/gm,k),a=b.converter._dispatch("tables.after",a,c,b)):a});d.subParser("unescapeSpecialChars",function(a,c,b){return a=
b.converter._dispatch("unescapeSpecialChars.before",a,c,b),a=a.replace(/¨E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a=b.converter._dispatch("unescapeSpecialChars.after",a,c,b)});"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:this.showdown=d}).call(this);