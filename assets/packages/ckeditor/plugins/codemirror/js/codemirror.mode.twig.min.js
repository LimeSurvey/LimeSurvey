!function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("addon/mode/multiplex.js",["../../lib/codemirror"],k):k(CodeMirror)}(function(k){k.multiplexingMode=function(p){function q(b,g,f,e){return"string"==typeof g?(f=b.indexOf(g,f),e&&-1<f?f+g.length:f):(g=g.exec(f?b.slice(f):b))?g.index+f+(e?g[0].length:0):-1}var t=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:k.startState(p),
innerActive:null,inner:null,startingInner:!1}},copyState:function(b){return{outer:k.copyState(p,b.outer),innerActive:b.innerActive,inner:b.innerActive&&k.copyState(b.innerActive.mode,b.inner),startingInner:b.startingInner}},token:function(b,g){if(g.innerActive){var f=g.innerActive,e=b.string;if(!f.close&&b.sol())return g.innerActive=g.inner=null,this.token(b,g);var h=f.close&&!g.startingInner?q(e,f.close,b.pos,f.parseDelimiters):-1;if(h==b.pos&&!f.parseDelimiters)return b.match(f.close),g.innerActive=
g.inner=null,f.delimStyle&&f.delimStyle+" "+f.delimStyle+"-close";-1<h&&(b.string=e.slice(0,h));var l=f.mode.token(b,g.inner);return-1<h?b.string=e:b.pos>b.start&&(g.startingInner=!1),h==b.pos&&f.parseDelimiters&&(g.innerActive=g.inner=null),f.innerStyle&&(l=l?l+" "+f.innerStyle:f.innerStyle),l}for(var l=1/0,e=b.string,r=0;r<t.length;++r){f=t[r];h=q(e,f.open,b.pos);if(h==b.pos)return f.parseDelimiters||b.match(f.open),g.startingInner=!!f.parseDelimiters,g.innerActive=f,e=0,p.indent&&(h=p.indent(g.outer,
"",""),h!==k.Pass&&(e=h)),g.inner=k.startState(f.mode,e),f.delimStyle&&f.delimStyle+" "+f.delimStyle+"-open";-1!=h&&h<l&&(l=h)}l!=1/0&&(b.string=e.slice(0,l));h=p.token(b,g.outer);return l!=1/0&&(b.string=e),h},indent:function(b,g,f){var e=b.innerActive?b.innerActive.mode:p;return e.indent?e.indent(b.innerActive?b.inner:b.outer,g,f):k.Pass},blankLine:function(b){var g=b.innerActive?b.innerActive.mode:p;if(g.blankLine&&g.blankLine(b.innerActive?b.inner:b.outer),b.innerActive)"\n"===b.innerActive.close&&
(b.innerActive=b.inner=null);else for(var f=0;f<t.length;++f){var e=t[f];"\n"===e.open&&(b.innerActive=e,b.inner=k.startState(e.mode,g.indent?g.indent(b.outer,"",""):0))}},electricChars:p.electricChars,innerMode:function(b){return b.inner?{state:b.inner,mode:b.innerActive.mode}:{state:b.outer,mode:p}}}}});
(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror"),require("../../addon/mode/multiplex")):"function"==typeof define&&define.amd?define("mode/twig/twig.js",["../../lib/codemirror","../../addon/mode/multiplex"],k):k(CodeMirror)})(function(k){k.defineMode("twig:inner",function(){function k(e,h){var l=e.peek();if(h.incomment)return e.skipTo("#}")?(e.eatWhile(/\#|}/),h.incomment=!1):e.skipToEnd(),"comment";if(h.intag){if(h.operator){if(h.operator=!1,e.match(g))return"atom";
if(e.match(f))return"number"}if(h.sign){if(h.sign=!1,e.match(g))return"atom";if(e.match(f))return"number"}if(h.instring)return l==h.instring&&(h.instring=!1),e.next(),"string";if("'"==l||'"'==l)return h.instring=l,e.next(),"string";if(e.match(h.intag+"}")||e.eat("-")&&e.match(h.intag+"}"))return h.intag=!1,"tag";if(e.match(t))return h.operator=!0,"operator";if(e.match(b))h.sign=!0;else if(e.eat(" ")||e.sol()){if(e.match(q))return"keyword";if(e.match(g))return"atom";if(e.match(f))return"number";e.sol()&&
e.next()}else e.next();return"variable"}if(e.eat("{")){if(e.eat("#"))return h.incomment=!0,e.skipTo("#}")?(e.eatWhile(/\#|}/),h.incomment=!1):e.skipToEnd(),"comment";if(l=e.eat(/\{|%/))return h.intag=l,"{"==l&&(h.intag="}"),e.eat("-"),"tag"}e.next()}var q="and as autoescape endautoescape block do endblock else elseif extends for endfor embed endembed filter endfilter flush from if endif in is include import not or set spaceless endspaceless with endwith trans endtrans blocktrans endblocktrans macro endmacro use verbatim endverbatim".split(" "),
t=/^[+\-*&%=<>!?|~^]/,b=/^[:\[\(\{]/,g="true;false;null;empty;defined;divisibleby;divisible by;even;odd;iterable;sameas;same as".split(";"),f=/^(\d[+\-\*\/])?\d+(\.\d+)?/;return q=new RegExp("(("+q.join(")|(")+"))\\b"),g=new RegExp("(("+g.join(")|(")+"))\\b"),{startState:function(){return{}},token:function(b,f){return k(b,f)}}});k.defineMode("twig",function(p,q){var t=k.getMode(p,"twig:inner");return q&&q.base?k.multiplexingMode(k.getMode(p,q.base),{open:/\{[{#%]/,close:/[}#%]\}/,mode:t,parseDelimiters:!0}):
t});k.defineMIME("text/x-twig","twig")});
(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("mode/xml/xml.js",["../../lib/codemirror"],k):k(CodeMirror)})(function(k){var p={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},
contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},
allowUnquoted:!0,allowMissing:!0,caseFold:!0},q={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};k.defineMode("xml",function(t,b){function g(a,d){function c(c){return d.tokenize=c,c(a,d)}var b=a.next();if("\x3c"==b)return a.eat("!")?a.eat("[")?a.match("CDATA[")?c(h("atom","]]\x3e")):null:a.match("--")?c(h("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(l(1))):null:a.eat("?")?(a.eatWhile(/[\w\._\-]/),
d.tokenize=h("meta","?\x3e"),"meta"):(v=a.eat("/")?"closeTag":"openTag",d.tokenize=f,"tag bracket");if("\x26"==b){var e;return e=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),e?"atom":"error"}return a.eatWhile(/[^&<]/),null}function f(a,d){var c=a.next();return"\x3e"==c||"/"==c&&a.eat("\x3e")?(d.tokenize=g,v="\x3e"==c?"endTag":"selfcloseTag","tag bracket"):"\x3d"==c?(v="equals",null):"\x3c"==c?(d.tokenize=g,d.state=x,
d.tagName=d.tagStart=null,(c=d.tokenize(a,d))?c+" tag error":"tag error"):/[\'\"]/.test(c)?(d.tokenize=e(c),d.stringStartCol=a.column(),d.tokenize(a,d)):(a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function e(a){var d=function(c,d){for(;!c.eol();)if(c.next()==a){d.tokenize=f;break}return"string"};return d.isInAttribute=!0,d}function h(a,d){return function(c,b){for(;!c.eol();){if(c.match(d)){b.tokenize=g;break}c.next()}return a}}function l(a){return function(d,c){for(var b;null!=(b=
d.next());){if("\x3c"==b)return c.tokenize=l(a+1),c.tokenize(d,c);if("\x3e"==b){if(1==a){c.tokenize=g;break}return c.tokenize=l(a-1),c.tokenize(d,c)}}return"meta"}}function r(a){return a&&a.toLowerCase()}function H(a,d,c){this.prev=a.context;this.tagName=d||"";this.indent=a.indented;this.startOfLine=c;(m.doNotIndent.hasOwnProperty(d)||a.context&&a.context.noIndent)&&(this.noIndent=!0)}function z(a){a.context&&(a.context=a.context.prev)}function B(a,d){for(var c;a.context&&(c=a.context.tagName,m.contextGrabbers.hasOwnProperty(r(c))&&
m.contextGrabbers[r(c)].hasOwnProperty(r(d)));)z(a)}function x(a,d,c){return"openTag"==a?(c.tagStart=d.column(),C):"closeTag"==a?I:x}function C(a,d,c){return"word"==a?(c.tagName=d.current(),n="tag",u):m.allowMissingTagName&&"endTag"==a?(n="tag bracket",u(a,d,c)):(n="error",C)}function I(a,d,c){return"word"==a?(a=d.current(),c.context&&c.context.tagName!=a&&m.implicitlyClosed.hasOwnProperty(r(c.context.tagName))&&z(c),c.context&&c.context.tagName==a||!1===m.matchClosing?(n="tag",y):(n="tag error",
D)):m.allowMissingTagName&&"endTag"==a?(n="tag bracket",y(a,d,c)):(n="error",D)}function y(a,d,c){return"endTag"!=a?(n="error",y):(z(c),x)}function D(a,d,c){return n="error",y(a,d,c)}function u(a,d,c){if("word"==a)return n="attribute",J;if("endTag"==a||"selfcloseTag"==a){d=c.tagName;var b=c.tagStart;return c.tagName=c.tagStart=null,"selfcloseTag"==a||m.autoSelfClosers.hasOwnProperty(r(d))?B(c,d):(B(c,d),c.context=new H(c,d,b==c.indented)),x}return n="error",u}function J(a,d,c){return"equals"==a?E:
(m.allowMissing||(n="error"),u(a,d,c))}function E(a,d,c){return"string"==a?F:"word"==a&&m.allowUnquoted?(n="string",u):(n="error",u(a,d,c))}function F(a,d,c){return"string"==a?F:u(a,d,c)}var A=t.indentUnit,m={},G=b.htmlMode?p:q,w;for(w in G)m[w]=G[w];for(w in b)m[w]=b[w];var v,n;return g.isInText=!0,{startState:function(a){var d={tokenize:g,state:x,indented:a||0,tagName:null,tagStart:null,context:null};return null!=a&&(d.baseIndent=a),d},token:function(a,d){if(!d.tagName&&a.sol()&&(d.indented=a.indentation()),
a.eatSpace())return null;v=null;var c=d.tokenize(a,d);return(c||v)&&"comment"!=c&&(n=null,d.state=d.state(v||c,a,d),n&&(c="error"==n?c+" error":n)),c},indent:function(a,d,c){var b=a.context;if(a.tokenize.isInAttribute)return a.tagStart==a.indented?a.stringStartCol+1:a.indented+A;if(b&&b.noIndent)return k.Pass;if(a.tokenize!=f&&a.tokenize!=g)return c?c.match(/^(\s*)/)[0].length:0;if(a.tagName)return!1!==m.multilineTagIndentPastTag?a.tagStart+a.tagName.length+2:a.tagStart+A*(m.multilineTagIndentFactor||
1);if(m.alignCDATA&&/<!\[CDATA\[/.test(d))return 0;if((d=d&&/^<(\/)?([\w_:\.-]*)/.exec(d))&&d[1])for(;b;){if(b.tagName==d[2]){b=b.prev;break}if(!m.implicitlyClosed.hasOwnProperty(r(b.tagName)))break;b=b.prev}else if(d)for(;b;){c=m.contextGrabbers[r(b.tagName)];if(!c||!c.hasOwnProperty(r(d[2])))break;b=b.prev}for(;b&&b.prev&&!b.startOfLine;)b=b.prev;return b?b.indent+A:a.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:m.htmlMode?"html":
"xml",helperType:m.htmlMode?"html":"xml",skipAttribute:function(a){a.state==E&&(a.state=u)},xmlCurrentTag:function(a){return a.tagName?{name:a.tagName,close:"closeTag"==a.type}:null},xmlCurrentContext:function(a){var b=[];for(a=a.context;a;a=a.prev)b.push(a.tagName);return b.reverse()}}});k.defineMIME("text/xml","xml");k.defineMIME("application/xml","xml");k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",{name:"xml",htmlMode:!0})});
(function(k){"function"==typeof k.define&&k.define("modeTwig",["mode/twig/twig.js"],function(){})})(this);