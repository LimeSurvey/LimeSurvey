!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Popper={})}(this,function(t){function w(t){var e;return null==t?window:"[object Window]"!==t.toString()?(e=t.ownerDocument)&&e.defaultView||window:t}function u(t){return t instanceof w(t).Element||t instanceof Element}function d(t){return t instanceof w(t).HTMLElement||t instanceof HTMLElement}function a(t){return"undefined"!=typeof ShadowRoot&&(t instanceof w(t).ShadowRoot||t instanceof ShadowRoot)}var E=Math.max,M=Math.min,b=Math.round;function n(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function C(){return!/^((?!chrome|android).)*safari/i.test(n())}function h(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=t.getBoundingClientRect(),o=1,a=1;e&&d(t)&&(o=0<t.offsetWidth&&b(s.width)/t.offsetWidth||1,a=0<t.offsetHeight&&b(s.height)/t.offsetHeight||1);e=(u(t)?w(t):window).visualViewport,t=!C()&&i,i=(s.left+(t&&e?e.offsetLeft:0))/o,t=(s.top+(t&&e?e.offsetTop:0))/a,e=s.width/o,o=s.height/a;return{width:e,height:o,top:t,right:i+e,bottom:t+o,left:i,x:i,y:t}}function p(t){t=w(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function l(t){return t?(t.nodeName||"").toLowerCase():null}function S(t){return((u(t)?t.ownerDocument:t.document)||window.document).documentElement}function m(t){return h(S(t)).left+p(t).scrollLeft}function D(t){return w(t).getComputedStyle(t)}function c(t){var t=D(t),e=t.overflow;return/auto|scroll|overlay|hidden/.test(e+t.overflowY+t.overflowX)}function _(t,e,i){void 0===i&&(i=!1);var s=d(e),o=d(e)&&(n=(o=e).getBoundingClientRect(),a=b(n.width)/o.offsetWidth||1,n=b(n.height)/o.offsetHeight||1,1!==a||1!==n),a=S(e),n=h(t,o,i),t={scrollLeft:0,scrollTop:0},r={x:0,y:0};return!s&&i||("body"===l(e)&&!c(a)||(t=(s=e)!==w(s)&&d(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:p(s)),d(e)?((r=h(e,!0)).x+=e.clientLeft,r.y+=e.clientTop):a&&(r.x=m(a))),{x:n.left+t.scrollLeft-r.x,y:n.top+t.scrollTop-r.y,width:n.width,height:n.height}}function L(t){var e=h(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function r(t){return"html"===l(t)?t:t.assignedSlot||t.parentNode||(a(t)?t.host:null)||S(t)}function f(t,e){void 0===e&&(e=[]);var i=function t(e){return 0<=["html","body","#document"].indexOf(l(e))?e.ownerDocument.body:d(e)&&c(e)?e:t(r(e))}(t),t=i===(null==(t=t.ownerDocument)?void 0:t.body),s=w(i),s=t?[s].concat(s.visualViewport||[],c(i)?i:[]):i,i=e.concat(s);return t?i:i.concat(f(r(s)))}function o(t){return d(t)&&"fixed"!==D(t).position?t.offsetParent:null}function x(t){for(var e,i=w(t),s=o(t);s&&(e=s,0<=["table","td","th"].indexOf(l(e)))&&"static"===D(s).position;)s=o(s);return(!s||"html"!==l(s)&&("body"!==l(s)||"static"!==D(s).position))&&(s||function(t){var e=/firefox/i.test(n()),i=/Trident/i.test(n());if(!i||!d(t)||"fixed"!==D(t).position){var s=r(t);for(a(s)&&(s=s.host);d(s)&&["html","body"].indexOf(l(s))<0;){var o=D(s);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return s;s=s.parentNode}}return null}(t))||i}var T="top",O="bottom",A="right",U="left",V="auto",H=[T,O,A,U],P="start",k="end",W="clippingParents",$="viewport",y="popper",q="reference",F=H.reduce(function(t,e){return t.concat([e+"-"+P,e+"-"+k])},[]),Y=[].concat(H,[V]).reduce(function(t,e){return t.concat([e,e+"-"+P,e+"-"+k])},[]),R=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Q(t){var i=new Map,s=new Set,o=[];return t.forEach(function(t){i.set(t.name,t)}),t.forEach(function(t){s.has(t.name)||!function e(t){s.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){s.has(t)||(t=i.get(t))&&e(t)}),o.push(t)}(t)}),o}function K(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&a(i)){var s=e;do{if(s&&t.isSameNode(s))return!0}while(s=s.parentNode||s.host)}return!1}function v(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function J(t,e,i){return e===$?v((o=i,n=w(s=t),r=S(s),n=n.visualViewport,d=r.clientWidth,r=r.clientHeight,c=l=0,n&&(d=n.width,r=n.height,(a=C())||!a&&"fixed"===o)&&(l=n.offsetLeft,c=n.offsetTop),{width:d,height:r,x:l+m(s),y:c})):u(e)?((o=h(a=e,!1,"fixed"===(o=i))).top=o.top+a.clientTop,o.left=o.left+a.clientLeft,o.bottom=o.top+a.clientHeight,o.right=o.left+a.clientWidth,o.width=a.clientWidth,o.height=a.clientHeight,o.x=o.left,o.y=o.top,o):v((n=S(t),d=S(n),r=p(n),l=null==(l=n.ownerDocument)?void 0:l.body,s=E(d.scrollWidth,d.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=E(d.scrollHeight,d.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),n=-r.scrollLeft+m(n),r=-r.scrollTop,"rtl"===D(l||d).direction&&(n+=E(d.clientWidth,l?l.clientWidth:0)-s),{width:s,height:c,x:n,y:r}));var s,o,a,n,r,d,l,c}function G(i,t,e,s){var o,a="clippingParents"===t?(n=f(r(a=i)),u(o=0<=["absolute","fixed"].indexOf(D(a).position)&&d(a)?x(a):a)?n.filter(function(t){return u(t)&&K(t,o)&&"body"!==l(t)}):[]):[].concat(t),n=[].concat(a,[e]),t=n[0],e=n.reduce(function(t,e){e=J(i,e,s);return t.top=E(e.top,t.top),t.right=M(e.right,t.right),t.bottom=M(e.bottom,t.bottom),t.left=E(e.left,t.left),t},J(i,t,s));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}function I(t){return t.split("-")[0]}function z(t){return t.split("-")[1]}function X(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function Z(t){var e,i=t.reference,s=t.element,t=t.placement,o=t?I(t):null,t=t?z(t):null,a=i.x+i.width/2-s.width/2,n=i.y+i.height/2-s.height/2;switch(o){case T:e={x:a,y:i.y-s.height};break;case O:e={x:a,y:i.y+i.height};break;case A:e={x:i.x+i.width,y:n};break;case U:e={x:i.x-s.width,y:n};break;default:e={x:i.x,y:i.y}}var r=o?X(o):null;if(null!=r){var d="y"===r?"height":"width";switch(t){case P:e[r]=e[r]-(i[d]/2-s[d]/2);break;case k:e[r]=e[r]+(i[d]/2-s[d]/2)}}return e}function tt(){return{top:0,right:0,bottom:0,left:0}}function et(t){return Object.assign({},tt(),t)}function it(i,t){return t.reduce(function(t,e){return t[e]=i,t},{})}function N(t,e){var s,e=e=void 0===e?{}:e,i=e.placement,i=void 0===i?t.placement:i,o=e.strategy,o=void 0===o?t.strategy:o,a=e.boundary,a=void 0===a?W:a,n=e.rootBoundary,n=void 0===n?$:n,r=e.elementContext,r=void 0===r?y:r,d=e.altBoundary,d=void 0!==d&&d,e=e.padding,e=void 0===e?0:e,e=et("number"!=typeof e?e:it(e,H)),l=t.rects.popper,d=t.elements[d?r===y?q:y:r],d=G(u(d)?d:d.contextElement||S(t.elements.popper),a,n,o),a=h(t.elements.reference),n=Z({reference:a,element:l,strategy:"absolute",placement:i}),o=v(Object.assign({},l,n)),l=r===y?o:a,c={top:d.top-l.top+e.top,bottom:l.bottom-d.bottom+e.bottom,left:d.left-l.left+e.left,right:l.right-d.right+e.right},n=t.modifiersData.offset;return r===y&&n&&(s=n[i],Object.keys(c).forEach(function(t){var e=0<=[A,O].indexOf(t)?1:-1,i=0<=[T,O].indexOf(t)?"y":"x";c[t]+=s[i]*e})),c}var st={placement:"bottom",modifiers:[],strategy:"absolute"};function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function e(t){var t=t=void 0===t?{}:t,e=t.defaultModifiers,h=void 0===e?[]:e,e=t.defaultOptions,p=void 0===e?st:e;return function(s,o,e){void 0===e&&(e=p);var i,a,n={placement:"bottom",orderedModifiers:[],options:Object.assign({},st,p),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},r=[],d=!1,l={state:n,setOptions:function(t){var i,e,t="function"==typeof t?t(n.options):t,t=(c(),n.options=Object.assign({},p,n.options,t),n.scrollParents={reference:u(s)?f(s):s.contextElement?f(s.contextElement):[],popper:f(o)},t=[].concat(h,n.options.modifiers),e=t.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),t=Object.keys(e).map(function(t){return e[t]}),i=Q(t),R.reduce(function(t,e){return t.concat(i.filter(function(t){return t.phase===e}))},[]));return n.orderedModifiers=t.filter(function(t){return t.enabled}),n.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,t=t.effect;"function"==typeof t&&(t=t({state:n,name:e,instance:l,options:void 0===i?{}:i}),r.push(t||function(){}))}),l.update()},forceUpdate:function(){if(!d){var t=n.elements,e=t.reference,t=t.popper;if(ot(e,t)){n.rects={reference:_(e,x(t),"fixed"===n.options.strategy),popper:L(t)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach(function(t){return n.modifiersData[t.name]=Object.assign({},t.data)});for(var i,s,o,a=0;a<n.orderedModifiers.length;a++)!0===n.reset?(n.reset=!1,a=-1):(s=(i=n.orderedModifiers[a]).fn,o=i.options,"function"==typeof s&&(n=s({state:n,options:void 0===o?{}:o,name:i.name,instance:l})||n))}}},update:(i=function(){return new Promise(function(t){l.forceUpdate(),t(n)})},function(){return a=a||new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(i())})})}),destroy:function(){c(),d=!0}};return ot(s,o)&&l.setOptions(e).then(function(t){!d&&e.onFirstUpdate&&e.onFirstUpdate(t)}),l;function c(){r.forEach(function(t){return t()}),r=[]}}}var g={passive:!0};var i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,s=(t=t.options).scroll,o=void 0===s||s,a=void 0===(s=t.resize)||s,n=w(e.elements.popper),r=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&r.forEach(function(t){t.addEventListener("scroll",i.update,g)}),a&&n.addEventListener("resize",i.update,g),function(){o&&r.forEach(function(t){t.removeEventListener("scroll",i.update,g)}),a&&n.removeEventListener("resize",i.update,g)}},data:{}};var s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state;e.modifiersData[t.name]=Z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},at={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nt(t){var e,i=t.popper,s=t.popperRect,o=t.placement,a=t.variation,n=t.offsets,r=t.position,d=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,t=t.isFixed,h=n.x,h=void 0===h?0:h,p=n.y,p=void 0===p?0:p,u="function"==typeof c?c({x:h,y:p}):{x:h,y:p},u=(h=u.x,p=u.y,n.hasOwnProperty("x")),n=n.hasOwnProperty("y"),m=U,f=T,y=window,v=(l&&(v="clientHeight",e="clientWidth",(g=x(i))===w(i)&&"static"!==D(g=S(i)).position&&"absolute"===r&&(v="scrollHeight",e="scrollWidth"),o!==T&&(o!==U&&o!==A||a!==k)||(f=O,p=(p-((t&&g===y&&y.visualViewport?y.visualViewport.height:g[v])-s.height))*(d?1:-1)),o!==U&&(o!==T&&o!==O||a!==k)||(m=A,h=(h-((t&&g===y&&y.visualViewport?y.visualViewport.width:g[e])-s.width))*(d?1:-1))),Object.assign({position:r},l&&at)),g=!0===c?(o={x:h,y:p},a=w(i),t=o.x,o=o.y,a=a.devicePixelRatio||1,{x:b(t*a)/a||0,y:b(o*a)/a||0}):{x:h,y:p};return h=g.x,p=g.y,d?Object.assign({},v,((e={})[f]=n?"0":"",e[m]=u?"0":"",e.transform=(y.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",e)):Object.assign({},v,((s={})[f]=n?p+"px":"",s[m]=u?h+"px":"",s.transform="",s))}var rt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=void 0===(i=(t=t.options).gpuAcceleration)||i,s=void 0===(s=t.adaptive)||s,t=void 0===(t=t.roundOffsets)||t,i={placement:I(e.placement),variation:z(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,nt(Object.assign({},i,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:t})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,nt(Object.assign({},i,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var dt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var o=t.state;Object.keys(o.elements).forEach(function(t){var e=o.styles[t]||{},i=o.attributes[t]||{},s=o.elements[t];d(s)&&l(s)&&(Object.assign(s.style,e),Object.keys(i).forEach(function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var s=t.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(t){var e=s.elements[t],i=s.attributes[t]||{},t=Object.keys((s.styles.hasOwnProperty(t)?s.styles:o)[t]).reduce(function(t,e){return t[e]="",t},{});d(e)&&l(e)&&(Object.assign(e.style,t),Object.keys(i).forEach(function(t){e.removeAttribute(t)}))})}},requires:["computeStyles"]};var lt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,e=t.name,r=void 0===(t=t.options.offset)?[0,0]:t,t=Y.reduce(function(t,e){var i,s,o,a;return t[e]=(e=e,i=n.rects,s=r,o=I(e),a=0<=[U,T].indexOf(o)?-1:1,e=(i="function"==typeof s?s(Object.assign({},i,{placement:e})):s)[0]||0,s=(i[1]||0)*a,0<=[U,A].indexOf(o)?{x:s,y:e}:{x:e,y:s}),t},{}),i=(s=t[n.placement]).x,s=s.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=i,n.modifiersData.popperOffsets.y+=s),n.modifiersData[e]=t}},ct={left:"right",right:"left",bottom:"top",top:"bottom"};function j(t){return t.replace(/left|right|bottom|top/g,function(t){return ct[t]})}var ht={start:"end",end:"start"};function pt(t){return t.replace(/start|end/g,function(t){return ht[t]})}var ut={name:"flip",enabled:!0,phase:"main",fn:function(t){var h=t.state,e=t.options,t=t.name;if(!h.modifiersData[t]._skip){for(var i=e.mainAxis,s=void 0===i||i,i=e.altAxis,o=void 0===i||i,i=e.fallbackPlacements,p=e.padding,u=e.boundary,m=e.rootBoundary,a=e.altBoundary,n=e.flipVariations,f=void 0===n||n,y=e.allowedAutoPlacements,n=h.options.placement,e=I(n),i=i||(e===n||!f?[j(n)]:I(i=n)===V?[]:(e=j(i),[pt(i),e,pt(e)])),r=[n].concat(i).reduce(function(t,e){return t.concat(I(e)===V?(i=h,s=(t=t=void 0===(t={placement:e,boundary:u,rootBoundary:m,padding:p,flipVariations:f,allowedAutoPlacements:y})?{}:t).placement,o=t.boundary,a=t.rootBoundary,n=t.padding,r=t.flipVariations,d=void 0===(t=t.allowedAutoPlacements)?Y:t,l=z(s),t=l?r?F:F.filter(function(t){return z(t)===l}):H,c=(s=0===(s=t.filter(function(t){return 0<=d.indexOf(t)})).length?t:s).reduce(function(t,e){return t[e]=N(i,{placement:e,boundary:o,rootBoundary:a,padding:n})[I(e)],t},{}),Object.keys(c).sort(function(t,e){return c[t]-c[e]})):e);var i,s,o,a,n,r,d,l,c},[]),d=h.rects.reference,l=h.rects.popper,c=new Map,v=!0,g=r[0],w=0;w<r.length;w++){var b=r[w],S=I(b),D=z(b)===P,k=0<=[T,O].indexOf(S),C=k?"width":"height",_=N(h,{placement:b,boundary:u,rootBoundary:m,altBoundary:a,padding:p}),k=k?D?A:U:D?O:T,D=(d[C]>l[C]&&(k=j(k)),j(k)),C=[];if(s&&C.push(_[S]<=0),o&&C.push(_[k]<=0,_[D]<=0),C.every(function(t){return t})){g=b,v=!1;break}c.set(b,C)}if(v)for(var E=f?3:1;0<E;E--)if("break"===function(e){var t=r.find(function(t){t=c.get(t);if(t)return t.slice(0,e).every(function(t){return t})});if(t)return g=t,"break"}(E))break;h.placement!==g&&(h.modifiersData[t]._skip=!0,h.placement=g,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function B(t,e,i){return E(t,M(e,i))}var mt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e,i,s,o,a,n,r,d,l,c=t.state,h=t.options,t=t.name,p=void 0===(p=h.mainAxis)||p,u=void 0!==(u=h.altAxis)&&u,m=void 0===(m=h.tether)||m,f=void 0===(f=h.tetherOffset)?0:f,h=N(c,{boundary:h.boundary,rootBoundary:h.rootBoundary,padding:h.padding,altBoundary:h.altBoundary}),y=I(c.placement),v=z(c.placement),g=!v,w=X(y),b="x"===w?"y":"x",S=c.modifiersData.popperOffsets,D=c.rects.reference,k=c.rects.popper,f="number"==typeof(f="function"==typeof f?f(Object.assign({},c.rects,{placement:c.placement})):f)?{mainAxis:f,altAxis:f}:Object.assign({mainAxis:0,altAxis:0},f),C=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,_={x:0,y:0};S&&(p&&(p="y"===w?"height":"width",n=(r=S[w])+h[i="y"===w?T:U],d=r-h[l="y"===w?O:A],e=m?-k[p]/2:0,o=(v===P?D:k)[p],v=v===P?-k[p]:-D[p],a=c.elements.arrow,a=m&&a?L(a):{width:0,height:0},i=(s=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:tt())[i],s=s[l],l=B(0,D[p],a[p]),a=g?D[p]/2-e-l-i-f.mainAxis:o-l-i-f.mainAxis,o=g?-D[p]/2+e+l+s+f.mainAxis:v+l+s+f.mainAxis,g=(i=c.elements.arrow&&x(c.elements.arrow))?"y"===w?i.clientTop||0:i.clientLeft||0:0,v=r+o-(e=null!=(p=null==C?void 0:C[w])?p:0),l=B(m?M(n,r+a-e-g):n,r,m?E(d,v):d),_[w]=(S[w]=l)-r),u&&(s="y"==b?"height":"width",o=(i=S[b])+h["x"===w?T:U],p=i-h["x"===w?O:A],a=-1!==[T,U].indexOf(y),g=null!=(e=null==C?void 0:C[b])?e:0,n=a?o:i-D[s]-k[s]-g+f.altAxis,v=a?i+D[s]+k[s]-g-f.altAxis:p,r=m&&a?(d=B(d=n,i,l=v),l<d?l:d):B(m?n:o,i,m?v:p),S[b]=r,_[b]=r-i),c.modifiersData[t]=_)},requiresIfExists:["offset"]};var ft={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,s,o,a=t.state,n=t.name,t=t.options,r=a.elements.arrow,d=a.modifiersData.popperOffsets,l=X(c=I(a.placement)),c=0<=[U,A].indexOf(c)?"height":"width";r&&d&&(t=t.padding,i=a,i=et("number"!=typeof(t="function"==typeof t?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:it(t,H)),t=L(r),o="y"===l?T:U,s="y"===l?O:A,e=a.rects.reference[c]+a.rects.reference[l]-d[l]-a.rects.popper[c],d=d[l]-a.rects.reference[l],r=(r=x(r))?"y"===l?r.clientHeight||0:r.clientWidth||0:0,o=i[o],i=r-t[c]-i[s],o=B(o,s=r/2-t[c]/2+(e/2-d/2),i),a.modifiersData[n]=((r={})[l]=o,r.centerOffset=o-s,r))},effect:function(t){var e=t.state;null!=(t=void 0===(t=t.options.element)?"[data-popper-arrow]":t)&&("string"!=typeof t||(t=e.elements.popper.querySelector(t)))&&K(e.elements.popper,t)&&(e.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yt(t,e,i){return{top:t.top-e.height-(i=void 0===i?{x:0,y:0}:i).y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function vt(e){return[T,A,O,U].some(function(t){return 0<=e[t]})}var gt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,t=t.name,i=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,a=N(e,{elementContext:"reference"}),n=N(e,{altBoundary:!0}),a=yt(a,i),i=yt(n,s,o),n=vt(a),s=vt(i);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:i,isReferenceHidden:n,hasPopperEscaped:s},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":n,"data-popper-escaped":s})}},wt=e({defaultModifiers:[i,s,rt,dt]}),bt=[i,s,rt,dt,lt,ut,mt,ft,gt],St=e({defaultModifiers:bt});t.applyStyles=dt,t.arrow=ft,t.computeStyles=rt,t.createPopper=St,t.createPopperLite=wt,t.defaultModifiers=bt,t.detectOverflow=N,t.eventListeners=i,t.flip=ut,t.hide=gt,t.offset=lt,t.popperGenerator=e,t.popperOffsets=s,t.preventOverflow=mt,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tempusDominus={})}(this,function(c){c.Unit=void 0,(U=c.Unit||(c.Unit={})).seconds="seconds",U.minutes="minutes",U.hours="hours",U.date="date",U.month="month",U.year="year";let e={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},o=t=>{switch(t){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}};class n extends Date{constructor(){super(...arguments),this.locale="default",this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335]}setLocale(t){return this.locale=t,this}static convert(t,e="default"){if(t)return new n(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).setLocale(e);throw new Error("A date is required")}static fromString(t,e){return new n(t)}get clone(){return new n(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocale(this.locale)}startOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(c.Unit.date),this.weekDay===e)break;let t=this.weekDay;0!==e&&0===this.weekDay&&(t=8-e),this.manipulate(e-t,c.Unit.date);break}case"month":this.startOf(c.Unit.date),this.setDate(1);break;case"year":this.startOf(c.Unit.date),this.setMonth(0,1)}return this}endOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.endOf(c.Unit.date);var i=6+e;this.weekDay!==i&&this.manipulate(i-this.weekDay,c.Unit.date);break;case"month":this.endOf(c.Unit.date),this.manipulate(1,c.Unit.month),this.setDate(0);break;case"year":this.endOf(c.Unit.date),this.setMonth(11,31)}return this}manipulate(t,e){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this[e]+=t,this}format(t,e=this.locale){return new Intl.DateTimeFormat(e,t).format(this)}isBefore(t,e){if(!e)return this.valueOf()<t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()<t.clone.startOf(e).valueOf()}isAfter(t,e){if(!e)return this.valueOf()>t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()>t.clone.startOf(e).valueOf()}isSame(t,e){if(!e)return this.valueOf()===t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return t=n.convert(t),this.clone.startOf(e).valueOf()===t.startOf(e).valueOf()}isBetween(t,e,i,s="()"){if(i&&void 0===this[i])throw new Error(`Unit '${i}' is not valid`);var o="("===s[0],s=")"===s[1];return(o?this.isAfter(t,i):!this.isBefore(t,i))&&(s?this.isBefore(e,i):!this.isAfter(e,i))||(o?this.isBefore(t,i):!this.isAfter(t,i))&&(s?this.isAfter(e,i):!this.isBefore(e,i))}parts(t=this.locale,e={dateStyle:"full",timeStyle:"long"}){let i={};return new Intl.DateTimeFormat(t,e).formatToParts(this).filter(t=>"literal"!==t.type).forEach(t=>i[t.type]=t.value),i}get seconds(){return this.getSeconds()}set seconds(t){this.setSeconds(t)}get secondsFormatted(){return this.parts(void 0,e).second}get minutes(){return this.getMinutes()}set minutes(t){this.setMinutes(t)}get minutesFormatted(){return this.parts(void 0,e).minute}get hours(){return this.getHours()}set hours(t){this.setHours(t)}getHoursFormatted(t="h12"){return this.parts(void 0,{...e,hourCycle:t}).hour}meridiem(t=this.locale){return new Intl.DateTimeFormat(t,{hour:"numeric",hour12:!0}).formatToParts(this).find(t=>"dayPeriod"===t.type)?.value}get date(){return this.getDate()}set date(t){this.setDate(t)}get dateFormatted(){return this.parts(void 0,e).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(t){var e=new Date(this.year,t+1),e=(e.setDate(0),e.getDate());this.date>e&&(this.date=e),this.setMonth(t)}get monthFormatted(){return this.parts(void 0,e).month}get year(){return this.getFullYear()}set year(t){this.setFullYear(t)}get week(){var t=this.computeOrdinal(),e=this.getUTCDay();let i=Math.floor((t-e+10)/7);return i<1?i=this.weeksInWeekYear(this.year-1):i>this.weeksInWeekYear(this.year)&&(i=1),i}weeksInWeekYear(t){var e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,t=t-1,t=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return 4==e||3==t?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}}class s extends Error{}let t="tempus-dominus";class h{}h.NAME=t,h.dataKey="td",h.events=new class{constructor(){this.key=".td",this.change="change"+this.key,this.update="update"+this.key,this.error="error"+this.key,this.show="show"+this.key,this.hide="hide"+this.key,this.blur="blur"+this.key,this.focus="focus"+this.key,this.keyup="keyup"+this.key,this.keydown="keydown"+this.key}},h.css=new class{constructor(){this.widget=t+"-widget",this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=this.dateContainer+"-decades",this.decade="decade",this.yearsContainer=this.dateContainer+"-years",this.year="year",this.monthsContainer=this.dateContainer+"-months",this.month="month",this.daysContainer=this.dateContainer+"-days",this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.timeContainer="time-container",this.separator="separator",this.clockContainer=this.timeContainer+"-clock",this.hourContainer=this.timeContainer+"-hour",this.minuteContainer=this.timeContainer+"-minute",this.secondContainer=this.timeContainer+"-second",this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},h.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(t){t=new s(this.base+` Unexpected option: ${t} does not match a known option.`);throw t.code=1,t}unexpectedOptions(t){t=new s(this.base+": "+t.join(", "));throw t.code=1,t}unexpectedOptionValue(t,e,i){t=new s(this.base+` Unexpected option value: ${t} does not accept a value of "${e}". Valid values are: `+i.join(", "));throw t.code=2,t}typeMismatch(t,e,i){t=new s(this.base+` Mismatch types: ${t} has a type of ${e} instead of the required `+i);throw t.code=3,t}numbersOutOfRange(t,e,i){t=new s(this.base+` ${t} expected an array of number between ${e} and ${i}.`);throw t.code=4,t}failedToParseDate(t,e,i=!1){e=new s(this.base+` Could not correctly parse "${e}" to a date for ${t}.`);if(e.code=5,!i)throw e;console.warn(e)}mustProvideElement(){var t=new s(this.base+" No element was provided.");throw t.code=6,t}subscribeMismatch(){var t=new s(this.base+" The subscribed events does not match the number of callbacks");throw t.code=7,t}conflictingConfiguration(t){t=new s(this.base+" A configuration value conflicts with another rule. "+t);throw t.code=8,t}customDateFormatError(t){t=new s(this.base+" customDateFormat: "+t);throw t.code=9,t}dateString(){console.warn(this.base+" Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.")}deprecatedWarning(t,e){console.warn(this.base+` Warning ${t} is deprecated and will be removed in a future version. `+e)}throwError(t){t=new s(this.base+" "+t);throw t.code=9,t}};class i{constructor(){this.cache=new Map}locate(t){var e=this.cache.get(t);return e||(e=new t,this.cache.set(t,e),e)}}let a,r=[{name:"calendar",className:h.css.daysContainer,unit:c.Unit.month,step:1},{name:"months",className:h.css.monthsContainer,unit:c.Unit.year,step:1},{name:"years",className:h.css.yearsContainer,unit:c.Unit.year,step:10},{name:"decades",className:h.css.decadesContainer,unit:c.Unit.year,step:100}];class d{constructor(){this._currentCalendarViewMode=0,this._viewDate=new n,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(t){this._currentCalendarViewMode=t,this.currentView=r[t].name}get viewDate(){return this._viewDate}set viewDate(t){this._viewDate=t,this.options&&(this.options.viewDate=t)}refreshCurrentView(){this.currentView=r[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class l{constructor(){this.optionsStore=a.locate(d)}isValid(t,e){if(e!==c.Unit.month&&0<this.optionsStore.options.restrictions.disabledDates.length&&this._isInDisabledDates(t))return!1;if(e!==c.Unit.month&&0<this.optionsStore.options.restrictions.enabledDates.length&&!this._isInEnabledDates(t))return!1;if(e!==c.Unit.month&&e!==c.Unit.year&&0<this.optionsStore.options.restrictions.daysOfWeekDisabled?.length&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(t.weekDay))return!1;if(this.optionsStore.options.restrictions.minDate&&t.isBefore(this.optionsStore.options.restrictions.minDate,e))return!1;if(this.optionsStore.options.restrictions.maxDate&&t.isAfter(this.optionsStore.options.restrictions.maxDate,e))return!1;if(e===c.Unit.hours||e===c.Unit.minutes||e===c.Unit.seconds){if(0<this.optionsStore.options.restrictions.disabledHours.length&&this._isInDisabledHours(t))return!1;if(0<this.optionsStore.options.restrictions.enabledHours.length&&!this._isInEnabledHours(t))return!1;if(0<this.optionsStore.options.restrictions.disabledTimeIntervals.length)for(var i of this.optionsStore.options.restrictions.disabledTimeIntervals)if(t.isBetween(i.from,i.to))return!1}return!0}_isInDisabledDates(e){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)&&this.optionsStore.options.restrictions.disabledDates.find(t=>t.isSame(e,c.Unit.date))}_isInEnabledDates(e){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||this.optionsStore.options.restrictions.enabledDates.find(t=>t.isSame(e,c.Unit.date))}_isInDisabledHours(t){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;let e=t.hours;return this.optionsStore.options.restrictions.disabledHours.find(t=>t===e)}_isInEnabledHours(t){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;let e=t.hours;return this.optionsStore.options.restrictions.enabledHours.find(t=>t===e)}}class p{constructor(){this.subscribers=[]}subscribe(t){return this.subscribers.push(t),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(t){this.subscribers.splice(t,1)}emit(e){this.subscribers.forEach(t=>{t(e)})}destroy(){this.subscribers=null,this.subscribers=[]}}class u{constructor(){this.triggerEvent=new p,this.viewUpdate=new p,this.updateDisplay=new p,this.action=new p,this.updateViewDate=new p}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}let m={restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto"},stepping:1,useCurrent:!0,defaultDate:void 0,localization:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",previousMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",previousYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",previousDecade:"Previous Decade",nextDecade:"Next Decade",previousCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",toggleMeridiem:"Toggle Meridiem",selectTime:"Select Time",selectDate:"Select Date",dayViewHeaderFormat:{month:"long",year:"2-digit"},locale:"default",hourCycle:void 0,startOfTheWeek:0,dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},ordinal:t=>t,format:"L LT"},keepInvalid:!1,debug:!1,allowInputToggle:!1,viewDate:new n,multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,meta:{},container:void 0};function f(t,e){return t.constructor.name===n.name?t:t.constructor.name===Date.name?n.convert(t):"string"!=typeof t||(t=n.fromString(t,e),"null"===JSON.stringify(t))?null:t}function y(t,e,i){"string"==typeof t&&"input"!==e&&h.errorMessages.dateString();i=f(t,i);return i||h.errorMessages.failedToParseDate(e,t,"input"===e),i}function v(e,i,t,s){Array.isArray(i)||h.errorMessages.typeMismatch(e,t,"array of DateTime or Date");for(let t=0;t<i.length;t++){var o=i[t],a=y(o,e,s);a||h.errorMessages.typeMismatch(e,typeof o,"DateTime or Date"),a.setLocale(s?.locale??"default"),i[t]=a}}function g(t,e,i){Array.isArray(e)&&!e.some(t=>"number"!=typeof t)||h.errorMessages.typeMismatch(t,i,"array of numbers")}function w(s){return({value:t,providedType:e,localization:i})=>{t=y(t,s,i);if(void 0!==t)return t.setLocale(i.locale),t;h.errorMessages.typeMismatch(s,e,"DateTime or Date")}}function b(t){let e=w(t);return t=>void 0===t.value?t.value:e(t)}function S(i,s,o){return({value:t,providedType:e})=>void 0===t?[]:(g(i,t,e),t.some(t=>t<s||o<t)&&h.errorMessages.numbersOutOfRange(i,s,o),t)}function D(t){return S(t,0,23)}function k(s){return({value:t,providedType:e,localization:i})=>void 0===t?[]:(v(s,t,e,i),t)}function C(i){return({value:t,path:e})=>(i.includes(t)||h.errorMessages.unexpectedOptionValue(e.substring(1),t,i),t)}let P=Object.freeze({defaultDate:w("defaultDate"),viewDate:w("viewDate"),minDate:b("restrictions.minDate"),maxDate:b("restrictions.maxDate"),disabledHours:D("restrictions.disabledHours"),enabledHours:D("restrictions.enabledHours"),disabledDates:k("restrictions.disabledDates"),enabledDates:k("restrictions.enabledDates"),daysOfWeekDisabled:S("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:a,value:t,providedType:e,localization:n})=>{if(void 0===t)return[];Array.isArray(t)||h.errorMessages.typeMismatch(a,e,"array of { from: DateTime|Date, to: DateTime|Date }");let r=t;for(let o=0;o<r.length;o++)Object.keys(r[o]).forEach(t=>{var e=`${a}[${o}].`+t,i=r[o][t],s=y(i,e,n);s||h.errorMessages.typeMismatch(e,typeof i,"DateTime or Date"),s.setLocale(n.locale),r[o][t]=s});return r},toolbarPlacement:C(["top","bottom","default"]),type:C(["icons","sprites"]),viewMode:C(["clock","calendar","months","years","decades"]),theme:C(["light","dark","auto"]),meta:({value:t})=>t,dayViewHeaderFormat:({value:t})=>t,container:({value:t,path:e})=>(t&&!(t instanceof HTMLElement||t instanceof Element||t?.appendChild)&&h.errorMessages.typeMismatch(e.substring(1),typeof t,"HTMLElement"),t),useTwentyfourHour:({value:t,path:e,providedType:i,defaultType:s})=>{if(h.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===t||"boolean"===i)return t;h.errorMessages.typeMismatch(e,i,s)},hourCycle:C(["h11","h12","h23","h24"])});function I(t){return(P[t.key]||(({value:t,defaultType:e,providedType:i,path:s})=>{switch(e){case"boolean":return"true"===t||!0===t;case"number":return+t;case"string":return t.toString();case"object":return{};case"function":return t;default:h.errorMessages.typeMismatch(s,i,e)}}))(t)}class _{static deepCopy(i){let s={};return Object.keys(i).forEach(t=>{var e=i[t];e instanceof n?s[t]=e.clone:e instanceof Date?s[t]=new Date(e.valueOf()):"object"!=typeof(s[t]=e)||e instanceof HTMLElement||e instanceof Element||Array.isArray(e)||(s[t]=_.deepCopy(e))}),s}static objectPath(t,e){return(t="."===t.charAt(0)?t.slice(1):t)?t.split(".").reduce((t,e)=>_.isValue(t)||_.isValue(t[e])?t[e]:void 0,e):e}static spread(a,n,r="",d){let l=_.objectPath(r,m);var t=Object.keys(a).filter(t=>!Object.keys(l).includes(t));if(0<t.length){let s=_.getFlattenDefaultOptions();t=t.map(e=>{let t=`"${r}.${e}" in not a known option.`;var i=s.find(t=>t.includes(e));return i&&(t+=` Did you mean "${i}"?`),t});h.errorMessages.unexpectedOptions(t)}Object.keys(a).filter(t=>"__proto__"!==t&&"constructor"!==t).forEach(t=>{"."===(r+="."+t).charAt(0)&&(r=r.slice(1));var e=l[t],i=typeof a[t],s=typeof e,o=a[t];r=(null==o?n[t]=o:"object"!=typeof e||Array.isArray(a[t])||e instanceof Date||_.ignoreProperties.includes(t)?n[t]=_.processKey(t,o,i,s,r,d):_.spread(a[t],n[t],r,d),r.substring(0,r.lastIndexOf("."+t)))})}static processKey(t,e,i,s,o,a){return I({key:t,value:e,providedType:i,defaultType:s,path:o,localization:a})}static _mergeOptions(t,e){var i=_.deepCopy(e),e="default"!==e.localization?.locale?e.localization:t?.localization||m.localization;return _.spread(t,i,"",e),i}static _dataToOptions(t,s){let o=JSON.parse(JSON.stringify(t.dataset));if(o?.tdTargetInput&&delete o.tdTargetInput,o?.tdTargetToggle&&delete o.tdTargetToggle,!o||0===Object.keys(o).length||o.constructor!==DOMStringMap)return s;let a={},n=t=>{let e={};return Object.keys(t).forEach(t=>{e[t.toLowerCase()]=t}),e},r=(t,e,i,s)=>{var o=n(i)[t[e].toLowerCase()],a={};return void 0!==o&&(i[o].constructor===Object?(e++,a[o]=r(t,e,i[o],s)):a[o]=s),a},d=n(s);return Object.keys(o).filter(t=>t.startsWith(h.dataKey)).map(t=>t.substring(2)).forEach(t=>{let e=d[t.toLowerCase()];var i;t.includes("_")?(i=t.split("_"),void 0!==(e=d[i[0].toLowerCase()])&&s[e].constructor===Object&&(a[e]=r(i,1,s[e],o["td"+t]))):void 0!==e&&(a[e]=o["td"+t])}),this._mergeOptions(a,s)}static _dateTypeCheck(t,e){return f(t,e)}static _typeCheckDateArray(t,e,i,s){return v(t,e,i,s)}static _typeCheckNumberArray(t,e,i){return g(t,e,i)}static dateConversion(t,e,i){return y(t,e,i)}static getFlattenDefaultOptions(){if(!this._flattenDefaults){let s=(t,i=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap(([t,e])=>s(e,[...i,t])):i.join(".");this._flattenDefaults=s(m)}return this._flattenDefaults}static _validateConflicts(t){!t.display.sideBySide||t.display.components.clock&&(t.display.components.hours||t.display.components.minutes||t.display.components.seconds)||h.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&h.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate))&&h.errorMessages.conflictingConfiguration("maxDate is before minDate")}}_.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],_.isValue=t=>null!=t;class E{constructor(){this._dates=[],this.optionsStore=a.locate(d),this.validation=a.locate(l),this._eventEmitters=a.locate(u)}get picked(){return this._dates}get lastPicked(){return this._dates[this.lastPickedIndex]}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(t){var e=this.optionsStore.options.display.components;return t?t.format({year:e.calendar&&e.year?"numeric":void 0,month:e.calendar&&e.month?"2-digit":void 0,day:e.calendar&&e.date?"2-digit":void 0,hour:e.clock&&e.hours?"2-digit":void 0,minute:e.clock&&e.minutes?"2-digit":void 0,second:e.clock&&e.seconds?"2-digit":void 0,hourCycle:this.optionsStore.options.localization.hourCycle}):""}parseInput(t){return _.dateConversion(t,"input",this.optionsStore.options.localization)}setFromInput(t,e){t?(t=this.parseInput(t))&&(t.setLocale(this.optionsStore.options.localization.locale),this.setValue(t,e)):this.setValue(void 0,e)}add(t){this._dates.push(t)}isPicked(e,t){if(!t)return void 0!==this._dates.find(t=>t===e);let i=o(t),s=e.format(i);return void 0!==this._dates.map(t=>t.format(i)).find(t=>t===s)}pickedIndex(t,e){if(!e)return this._dates.indexOf(t);let i=o(e);e=t.format(i);return this._dates.map(t=>t.format(i)).indexOf(e)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:h.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[]}static getStartEndYear(t,e){var i=t/10,t=Math.floor(e/t)*t;return[t,t+9*i,Math.floor(e/i)*i]}updateInput(e){if(this.optionsStore.input){let t=this.formatInput(e);this.optionsStore.options.multipleDates&&(t=this._dates.map(t=>this.formatInput(t)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}}setValue(t,e){var i=void 0===e,s=!t&&i;let o=this.optionsStore.unset?null:this._dates[e];!o&&!this.optionsStore.unset&&i&&s&&(o=this.lastPicked),t&&o?.isSame(t)?this.updateInput(t):t?(e=e||0,t=t.clone,1!==this.optionsStore.options.stepping&&(t.minutes=Math.round(t.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,t.seconds=0),this.validation.isValid(t)?(this._dates[e]=t,this._eventEmitters.updateViewDate.emit(t.clone),this.updateInput(t),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:h.events.change,date:t,oldDate:o,isClear:s,isValid:!0})):(this.optionsStore.options.keepInvalid&&(this._dates[e]=t,this._eventEmitters.updateViewDate.emit(t.clone),this.updateInput(t),this._eventEmitters.triggerEvent.emit({type:h.events.change,date:t,oldDate:o,isClear:s,isValid:!1})),this._eventEmitters.triggerEvent.emit({type:h.events.error,reason:h.errorMessages.failedToSetInvalidDate,date:t,oldDate:o}))):(!this.optionsStore.options.multipleDates||1===this._dates.length||s?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(e,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:h.events.change,date:void 0,oldDate:o,isClear:s,isValid:!0}),this._eventEmitters.updateDisplay.emit("all"))}}(U=V=V||{}).next="next",U.previous="previous",U.changeCalendarView="changeCalendarView",U.selectMonth="selectMonth",U.selectYear="selectYear",U.selectDecade="selectDecade",U.selectDay="selectDay",U.selectHour="selectHour",U.selectMinute="selectMinute",U.selectSecond="selectSecond",U.incrementHours="incrementHours",U.incrementMinutes="incrementMinutes",U.incrementSeconds="incrementSeconds",U.decrementHours="decrementHours",U.decrementMinutes="decrementMinutes",U.decrementSeconds="decrementSeconds",U.toggleMeridiem="toggleMeridiem",U.togglePicker="togglePicker",U.showClock="showClock",U.showHours="showHours",U.showMinutes="showMinutes",U.showSeconds="showSeconds",U.clear="clear",U.close="close",U.today="today";var M=V;class z{constructor(){this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l)}getPicker(){var t,e=document.createElement("div");e.classList.add(h.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks&&((t=document.createElement("div")).classList.add(h.css.calendarWeeks,h.css.noHighlight),e.appendChild(t));for(let t=0;t<42;t++){0!==t&&t%7==0&&this.optionsStore.options.display.calendarWeeks&&((i=document.createElement("div")).classList.add(h.css.calendarWeeks,h.css.noHighlight),e.appendChild(i));var i=document.createElement("div");i.setAttribute("data-action",M.selectDay),e.appendChild(i)}return e}_update(t,i){var e,s,o,t=t.getElementsByClassName(h.css.daysContainer)[0];"calendar"===this.optionsStore.currentView&&([e,s,o]=t.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div"),s.setAttribute(h.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?s.classList.remove(h.css.disabled):s.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.month),c.Unit.month)?e.classList.remove(h.css.disabled):e.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,c.Unit.month),c.Unit.month)?o.classList.remove(h.css.disabled):o.classList.add(h.css.disabled));let a=this.optionsStore.viewDate.clone.startOf(c.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,c.Unit.hours);t.querySelectorAll(`[data-action="${M.selectDay}"], .`+h.css.calendarWeeks).forEach(t=>{if(this.optionsStore.options.display.calendarWeeks&&t.classList.contains(h.css.calendarWeeks))return"#"===t.innerText?void 0:void(t.innerText=""+a.week);var e=[];e.push(h.css.day),a.isBefore(this.optionsStore.viewDate,c.Unit.month)&&e.push(h.css.old),a.isAfter(this.optionsStore.viewDate,c.Unit.month)&&e.push(h.css.new),!this.optionsStore.unset&&this.dates.isPicked(a,c.Unit.date)&&e.push(h.css.active),this.validation.isValid(a,c.Unit.date)||e.push(h.css.disabled),a.isSame(new n,c.Unit.date)&&e.push(h.css.today),0!==a.weekDay&&6!==a.weekDay||e.push(h.css.weekend),i(c.Unit.date,a,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",`${a.year}-${a.monthFormatted}-`+a.dateFormatted),t.setAttribute("data-day",""+a.date),t.innerText=a.format({day:"numeric"}),a.manipulate(1,c.Unit.date)})}_daysOfTheWeek(){var t,e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(c.Unit.date),i=[];document.createElement("div"),this.optionsStore.options.display.calendarWeeks&&((t=document.createElement("div")).classList.add(h.css.calendarWeeks,h.css.noHighlight),t.innerText="#",i.push(t));for(let t=0;t<7;t++){var s=document.createElement("div");s.classList.add(h.css.dayOfTheWeek,h.css.noHighlight),s.innerText=e.format({weekday:"short"}),e.manipulate(1,c.Unit.date),i.push(s)}return i}}class N{constructor(){this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(h.css.monthsContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",M.selectMonth),e.appendChild(i)}return e}_update(t,s){var e,i,o,t=t.getElementsByClassName(h.css.monthsContainer)[0];"months"===this.optionsStore.currentView&&([e,i,o]=t.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div"),i.setAttribute(h.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?i.classList.remove(h.css.disabled):i.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.year),c.Unit.year)?e.classList.remove(h.css.disabled):e.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,c.Unit.year),c.Unit.year)?o.classList.remove(h.css.disabled):o.classList.add(h.css.disabled));let a=this.optionsStore.viewDate.clone.startOf(c.Unit.year);t.querySelectorAll(`[data-action="${M.selectMonth}"]`).forEach((t,e)=>{var i=[];i.push(h.css.month),!this.optionsStore.unset&&this.dates.isPicked(a,c.Unit.month)&&i.push(h.css.active),this.validation.isValid(a,c.Unit.month)||i.push(h.css.disabled),s(c.Unit.month,a,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",""+e),t.innerText=""+a.format({month:"short"}),a.manipulate(1,c.Unit.month)})}}class j{constructor(){this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(h.css.yearsContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",M.selectYear),e.appendChild(i)}return e}_update(t,i){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,c.Unit.year);var e,s,o,t=t.getElementsByClassName(h.css.yearsContainer)[0];"years"===this.optionsStore.currentView&&([e,s,o]=t.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div"),s.setAttribute(h.css.yearsContainer,this._startYear.format({year:"numeric"})+"-"+this._endYear.format({year:"numeric"})),this.optionsStore.options.display.components.decades?s.classList.remove(h.css.disabled):s.classList.add(h.css.disabled),this.validation.isValid(this._startYear,c.Unit.year)?e.classList.remove(h.css.disabled):e.classList.add(h.css.disabled),this.validation.isValid(this._endYear,c.Unit.year)?o.classList.remove(h.css.disabled):o.classList.add(h.css.disabled));let a=this.optionsStore.viewDate.clone.startOf(c.Unit.year).manipulate(-1,c.Unit.year);t.querySelectorAll(`[data-action="${M.selectYear}"]`).forEach(t=>{var e=[];e.push(h.css.year),!this.optionsStore.unset&&this.dates.isPicked(a,c.Unit.year)&&e.push(h.css.active),this.validation.isValid(a,c.Unit.year)||e.push(h.css.disabled),i(c.Unit.year,a,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+a.year),t.innerText=a.format({year:"numeric"}),a.manipulate(1,c.Unit.year)})}}class B{constructor(){this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(h.css.decadesContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",M.selectDecade),e.appendChild(i)}return e}_update(t,o){var[e,i]=E.getStartEndYear(100,this.optionsStore.viewDate.year),e=(this._startDecade=this.optionsStore.viewDate.clone.startOf(c.Unit.year),this._startDecade.year=e,this._endDecade=this.optionsStore.viewDate.clone.startOf(c.Unit.year),this._endDecade.year=i,t.getElementsByClassName(h.css.decadesContainer)[0]);let[a,s,n]=e.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div"),r=("decades"===this.optionsStore.currentView&&(s.setAttribute(h.css.decadesContainer,this._startDecade.format({year:"numeric"})+"-"+this._endDecade.format({year:"numeric"})),this.validation.isValid(this._startDecade,c.Unit.year)?a.classList.remove(h.css.disabled):a.classList.add(h.css.disabled),this.validation.isValid(this._endDecade,c.Unit.year)?n.classList.remove(h.css.disabled):n.classList.add(h.css.disabled)),this.dates.picked.map(t=>t.year));e.querySelectorAll(`[data-action="${M.selectDecade}"]`).forEach((t,e)=>{if(0===e)return t.classList.add(h.css.old),this._startDecade.year-10<0?(t.textContent=" ",a.classList.add(h.css.disabled),t.classList.add(h.css.disabled),void t.setAttribute("data-value","")):(t.innerText=this._startDecade.clone.manipulate(-10,c.Unit.year).format({year:"numeric"}),void t.setAttribute("data-value",""+this._startDecade.year));e=[];e.push(h.css.decade);let i=this._startDecade.year,s=this._startDecade.year+9;!this.optionsStore.unset&&0<r.filter(t=>t>=i&&t<=s).length&&e.push(h.css.active),o("decade",this._startDecade,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+this._startDecade.year),t.innerText=""+this._startDecade.format({year:"numeric"}),this._startDecade.manipulate(10,c.Unit.year)})}}class W{constructor(){this._gridColumns="",this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l)}getPicker(t){var e=document.createElement("div");return e.classList.add(h.css.clockContainer),e.append(...this._grid(t)),e}_update(t){var e,t=t.getElementsByClassName(h.css.clockContainer)[0],i=(this.dates.lastPicked||this.optionsStore.viewDate).clone;t.querySelectorAll(".disabled").forEach(t=>t.classList.remove(h.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,c.Unit.hours),c.Unit.hours)||t.querySelector(`[data-action=${M.incrementHours}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.hours),c.Unit.hours)||t.querySelector(`[data-action=${M.decrementHours}]`).classList.add(h.css.disabled),t.querySelector(`[data-time-component=${c.Unit.hours}]`).innerText=i.getHoursFormatted(this.optionsStore.options.localization.hourCycle)),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,c.Unit.minutes),c.Unit.minutes)||t.querySelector(`[data-action=${M.incrementMinutes}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.minutes),c.Unit.minutes)||t.querySelector(`[data-action=${M.decrementMinutes}]`).classList.add(h.css.disabled),t.querySelector(`[data-time-component=${c.Unit.minutes}]`).innerText=i.minutesFormatted),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,c.Unit.seconds),c.Unit.seconds)||t.querySelector(`[data-action=${M.incrementSeconds}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,c.Unit.seconds),c.Unit.seconds)||t.querySelector(`[data-action=${M.decrementSeconds}]`).classList.add(h.css.disabled),t.querySelector(`[data-time-component=${c.Unit.seconds}]`).innerText=i.secondsFormatted),this.optionsStore.isTwelveHour&&((e=t.querySelector(`[data-action=${M.toggleMeridiem}]`)).innerText=i.meridiem(),this.validation.isValid(i.clone.manipulate(12<=i.hours?-12:12,c.Unit.hours))?e.classList.remove(h.css.disabled):e.classList.add(h.css.disabled)),t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(e){this._gridColumns="";let i=[],s=[],o=[],a=document.createElement("div"),n=e(this.optionsStore.options.display.icons.up),r=e(this.optionsStore.options.display.icons.down),d=(a.classList.add(h.css.separator,h.css.noHighlight),a.cloneNode(!0));d.innerHTML=":";e=(t=!1)=>(t?d:a).cloneNode(!0);if(this.optionsStore.options.display.components.hours){let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementHour),t.setAttribute("data-action",M.incrementHours),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickHour),t.setAttribute("data-action",M.showHours),t.setAttribute("data-time-component",c.Unit.hours),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementHour),t.setAttribute("data-action",M.decrementHours),t.appendChild(r.cloneNode(!0)),o.push(t),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(i.push(e()),s.push(e(!0)),o.push(e()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementMinute),t.setAttribute("data-action",M.incrementMinutes),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickMinute),t.setAttribute("data-action",M.showMinutes),t.setAttribute("data-time-component",c.Unit.minutes),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementMinute),t.setAttribute("data-action",M.decrementMinutes),t.appendChild(r.cloneNode(!0)),o.push(t)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(i.push(e()),s.push(e(!0)),o.push(e()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementSecond),t.setAttribute("data-action",M.incrementSeconds),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickSecond),t.setAttribute("data-action",M.showSeconds),t.setAttribute("data-time-component",c.Unit.seconds),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementSecond),t.setAttribute("data-action",M.decrementSeconds),t.appendChild(r.cloneNode(!0)),o.push(t)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let t=e();i.push(t);var l=document.createElement("button");l.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),l.setAttribute("data-action",M.toggleMeridiem),l.setAttribute("tabindex","-1"),h.css.toggleMeridiem.includes(",")?l.classList.add(...h.css.toggleMeridiem.split(",")):l.classList.add(h.css.toggleMeridiem),(t=document.createElement("div")).classList.add(h.css.noHighlight),t.appendChild(l),s.push(t),t=e(),o.push(t)}return this._gridColumns=this._gridColumns.trim(),[...i,...s,...o]}}class ${constructor(){this.optionsStore=a.locate(d),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(h.css.hourContainer);for(let t=0;t<(this.optionsStore.isTwelveHour?12:24);t++){var i=document.createElement("div");i.setAttribute("data-action",M.selectHour),e.appendChild(i)}return e}_update(t,i){t=t.getElementsByClassName(h.css.hourContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(c.Unit.date);t.querySelectorAll(`[data-action="${M.selectHour}"]`).forEach(t=>{var e=[];e.push(h.css.hour),this.validation.isValid(s,c.Unit.hours)||e.push(h.css.disabled),i(c.Unit.hours,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.hours),t.innerText=s.getHoursFormatted(this.optionsStore.options.localization.hourCycle),s.manipulate(1,c.Unit.hours)})}}class q{constructor(){this.optionsStore=a.locate(d),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div"),i=(e.classList.add(h.css.minuteContainer),1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping);for(let t=0;t<60/i;t++){var s=document.createElement("div");s.setAttribute("data-action",M.selectMinute),e.appendChild(s)}return e}_update(t,i){t=t.getElementsByClassName(h.css.minuteContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(c.Unit.hours),o=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;t.querySelectorAll(`[data-action="${M.selectMinute}"]`).forEach(t=>{var e=[];e.push(h.css.minute),this.validation.isValid(s,c.Unit.minutes)||e.push(h.css.disabled),i(c.Unit.minutes,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.minutes),t.innerText=s.minutesFormatted,s.manipulate(o,c.Unit.minutes)})}}class F{constructor(){this.optionsStore=a.locate(d),this.validation=a.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(h.css.secondContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",M.selectSecond),e.appendChild(i)}return e}_update(t,i){t=t.getElementsByClassName(h.css.secondContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(c.Unit.minutes);t.querySelectorAll(`[data-action="${M.selectSecond}"]`).forEach(t=>{var e=[];e.push(h.css.second),this.validation.isValid(s,c.Unit.seconds)||e.push(h.css.disabled),i(c.Unit.seconds,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.seconds),t.innerText=s.secondsFormatted,s.manipulate(5,c.Unit.seconds)})}}class L{static toggle(t){t.classList.contains(h.css.show)?this.hide(t):this.show(t)}static showImmediately(t){t.classList.remove(h.css.collapsing),t.classList.add(h.css.collapse,h.css.show),t.style.height=""}static show(t){t.classList.contains(h.css.collapsing)||t.classList.contains(h.css.show)||(t.style.height="0",t.classList.remove(h.css.collapse),t.classList.add(h.css.collapsing),setTimeout(()=>{L.showImmediately(t)},this.getTransitionDurationFromElement(t)),t.style.height=t.scrollHeight+"px")}static hideImmediately(t){t&&(t.classList.remove(h.css.collapsing,h.css.show),t.classList.add(h.css.collapse))}static hide(t){!t.classList.contains(h.css.collapsing)&&t.classList.contains(h.css.show)&&(t.style.height=t.getBoundingClientRect().height+"px",t.offsetHeight,t.classList.remove(h.css.collapse,h.css.show),t.classList.add(h.css.collapsing),t.style.height="",setTimeout(()=>{L.hideImmediately(t)},this.getTransitionDurationFromElement(t)))}}L.getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);var t=Number.parseFloat(e),s=Number.parseFloat(i);return t||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0};class x{constructor(){this._isVisible=!1,this._documentClickEvent=t=>{this.optionsStore.options.debug||window.debug||!this._isVisible||t.composedPath().includes(this.widget)||t.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=t=>{this._eventEmitters.action.emit({e:t})},this.optionsStore=a.locate(d),this.validation=a.locate(l),this.dates=a.locate(E),this.dateDisplay=a.locate(z),this.monthDisplay=a.locate(N),this.yearDisplay=a.locate(j),this.decadeDisplay=a.locate(B),this.timeDisplay=a.locate(W),this.hourDisplay=a.locate($),this.minuteDisplay=a.locate(q),this.secondDisplay=a.locate(F),this._eventEmitters=a.locate(u),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(t=>{this._update(t)})}get widget(){return this._widget}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case c.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case c.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case c.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case c.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case c.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case c.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"clock":this._hasTime&&(this.timeDisplay._update(this.widget),this._update(c.Unit.hours),this._update(c.Unit.minutes),this._update(c.Unit.seconds));break;case"calendar":this._update(c.Unit.date),this._update(c.Unit.year),this._update(c.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(t,e,i,s){}show(){if(null==this.widget){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){var i=(new n).setLocale(this.optionsStore.options.localization.locale);if(!this.optionsStore.options.keepInvalid){let t=0,e=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(i)&&(e=-1);!(this.validation.isValid(i)||(i.manipulate(e,c.Unit.date),31<t));)t++}this.dates.setValue(i)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}this._buildWidget(),this._updateTheme();var t=this._hasTime&&!this._hasDate;t?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:M.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),t||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?L.show(this.widget.querySelector("div."+h.css.timeContainer)):L.hideImmediately(this.widget.querySelector("div."+h.css.timeContainer))),L.show(this.widget.querySelector("div."+h.css.dateContainer))),this._hasDate&&this._showMode(),this.optionsStore.options.display.inline?this.optionsStore.element.appendChild(this.widget):((this.optionsStore.options?.container||document.body).appendChild(this.widget),this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?"bottom-end":"bottom-start"}).then()),"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:M.showClock}),this.widget.querySelectorAll("[data-action]").forEach(t=>t.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(h.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(h.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:h.events.show}),this._isVisible=!0}async createPopup(t,e,i){let s;var o;(s=window?.Popper?window?.Popper?.createPopper:(o=(await import("@popperjs/core")).createPopper,o))&&(this._popperInstance=s(t,e,i))}updatePopup(){this._popperInstance?.update()}_showMode(t){if(this.widget){if(t){t=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+t));if(this.optionsStore.currentCalendarViewMode==t)return;this.optionsStore.currentCalendarViewMode=t}this.widget.querySelectorAll(`.${h.css.dateContainer} > div:not(.${h.css.calendarHeader}), .${h.css.timeContainer} > div:not(.${h.css.clockContainer})`).forEach(t=>t.style.display="none");var t=r[this.optionsStore.currentCalendarViewMode],e=this.widget.querySelector("."+t.className);switch(t.className){case h.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case h.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case h.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case h.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}e.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll("."+h.css.clockContainer)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}}_updateTheme(t){if(this.widget){if(t){if(this.optionsStore.options.display.theme===t)return;this.optionsStore.options.display.theme=t}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(h.css.isDarkPreferredQuery).addEventListener("change",()=>this._updateTheme()):window.matchMedia(h.css.isDarkPreferredQuery).removeEventListener("change",()=>this._updateTheme())}}_getThemeClass(){var t=this.optionsStore.options.display.theme||"auto",e=window.matchMedia&&window.matchMedia(h.css.isDarkPreferredQuery).matches;switch(t){case"light":return h.css.lightTheme;case"dark":return h.css.darkTheme;case"auto":return e?h.css.darkTheme:h.css.lightTheme}}_updateCalendarHeader(){if(this._hasDate){var t=[...this.widget.querySelector(`.${h.css.dateContainer} div[style*="display: grid"]`).classList].find(t=>t.startsWith(h.css.dateContainer)),[e,i,s]=this.widget.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div");switch(t){case h.css.decadesContainer:e.setAttribute("title",this.optionsStore.options.localization.previousCentury),i.setAttribute("title",""),s.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case h.css.yearsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousDecade),i.setAttribute("title",this.optionsStore.options.localization.selectDecade),s.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case h.css.monthsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousYear),i.setAttribute("title",this.optionsStore.options.localization.selectYear),s.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case h.css.daysContainer:e.setAttribute("title",this.optionsStore.options.localization.previousMonth),i.setAttribute("title",this.optionsStore.options.localization.selectMonth),s.setAttribute("title",this.optionsStore.options.localization.nextMonth),i.setAttribute(t,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}i.innerText=i.getAttribute(t)}}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(h.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:h.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?this.dates.lastPicked.clone:void 0}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(t=>t.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){var t,e=document.createElement("div"),i=(e.classList.add(h.css.widget),document.createElement("div")),s=(i.classList.add(h.css.dateContainer),i.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker()),document.createElement("div")),o=(s.classList.add(h.css.timeContainer),s.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),s.appendChild(this.hourDisplay.getPicker()),s.appendChild(this.minuteDisplay.getPicker()),s.appendChild(this.secondDisplay.getPicker()),document.createElement("div"));o.classList.add(h.css.toolbar),o.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&e.classList.add(h.css.inline),this.optionsStore.options.display.calendarWeeks&&e.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime?(e.classList.add(h.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o),(t=document.createElement("div")).classList.add("td-row"),i.classList.add("td-half"),s.classList.add("td-half"),t.appendChild(i),t.appendChild(s),e.appendChild(t),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o)):("top"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o),this._hasDate&&(this._hasTime&&(i.classList.add(h.css.collapse),"clock"!==this.optionsStore.options.display.viewMode)&&i.classList.add(h.css.show),e.appendChild(i)),this._hasTime&&(this._hasDate&&(s.classList.add(h.css.collapse),"clock"===this.optionsStore.options.display.viewMode)&&s.classList.add(h.css.show),e.appendChild(s)),"bottom"===this.optionsStore.options.display.toolbarPlacement&&e.appendChild(o),(t=document.createElement("div")).classList.add("arrow"),t.setAttribute("data-popper-arrow",""),e.appendChild(t)),this._widget=e}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}getToolbarElements(){var i=[];if(this.optionsStore.options.display.buttons.today&&((s=document.createElement("div")).setAttribute("data-action",M.today),s.setAttribute("title",this.optionsStore.options.localization.today),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),i.push(s)),!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,e;e="clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,this.optionsStore.options.display.icons.time);var s=document.createElement("div");s.setAttribute("data-action",M.togglePicker),s.setAttribute("title",t),s.appendChild(this._iconTag(e)),i.push(s)}return this.optionsStore.options.display.buttons.clear&&((s=document.createElement("div")).setAttribute("data-action",M.clear),s.setAttribute("title",this.optionsStore.options.localization.clear),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),i.push(s)),this.optionsStore.options.display.buttons.close&&((s=document.createElement("div")).setAttribute("data-action",M.close),s.setAttribute("title",this.optionsStore.options.localization.close),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),i.push(s)),i}getHeadTemplate(){var t=document.createElement("div"),e=(t.classList.add(h.css.calendarHeader),document.createElement("div")),i=(e.classList.add(h.css.previous),e.setAttribute("data-action",M.previous),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),document.createElement("div")),s=(i.classList.add(h.css.switch),i.setAttribute("data-action",M.changeCalendarView),document.createElement("div"));return s.classList.add(h.css.next),s.setAttribute("data-action",M.next),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),t.append(e,i,s),t}_iconTag(e){if("sprites"===this.optionsStore.options.display.icons.type){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");let t=document.createElementNS("http://www.w3.org/2000/svg","use");return t.setAttribute("xlink:href",e),t.setAttribute("href",e),i.appendChild(t),i}let t=document.createElement("i");return t.classList.add(...e.split(" ")),t}_rebuild(){var t=this._isVisible;this._dispose(),t&&this.show()}}class Y{constructor(){this.optionsStore=a.locate(d),this.dates=a.locate(E),this.validation=a.locate(l),this.display=a.locate(x),this._eventEmitters=a.locate(u),this._eventEmitters.action.subscribe(t=>{this.do(t.e,t.action)})}do(e,t){var i=e?.currentTarget;if(i?.classList?.contains(h.css.disabled))return!1;t=t||i?.dataset?.action;var s=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(t){case M.next:case M.previous:this.handleNextPrevious(t);break;case M.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case M.selectMonth:case M.selectYear:case M.selectDecade:this.handleSelectCalendarMode(t,i);break;case M.selectDay:this.handleSelectDay(i);break;case M.selectHour:{let t=+i.dataset.value;12<=s.hours&&this.optionsStore.isTwelveHour&&(t+=12),s.hours=t,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break}case M.selectMinute:s.minutes=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break;case M.selectSecond:s.seconds=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break;case M.incrementHours:this.manipulateAndSet(s,c.Unit.hours);break;case M.incrementMinutes:this.manipulateAndSet(s,c.Unit.minutes,this.optionsStore.options.stepping);break;case M.incrementSeconds:this.manipulateAndSet(s,c.Unit.seconds);break;case M.decrementHours:this.manipulateAndSet(s,c.Unit.hours,-1);break;case M.decrementMinutes:this.manipulateAndSet(s,c.Unit.minutes,-1*this.optionsStore.options.stepping);break;case M.decrementSeconds:this.manipulateAndSet(s,c.Unit.seconds,-1);break;case M.toggleMeridiem:this.manipulateAndSet(s,c.Unit.hours,12<=this.dates.lastPicked.hours?-12:12);break;case M.togglePicker:this.handleToggle(i);break;case M.showClock:case M.showHours:case M.showMinutes:case M.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(L.hideImmediately(this.display.widget.querySelector("div."+h.css.dateContainer)),L.showImmediately(this.display.widget.querySelector("div."+h.css.timeContainer))),this.handleShowClockContainers(t);break;case M.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case M.close:this.display.hide();break;case M.today:var o=(new n).setLocale(this.optionsStore.options.localization.locale);this._eventEmitters.updateViewDate.emit(o),this.validation.isValid(o,c.Unit.date)&&this.dates.setValue(o,this.dates.lastPickedIndex)}}handleShowClockContainers(e){if(this.display._hasTime){this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${h.css.timeContainer} > div`).forEach(t=>t.style.display="none");let t="";switch(e){case M.showClock:t=h.css.clockContainer,this.display._update("clock");break;case M.showHours:t=h.css.hourContainer,this.display._update(c.Unit.hours);break;case M.showMinutes:t=h.css.minuteContainer,this.display._update(c.Unit.minutes);break;case M.showSeconds:t=h.css.secondContainer,this.display._update(c.Unit.seconds)}this.display.widget.getElementsByClassName(t)[0].style.display="grid"}else h.errorMessages.throwError("Cannot show clock containers when time is disabled.")}handleNextPrevious(t){var{unit:e,step:i}=r[this.optionsStore.currentCalendarViewMode];t===M.next?this.optionsStore.viewDate.manipulate(i,e):this.optionsStore.viewDate.manipulate(-1*i,e),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(t){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(t,M.showClock):this.display.hide()}manipulateAndSet(t,e,i=1){t=t.manipulate(i,e);this.validation.isValid(t,e)&&this.dates.setValue(t,this.dates.lastPickedIndex)}handleSelectCalendarMode(t,e){var i=+e.dataset.value;switch(t){case M.selectMonth:this.optionsStore.viewDate.month=i;break;case M.selectYear:case M.selectDecade:this.optionsStore.viewDate.year=i}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(t){t.getAttribute("title")===this.optionsStore.options.localization.selectDate?(t.setAttribute("title",this.optionsStore.options.localization.selectTime),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(t.setAttribute("title",this.optionsStore.options.localization.selectDate),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(M.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${h.css.dateContainer}, .`+h.css.timeContainer).forEach(t=>L.toggle(t)),this._eventEmitters.viewUpdate.emit()}handleSelectDay(t){var e=this.optionsStore.viewDate.clone;t.classList.contains(h.css.old)&&e.manipulate(-1,c.Unit.month),t.classList.contains(h.css.new)&&e.manipulate(1,c.Unit.month),e.date=+t.dataset.day;this.optionsStore.options.multipleDates?-1!==(t=this.dates.pickedIndex(e,c.Unit.date))?this.dates.setValue(null,t):this.dates.setValue(e,this.dates.lastPickedIndex+1):this.dates.setValue(e,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.display.hide()}}class T{constructor(t,e={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=t=>{t=t?.detail;if(!t){var t=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},e=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates)try{var i=e.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<i.length;t++)this.dates.setFromInput(i[t],t);t()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(e,0),t()}},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.toggle()},a=new i,this._eventEmitters=a.locate(u),this.optionsStore=a.locate(d),this.display=a.locate(x),this.dates=a.locate(E),this.actions=a.locate(Y),t||h.errorMessages.mustProvideElement(),this.optionsStore.element=t,this._initializeOptions(e,m,!0),this.optionsStore.viewDate.setLocale(this.optionsStore.options.localization.locale),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(t=>{this._triggerEvent(t)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()}),this._eventEmitters.updateViewDate.subscribe(t=>{this.viewDate=t})}get viewDate(){return this.optionsStore.viewDate}set viewDate(t){this.optionsStore.viewDate=t,this.optionsStore.viewDate.setLocale(this.optionsStore.options.localization.locale),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(t,e=!1){e?this._initializeOptions(t,m):this._initializeOptions(t,this.optionsStore.options),this.display._rebuild()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){"string"==typeof e&&(e=[e]);let i;i=Array.isArray(t)?t:[t],e.length!==i.length&&h.errorMessages.subscribeMismatch();var s=[];for(let t=0;t<e.length;t++){var o=e[t];if(Array.isArray(this._subscribers[o])||(this._subscribers[o]=[]),this._subscribers[o].push(i[t]),s.push({unsubscribe:this._unsubscribe.bind(this,o,this._subscribers[o].length-1)}),1===e.length)return s[0]}return s}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input?.removeEventListener("click",this._toggleClickEvent),this._toggle?.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(t){t=O[t];t&&this.updateOptions({localization:t})}_triggerEvent(t){t.viewMode=this.optionsStore.currentView;var e=t.type===h.events.change;if(e){var{date:i,oldDate:s,isClear:o}=t;if(i&&s&&i.isSame(s)||!o&&!i&&!s)return;this._handleAfterChangeEvent(t),this.optionsStore.input?.dispatchEvent(new CustomEvent(t.type,{detail:t})),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:t}))}this.optionsStore.element.dispatchEvent(new CustomEvent(t.type,{detail:t})),window.jQuery&&(o=window.jQuery,(e&&this.optionsStore.input?o(this.optionsStore.input):o(this.optionsStore.element)).trigger(t)),this._publish(t)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach(t=>{t(e)})}_viewUpdate(){this._triggerEvent({type:h.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(t,e){this._subscribers[t].splice(e,1)}_initializeOptions(t,e,i=!1){let s=_.deepCopy(t);s=_._mergeOptions(s,e),i&&(s=_._dataToOptions(this.optionsStore.element,s)),_._validateConflicts(s),s.viewDate=s.viewDate.setLocale(s.localization.locale),this.optionsStore.viewDate.isSame(s.viewDate)||(this.optionsStore.viewDate=s.viewDate),s.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),s.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),s.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),r[this.optionsStore.currentCalendarViewMode].name!==s.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(r.findIndex(t=>t.name===s.display.viewMode),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),s.display.components.useTwentyfourHour&&void 0===s.localization.hourCycle?s.localization.hourCycle="h24":void 0===s.localization.hourCycle&&(s.localization.hourCycle=(t=>{if(!t)return"h12";var e={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},i=(new n).setLocale(t),s=(i.hours=0,i.parts(void 0,e).hour);if("12"===s)return"h12";if("24"===s)return"h24";i.hours=23;i=i.parts(void 0,e).hour;return"00"===s&&"11"===i?"h11":"00"===s&&"23"===i?"h23":void console.warn(`couldn't determine hour cycle for ${t}. start: ${s}. end: `+i)})(s.localization.locale)),this.optionsStore.options=s}_initializeInput(){var t;"INPUT"==this.optionsStore.element.tagName?this.optionsStore.input=this.optionsStore.element:(t=this.optionsStore.element.dataset.tdTargetInput,this.optionsStore.input=null==t||"nearest"==t?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(t)),this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input.addEventListener("click",this._toggleClickEvent),this.optionsStore.input.value)&&this._inputChangeEvent()}_initializeToggle(){if(!this.optionsStore.options.display.inline){let t=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==t&&(t='[data-td-toggle="datetimepicker"]'),this._toggle=null==t?this.optionsStore.element:this.optionsStore.element.querySelector(t),this._toggle.addEventListener("click",this._toggleClickEvent)}}_handleAfterChangeEvent(t){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(h.css.show)[0].classList.contains(h.css.timeContainer)||!t.oldDate&&this.optionsStore.options.useCurrent||t.oldDate&&t.date?.isSame(t.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector("."+h.css.switch)},action:M.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}let O={};function A(t,e=void 0){return t&&!t.installed&&(t(e,{TempusDominus:T,Dates:E,Display:x,DateTime:n,Namespace:h},H),t.installed=!0),H}var U=t=>{O[t.name]||(O[t.name]=t.localization)},V=t=>{t=O[t];t&&(m.localization=t)};let H={TempusDominus:T,extend:A,loadLocale:U,locale:V,Namespace:h,DefaultOptions:m,DateTime:n,Unit:c.Unit,version:"6.2.10"};c.DateTime=n,c.DefaultOptions=m,c.Namespace=h,c.TempusDominus=T,c.extend=A,c.loadLocale=U,c.locale=V,c.version="6.2.10",Object.defineProperty(c,"__esModule",{value:!0})});