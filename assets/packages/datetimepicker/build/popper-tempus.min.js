!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Popper={})}(this,function(t){"use strict";function w(t){var e;return null==t?window:"[object Window]"!==t.toString()?(e=t.ownerDocument)&&e.defaultView||window:t}function f(t){return t instanceof w(t).Element||t instanceof Element}function d(t){return t instanceof w(t).HTMLElement||t instanceof HTMLElement}function a(t){return"undefined"!=typeof ShadowRoot&&(t instanceof w(t).ShadowRoot||t instanceof ShadowRoot)}var E=Math.max,M=Math.min,b=Math.round;function n(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function C(){return!/^((?!chrome|android).)*safari/i.test(n())}function h(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=t.getBoundingClientRect(),o=1,a=1;e&&d(t)&&(o=0<t.offsetWidth&&b(s.width)/t.offsetWidth||1,a=0<t.offsetHeight&&b(s.height)/t.offsetHeight||1);e=(f(t)?w(t):window).visualViewport,t=!C()&&i,i=(s.left+(t&&e?e.offsetLeft:0))/o,t=(s.top+(t&&e?e.offsetTop:0))/a,e=s.width/o,o=s.height/a;return{width:e,height:o,top:t,right:i+e,bottom:t+o,left:i,x:i,y:t}}function p(t){t=w(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function l(t){return t?(t.nodeName||"").toLowerCase():null}function S(t){return((f(t)?t.ownerDocument:t.document)||window.document).documentElement}function u(t){return h(S(t)).left+p(t).scrollLeft}function D(t){return w(t).getComputedStyle(t)}function c(t){var t=D(t),e=t.overflow,i=t.overflowX,t=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+t+i)}function F(t,e,i){void 0===i&&(i=!1);var s=d(e),o=d(e)&&(n=(o=e).getBoundingClientRect(),a=b(n.width)/o.offsetWidth||1,n=b(n.height)/o.offsetHeight||1,1!==a||1!==n),a=S(e),n=h(t,o,i),t={scrollLeft:0,scrollTop:0},r={x:0,y:0};return!s&&i||("body"===l(e)&&!c(a)||(t=(s=e)!==w(s)&&d(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:p(s)),d(e)?((r=h(e,!0)).x+=e.clientLeft,r.y+=e.clientTop):a&&(r.x=u(a))),{x:n.left+t.scrollLeft-r.x,y:n.top+t.scrollTop-r.y,width:n.width,height:n.height}}function W(t){var e=h(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function r(t){return"html"===l(t)?t:t.assignedSlot||t.parentNode||(a(t)?t.host:null)||S(t)}function y(t,e){void 0===e&&(e=[]);var i=function t(e){return 0<=["html","body","#document"].indexOf(l(e))?e.ownerDocument.body:d(e)&&c(e)?e:t(r(e))}(t),t=i===(null==(t=t.ownerDocument)?void 0:t.body),s=w(i),s=t?[s].concat(s.visualViewport||[],c(i)?i:[]):i,i=e.concat(s);return t?i:i.concat(y(r(s)))}function o(t){return d(t)&&"fixed"!==D(t).position?t.offsetParent:null}function T(t){for(var e,i=w(t),s=o(t);s&&(e=s,0<=["table","td","th"].indexOf(l(e)))&&"static"===D(s).position;)s=o(s);return(!s||"html"!==l(s)&&("body"!==l(s)||"static"!==D(s).position))&&(s||function(t){var e=/firefox/i.test(n()),i=/Trident/i.test(n());if(!i||!d(t)||"fixed"!==D(t).position){var s=r(t);for(a(s)&&(s=s.host);d(s)&&["html","body"].indexOf(l(s))<0;){var o=D(s);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return s;s=s.parentNode}}return null}(t))||i}var L="top",x="bottom",O="right",A="left",U="auto",V=[L,x,O,A],H="start",k="end",B="clippingParents",q="viewport",m="popper",$="reference",R=V.reduce(function(t,e){return t.concat([e+"-"+H,e+"-"+k])},[]),Y=[].concat(V,[U]).reduce(function(t,e){return t.concat([e,e+"-"+H,e+"-"+k])},[]),Q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function G(t){var i=new Map,s=new Set,o=[];return t.forEach(function(t){i.set(t.name,t)}),t.forEach(function(t){s.has(t.name)||!function e(t){s.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){s.has(t)||(t=i.get(t))&&e(t)}),o.push(t)}(t)}),o}function v(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return[].concat(i).reduce(function(t,e){return t.replace(/%s/,e)},t)}var g='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',J='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',K=["name","enabled","phase","fn","effect","requires","options"];function P(t){return t.split("-")[0]}function X(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&a(i)){var s=e;do{if(s&&t.isSameNode(s))return!0}while(s=s.parentNode||s.host)}return!1}function Z(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tt(t,e,i){return e===q?Z((o=i,n=w(s=t),r=S(s),n=n.visualViewport,d=r.clientWidth,r=r.clientHeight,c=l=0,n&&(d=n.width,r=n.height,(a=C())||!a&&"fixed"===o)&&(l=n.offsetLeft,c=n.offsetTop),{width:d,height:r,x:l+u(s),y:c})):f(e)?((o=h(a=e,!1,"fixed"===(o=i))).top=o.top+a.clientTop,o.left=o.left+a.clientLeft,o.bottom=o.top+a.clientHeight,o.right=o.left+a.clientWidth,o.width=a.clientWidth,o.height=a.clientHeight,o.x=o.left,o.y=o.top,o):Z((n=S(t),d=S(n),r=p(n),l=null==(l=n.ownerDocument)?void 0:l.body,s=E(d.scrollWidth,d.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=E(d.scrollHeight,d.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),n=-r.scrollLeft+u(n),r=-r.scrollTop,"rtl"===D(l||d).direction&&(n+=E(d.clientWidth,l?l.clientWidth:0)-s),{width:s,height:c,x:n,y:r}));var s,o,a,n,r,d,l,c}function et(i,t,e,s){var o,a="clippingParents"===t?(n=y(r(a=i)),f(o=0<=["absolute","fixed"].indexOf(D(a).position)&&d(a)?T(a):a)?n.filter(function(t){return f(t)&&X(t,o)&&"body"!==l(t)}):[]):[].concat(t),n=[].concat(a,[e]),t=n[0],e=n.reduce(function(t,e){e=tt(i,e,s);return t.top=E(e.top,t.top),t.right=M(e.right,t.right),t.bottom=M(e.bottom,t.bottom),t.left=E(e.left,t.left),t},tt(i,t,s));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}function z(t){return t.split("-")[1]}function it(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function st(t){var e,i=t.reference,s=t.element,t=t.placement,o=t?P(t):null,t=t?z(t):null,a=i.x+i.width/2-s.width/2,n=i.y+i.height/2-s.height/2;switch(o){case L:e={x:a,y:i.y-s.height};break;case x:e={x:a,y:i.y+i.height};break;case O:e={x:i.x+i.width,y:n};break;case A:e={x:i.x-s.width,y:n};break;default:e={x:i.x,y:i.y}}var r=o?it(o):null;if(null!=r){var d="y"===r?"height":"width";switch(t){case H:e[r]=e[r]-(i[d]/2-s[d]/2);break;case k:e[r]=e[r]+(i[d]/2-s[d]/2)}}return e}function ot(){return{top:0,right:0,bottom:0,left:0}}function at(t){return Object.assign({},ot(),t)}function nt(i,t){return t.reduce(function(t,e){return t[e]=i,t},{})}function I(t,e){var s,e=e=void 0===e?{}:e,i=e.placement,i=void 0===i?t.placement:i,o=e.strategy,o=void 0===o?t.strategy:o,a=e.boundary,a=void 0===a?B:a,n=e.rootBoundary,n=void 0===n?q:n,r=e.elementContext,r=void 0===r?m:r,d=e.altBoundary,d=void 0!==d&&d,e=e.padding,e=void 0===e?0:e,e=at("number"!=typeof e?e:nt(e,V)),l=t.rects.popper,d=t.elements[d?r===m?$:m:r],d=et(f(d)?d:d.contextElement||S(t.elements.popper),a,n,o),a=h(t.elements.reference),n=st({reference:a,element:l,strategy:"absolute",placement:i}),o=Z(Object.assign({},l,n)),l=r===m?o:a,c={top:d.top-l.top+e.top,bottom:l.bottom-d.bottom+e.bottom,left:d.left-l.left+e.left,right:l.right-d.right+e.right},n=t.modifiersData.offset;return r===m&&n&&(s=n[i],Object.keys(c).forEach(function(t){var e=0<=[O,x].indexOf(t)?1:-1,i=0<=[L,x].indexOf(t)?"y":"x";c[t]+=s[i]*e})),c}var rt="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",dt={placement:"bottom",modifiers:[],strategy:"absolute"};function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function e(t){var t=t=void 0===t?{}:t,e=t.defaultModifiers,u=void 0===e?[]:e,e=t.defaultOptions,m=void 0===e?dt:e;return function(n,r,e){void 0===e&&(e=m);var i,s,d={placement:"bottom",orderedModifiers:[],options:Object.assign({},dt,m),modifiersData:{},elements:{reference:n,popper:r},attributes:{},styles:{}},l=[],c=!1,h={state:d,setOptions:function(t){var i,e,s,o,a,t="function"==typeof t?t(d.options):t,t=(p(),d.options=Object.assign({},m,d.options,t),d.scrollParents={reference:f(n)?y(n):n.contextElement?y(n.contextElement):[],popper:y(r)},t=[].concat(u,d.options.modifiers),e=t.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),t=Object.keys(e).map(function(t){return e[t]}),i=G(t),Q.reduce(function(t,e){return t.concat(i.filter(function(t){return t.phase===e}))},[])),t=(d.orderedModifiers=t.filter(function(t){return t.enabled}),t=[].concat(t,d.options.modifiers),o=function(t){return t.name},a=new Set,t.filter(function(t){t=o(t);if(!a.has(t))return a.add(t),!0})),t=((s=t).forEach(function(i){[].concat(Object.keys(i),K).filter(function(t,e,i){return i.indexOf(t)===e}).forEach(function(t){switch(t){case"name":"string"!=typeof i.name&&console.error(v(g,String(i.name),'"name"','"string"','"'+String(i.name)+'"'));break;case"enabled":"boolean"!=typeof i.enabled&&console.error(v(g,i.name,'"enabled"','"boolean"','"'+String(i.enabled)+'"'));break;case"phase":Q.indexOf(i.phase)<0&&console.error(v(g,i.name,'"phase"',"either "+Q.join(", "),'"'+String(i.phase)+'"'));break;case"fn":"function"!=typeof i.fn&&console.error(v(g,i.name,'"fn"','"function"','"'+String(i.fn)+'"'));break;case"effect":null!=i.effect&&"function"!=typeof i.effect&&console.error(v(g,i.name,'"effect"','"function"','"'+String(i.fn)+'"'));break;case"requires":null==i.requires||Array.isArray(i.requires)||console.error(v(g,i.name,'"requires"','"array"','"'+String(i.requires)+'"'));break;case"requiresIfExists":Array.isArray(i.requiresIfExists)||console.error(v(g,i.name,'"requiresIfExists"','"array"','"'+String(i.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+i.name+'" modifier, valid properties are '+K.map(function(t){return'"'+t+'"'}).join(", ")+'; but "'+t+'" was provided.')}i.requires&&i.requires.forEach(function(e){null==s.find(function(t){return t.name===e})&&console.error(v(J,String(i.name),e,e))})})}),P(d.options.placement)!==U||d.orderedModifiers.find(function(t){return"flip"===t.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")),D(r));return[t.marginTop,t.marginRight,t.marginBottom,t.marginLeft].some(function(t){return parseFloat(t)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),d.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,t=t.effect;"function"==typeof t&&(t=t({state:d,name:e,instance:h,options:void 0===i?{}:i}),l.push(t||function(){}))}),h.update()},forceUpdate:function(){if(!c){var t=d.elements,e=t.reference,t=t.popper;if(lt(e,t)){d.rects={reference:F(e,T(t),"fixed"===d.options.strategy),popper:W(t)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(t){return d.modifiersData[t.name]=Object.assign({},t.data)});for(var i,s,o,a=0,n=0;n<d.orderedModifiers.length;n++){if(100<(a+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}!0===d.reset?(d.reset=!1,n=-1):(i=(o=d.orderedModifiers[n]).fn,s=o.options,o=o.name,"function"==typeof i&&(d=i({state:d,options:void 0===s?{}:s,name:o,instance:h})||d))}}else console.error(rt)}},update:(i=function(){return new Promise(function(t){h.forceUpdate(),t(d)})},function(){return s=s||new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})}),destroy:function(){p(),c=!0}};return lt(n,r)?h.setOptions(e).then(function(t){!c&&e.onFirstUpdate&&e.onFirstUpdate(t)}):console.error(rt),h;function p(){l.forEach(function(t){return t()}),l=[]}}}var _={passive:!0};var i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,s=(t=t.options).scroll,o=void 0===s||s,a=void 0===(s=t.resize)||s,n=w(e.elements.popper),r=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&r.forEach(function(t){t.addEventListener("scroll",i.update,_)}),a&&n.addEventListener("resize",i.update,_),function(){o&&r.forEach(function(t){t.removeEventListener("scroll",i.update,_)}),a&&n.removeEventListener("resize",i.update,_)}},data:{}};var s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,t=t.name;e.modifiersData[t]=st({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},ct={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ht(t){var e,i,s,o=t.popper,a=t.popperRect,n=t.placement,r=t.variation,d=t.offsets,l=t.position,c=t.gpuAcceleration,h=t.adaptive,p=t.roundOffsets,t=t.isFixed,u=d.x,u=void 0===u?0:u,m=d.y,m=void 0===m?0:m,f="function"==typeof p?p({x:u,y:m}):{x:u,y:m},f=(u=f.x,m=f.y,d.hasOwnProperty("x")),d=d.hasOwnProperty("y"),y=A,v=L,g=window,o=(h&&(i="clientHeight",e="clientWidth",(s=T(o))===w(o)&&"static"!==D(s=S(o)).position&&"absolute"===l&&(i="scrollHeight",e="scrollWidth"),n!==L&&(n!==A&&n!==O||r!==k)||(v=x,m=(m-((t&&s===g&&g.visualViewport?g.visualViewport.height:s[i])-a.height))*(c?1:-1)),n!==A&&(n!==L&&n!==x||r!==k)||(y=O,u=(u-((t&&s===g&&g.visualViewport?g.visualViewport.width:s[e])-a.width))*(c?1:-1))),Object.assign({position:l},h&&ct)),t=!0===p?(n=(i={x:u,y:m}).x,i=i.y,r=window.devicePixelRatio||1,{x:b(n*r)/r||0,y:b(i*r)/r||0}):{x:u,y:m};return u=t.x,m=t.y,c?Object.assign({},o,((s={})[v]=d?"0":"",s[y]=f?"0":"",s.transform=(g.devicePixelRatio||1)<=1?"translate("+u+"px, "+m+"px)":"translate3d("+u+"px, "+m+"px, 0)",s)):Object.assign({},o,((e={})[v]=d?m+"px":"",e[y]=f?u+"px":"",e.transform="",e))}var pt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,t=t.options,i=void 0===(i=t.gpuAcceleration)||i,s=void 0===(s=t.adaptive)||s,t=void 0===(t=t.roundOffsets)||t,o=D(e.elements.popper).transitionProperty||"",i=(s&&["transform","top","right","bottom","left"].some(function(t){return 0<=o.indexOf(t)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" ")),{placement:P(e.placement),variation:z(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy});null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ht(Object.assign({},i,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:t})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ht(Object.assign({},i,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var ut={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var o=t.state;Object.keys(o.elements).forEach(function(t){var e=o.styles[t]||{},i=o.attributes[t]||{},s=o.elements[t];d(s)&&l(s)&&(Object.assign(s.style,e),Object.keys(i).forEach(function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var s=t.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(t){var e=s.elements[t],i=s.attributes[t]||{},t=Object.keys((s.styles.hasOwnProperty(t)?s.styles:o)[t]).reduce(function(t,e){return t[e]="",t},{});d(e)&&l(e)&&(Object.assign(e.style,t),Object.keys(i).forEach(function(t){e.removeAttribute(t)}))})}},requires:["computeStyles"]};var mt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,e=t.options,t=t.name,r=void 0===(e=e.offset)?[0,0]:e,e=Y.reduce(function(t,e){var i,s,o,a;return t[e]=(e=e,i=n.rects,s=r,o=P(e),a=0<=[A,L].indexOf(o)?-1:1,e=(i="function"==typeof s?s(Object.assign({},i,{placement:e})):s)[0]||0,s=(i[1]||0)*a,0<=[A,O].indexOf(o)?{x:s,y:e}:{x:e,y:s}),t},{}),i=(s=e[n.placement]).x,s=s.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=i,n.modifiersData.popperOffsets.y+=s),n.modifiersData[t]=e}},ft={left:"right",right:"left",bottom:"top",top:"bottom"};function j(t){return t.replace(/left|right|bottom|top/g,function(t){return ft[t]})}var yt={start:"end",end:"start"};function vt(t){return t.replace(/start|end/g,function(t){return yt[t]})}var gt={name:"flip",enabled:!0,phase:"main",fn:function(t){var h=t.state,e=t.options,t=t.name;if(!h.modifiersData[t]._skip){for(var i=e.mainAxis,s=void 0===i||i,i=e.altAxis,o=void 0===i||i,i=e.fallbackPlacements,p=e.padding,u=e.boundary,m=e.rootBoundary,a=e.altBoundary,n=e.flipVariations,f=void 0===n||n,y=e.allowedAutoPlacements,n=h.options.placement,e=P(n),i=i||(e===n||!f?[j(n)]:P(i=n)===U?[]:(e=j(i),[vt(i),e,vt(e)])),r=[n].concat(i).reduce(function(t,e){return t.concat(P(e)===U?(i=h,s=(t=t=void 0===(t={placement:e,boundary:u,rootBoundary:m,padding:p,flipVariations:f,allowedAutoPlacements:y})?{}:t).placement,o=t.boundary,a=t.rootBoundary,n=t.padding,r=t.flipVariations,d=void 0===(t=t.allowedAutoPlacements)?Y:t,l=z(s),t=l?r?R:R.filter(function(t){return z(t)===l}):V,0===(s=t.filter(function(t){return 0<=d.indexOf(t)})).length&&(s=t,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" "))),c=s.reduce(function(t,e){return t[e]=I(i,{placement:e,boundary:o,rootBoundary:a,padding:n})[P(e)],t},{}),Object.keys(c).sort(function(t,e){return c[t]-c[e]})):e);var i,s,o,a,n,r,d,l,c},[]),d=h.rects.reference,l=h.rects.popper,c=new Map,v=!0,g=r[0],w=0;w<r.length;w++){var b=r[w],S=P(b),D=z(b)===H,k=0<=[L,x].indexOf(S),_=k?"width":"height",C=I(h,{placement:b,boundary:u,rootBoundary:m,altBoundary:a,padding:p}),k=k?D?O:A:D?x:L,D=(d[_]>l[_]&&(k=j(k)),j(k)),_=[];if(s&&_.push(C[S]<=0),o&&_.push(C[k]<=0,C[D]<=0),_.every(function(t){return t})){g=b,v=!1;break}c.set(b,_)}if(v)for(var E=f?3:1;0<E;E--)if("break"===function(e){var t=r.find(function(t){t=c.get(t);if(t)return t.slice(0,e).every(function(t){return t})});if(t)return g=t,"break"}(E))break;h.placement!==g&&(h.modifiersData[t]._skip=!0,h.placement=g,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function N(t,e,i){return E(t,M(e,i))}var wt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e,i,s,o,a,n,r,d,l,c=t.state,h=t.options,t=t.name,p=void 0===(p=h.mainAxis)||p,u=void 0!==(u=h.altAxis)&&u,m=h.boundary,f=h.rootBoundary,y=h.altBoundary,v=h.padding,g=void 0===(g=h.tether)||g,h=void 0===(h=h.tetherOffset)?0:h,m=I(c,{boundary:m,rootBoundary:f,padding:v,altBoundary:y}),f=P(c.placement),y=!(v=z(c.placement)),w=it(f),b="x"===w?"y":"x",S=c.modifiersData.popperOffsets,D=c.rects.reference,k=c.rects.popper,h="number"==typeof(h="function"==typeof h?h(Object.assign({},c.rects,{placement:c.placement})):h)?{mainAxis:h,altAxis:h}:Object.assign({mainAxis:0,altAxis:0},h),_=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,C={x:0,y:0};S&&(p&&(p="y"===w?"height":"width",n=(r=S[w])+m[i="y"===w?L:A],d=r-m[l="y"===w?x:O],e=g?-k[p]/2:0,o=(v===H?D:k)[p],v=v===H?-k[p]:-D[p],a=c.elements.arrow,a=g&&a?W(a):{width:0,height:0},i=(s=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:ot())[i],s=s[l],l=N(0,D[p],a[p]),a=y?D[p]/2-e-l-i-h.mainAxis:o-l-i-h.mainAxis,o=y?-D[p]/2+e+l+s+h.mainAxis:v+l+s+h.mainAxis,y=(i=c.elements.arrow&&T(c.elements.arrow))?"y"===w?i.clientTop||0:i.clientLeft||0:0,v=r+o-(e=null!=(p=null==_?void 0:_[w])?p:0),l=N(g?M(n,r+a-e-y):n,r,g?E(d,v):d),S[w]=l,C[w]=l-r),u&&(s="y"==b?"height":"width",o=(i=S[b])+m["x"===w?L:A],p=i-m["x"===w?x:O],a=-1!==[L,A].indexOf(f),y=null!=(e=null==_?void 0:_[b])?e:0,n=a?o:i-D[s]-k[s]-y+h.altAxis,v=a?i+D[s]+k[s]-y-h.altAxis:p,r=g&&a?(d=N(d=n,i,l=v),l<d?l:d):N(g?n:o,i,g?v:p),S[b]=r,C[b]=r-i),c.modifiersData[t]=C)},requiresIfExists:["offset"]};var bt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,s,o,a=t.state,n=t.name,t=t.options,r=a.elements.arrow,d=a.modifiersData.popperOffsets,l=it(c=P(a.placement)),c=0<=[A,O].indexOf(c)?"height":"width";r&&d&&(t=t.padding,i=a,i=at("number"!=typeof(t="function"==typeof t?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:nt(t,V)),t=W(r),o="y"===l?L:A,s="y"===l?x:O,e=a.rects.reference[c]+a.rects.reference[l]-d[l]-a.rects.popper[c],d=d[l]-a.rects.reference[l],r=(r=T(r))?"y"===l?r.clientHeight||0:r.clientWidth||0:0,o=i[o],i=r-t[c]-i[s],o=N(o,s=r/2-t[c]/2+(e/2-d/2),i),a.modifiersData[n]=((r={})[l]=o,r.centerOffset=o-s,r))},effect:function(t){var e=t.state;null==(t=void 0===(t=t.options.element)?"[data-popper-arrow]":t)||"string"==typeof t&&!(t=e.elements.popper.querySelector(t))||(d(t)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),X(e.elements.popper,t)?e.elements.arrow=t:console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function St(t,e,i){return{top:t.top-e.height-(i=void 0===i?{x:0,y:0}:i).y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Dt(e){return[L,O,x,A].some(function(t){return 0<=e[t]})}var kt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,t=t.name,i=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,a=I(e,{elementContext:"reference"}),n=I(e,{altBoundary:!0}),a=St(a,i),i=St(n,s,o),n=Dt(a),s=Dt(i);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:i,isReferenceHidden:n,hasPopperEscaped:s},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":n,"data-popper-escaped":s})}},_t=e({defaultModifiers:[i,s,pt,ut]}),Ct=[i,s,pt,ut,mt,gt,wt,bt,kt],Et=e({defaultModifiers:Ct});t.applyStyles=ut,t.arrow=bt,t.computeStyles=pt,t.createPopper=Et,t.createPopperLite=_t,t.defaultModifiers=Ct,t.detectOverflow=I,t.eventListeners=i,t.flip=gt,t.hide=kt,t.offset=mt,t.popperGenerator=e,t.popperOffsets=s,t.preventOverflow=wt,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tempusDominus={})}(this,function(p){"use strict";class s extends Error{}const t="tempus-dominus";class m{}m.NAME=t,m.dataKey="td",m.events=new class{constructor(){this.key=".td",this.change="change"+this.key,this.update="update"+this.key,this.error="error"+this.key,this.show="show"+this.key,this.hide="hide"+this.key,this.blur="blur"+this.key,this.focus="focus"+this.key,this.keyup="keyup"+this.key,this.keydown="keydown"+this.key}},m.css=new class{constructor(){this.widget=t+"-widget",this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=this.dateContainer+"-decades",this.decade="decade",this.yearsContainer=this.dateContainer+"-years",this.year="year",this.monthsContainer=this.dateContainer+"-months",this.month="month",this.daysContainer=this.dateContainer+"-days",this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=this.timeContainer+"-clock",this.hourContainer=this.timeContainer+"-hour",this.minuteContainer=this.timeContainer+"-minute",this.secondContainer=this.timeContainer+"-second",this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},m.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(t){t=new s(this.base+` Unexpected option: ${t} does not match a known option.`);throw t.code=1,t}unexpectedOptions(t){t=new s(this.base+": "+t.join(", "));throw t.code=1,t}unexpectedOptionValue(t,e,i){t=new s(this.base+` Unexpected option value: ${t} does not accept a value of "${e}". Valid values are: `+i.join(", "));throw t.code=2,t}typeMismatch(t,e,i){t=new s(this.base+` Mismatch types: ${t} has a type of ${e} instead of the required `+i);throw t.code=3,t}numbersOutOfRange(t,e,i){t=new s(this.base+` ${t} expected an array of number between ${e} and ${i}.`);throw t.code=4,t}failedToParseDate(t,e,i=!1){e=new s(this.base+` Could not correctly parse "${e}" to a date for ${t}.`);if(e.code=5,!i)throw e;console.warn(e)}mustProvideElement(){var t=new s(this.base+" No element was provided.");throw t.code=6,t}subscribeMismatch(){var t=new s(this.base+" The subscribed events does not match the number of callbacks");throw t.code=7,t}conflictingConfiguration(t){t=new s(this.base+" A configuration value conflicts with another rule. "+t);throw t.code=8,t}customDateFormatError(t){t=new s(this.base+" Custom Date Format: "+t);throw t.code=9,t}dateString(){console.warn(this.base+" Using a string for date options is not recommended unless you specify an ISO string or use the customDateFormat plugin.")}deprecatedWarning(t,e){console.warn(this.base+` Warning ${t} is deprecated and will be removed in a future version. `+e)}throwError(t){t=new s(this.base+" "+t);throw t.code=9,t}};var a={...{dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:t=>{var e=["th","st","nd","rd"],i=t%100;return`[${t}${e[(i-20)%10]||e[i]||e[0]}]`}}};p.Unit=void 0,(u=p.Unit||(p.Unit={})).seconds="seconds",u.minutes="minutes",u.hours="hours",u.date="date",u.month="month",u.year="year";const e={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},o=t=>{switch(t){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},n=t=>{if(!t)return"h12";var e={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},i=(new f).setLocalization({locale:t}),s=(i.hours=0,i.parts(void 0,e).hour);if("12"===s)return"h12";if("24"===s)return"h24";i.hours=23;i=i.parts(void 0,e).hour;return"00"===s&&"11"===i?"h11":"00"===s&&"23"===i?"h23":void console.warn(`couldn't determine hour cycle for ${t}. start: ${s}. end: `+i)};class f extends Date{constructor(){super(...arguments),this.localization=a,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?d?d?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(t,e)=>{t.offset=this.offsetFromString(e)}],this.expressions={t:{pattern:void 0,parser:(t,e)=>{t.afternoon=this.meridiemMatch(e)}},T:{pattern:void 0,parser:(t,e)=>{t.afternoon=this.meridiemMatch(e)}},fff:{pattern:this.match3,parser:(t,e)=>{t.milliseconds=+e}},s:{pattern:this.match1to2,parser:this.addInput("seconds")},ss:{pattern:this.match1to2,parser:this.addInput("seconds")},m:{pattern:this.match1to2,parser:this.addInput("minutes")},mm:{pattern:this.match1to2,parser:this.addInput("minutes")},H:{pattern:this.match1to2,parser:this.addInput("hours")},h:{pattern:this.match1to2,parser:this.addInput("hours")},HH:{pattern:this.match1to2,parser:this.addInput("hours")},hh:{pattern:this.match1to2,parser:this.addInput("hours")},d:{pattern:this.match1to2,parser:this.addInput("day")},dd:{pattern:this.match2,parser:this.addInput("day")},Do:{pattern:this.matchWord,parser:(e,i)=>{if(e.day=+(i.match(/\d+/)[0]||1),this.localization.ordinal)for(let t=1;t<=31;t+=1)this.localization.ordinal(t).replace(/[[\]]/g,"")===i&&(e.day=t)}},M:{pattern:this.match1to2,parser:this.addInput("month")},MM:{pattern:this.match2,parser:this.addInput("month")},MMM:{pattern:this.matchWord,parser:(t,e)=>{var i=this.getAllMonths(),i=(this.getAllMonths("short")||i.map(t=>t.slice(0,3))).indexOf(e)+1;if(i<1)throw new Error;t.month=i%12||i}},MMMM:{pattern:this.matchWord,parser:(t,e)=>{e=this.getAllMonths().indexOf(e)+1;if(e<1)throw new Error;t.month=e%12||e}},y:{pattern:this.matchSigned,parser:this.addInput("year")},yy:{pattern:this.match2,parser:(t,e)=>{t.year=this.parseTwoDigitYear(+e)}},yyyy:{pattern:this.match4,parser:this.addInput("year")}}}setLocale(t){return this.localization||(this.localization=a,this.localization.locale=t),this}setLocalization(t){return this.localization=t,this}static convert(t,e="default",i=void 0){if(t)return i||((i=a).locale=e),new f(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).setLocalization(i);throw new Error("A date is required")}get clone(){return new f(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(t){return void 0!==t&&"null"!==JSON.stringify(t)&&t.constructor.name===f.name}startOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":var i;this.startOf(p.Unit.date),this.weekDay!==e&&(i=(this.weekDay-e+7)%7,this.manipulate(-1*i,p.Unit.date));break;case"month":this.startOf(p.Unit.date),this.setDate(1);break;case"year":this.startOf(p.Unit.date),this.setMonth(0,1)}return this}endOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.endOf(p.Unit.date);var i=6+e;this.weekDay!==i&&this.manipulate(i-this.weekDay,p.Unit.date);break;case"month":this.endOf(p.Unit.date),this.manipulate(1,p.Unit.month),this.setDate(0);break;case"year":this.endOf(p.Unit.date),this.setMonth(11,31)}return this}manipulate(t,e){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this[e]+=t,this}isBefore(t,e){if(!f.isValid(t))return!1;if(!e)return this.valueOf()<t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()<t.clone.startOf(e).valueOf()}isAfter(t,e){if(!f.isValid(t))return!1;if(!e)return this.valueOf()>t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()>t.clone.startOf(e).valueOf()}isSame(t,e){if(!f.isValid(t))return!1;if(!e)return this.valueOf()===t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return t=f.convert(t),this.clone.startOf(e).valueOf()===t.startOf(e).valueOf()}isBetween(t,e,i,s="()"){if(!f.isValid(t)||!f.isValid(e))return!1;if(i&&void 0===this[i])throw new Error(`Unit '${i}' is not valid`);var o="("===s[0],s=")"===s[1],o=o?this.isAfter(t,i):!this.isBefore(t,i),t=s?this.isBefore(e,i):!this.isAfter(e,i);return o&&t}parts(t=this.localization.locale,e={dateStyle:"full",timeStyle:"long"}){const i={};return new Intl.DateTimeFormat(t,e).formatToParts(this).filter(t=>"literal"!==t.type).forEach(t=>i[t.type]=t.value),i}get seconds(){return this.getSeconds()}set seconds(t){this.setSeconds(t)}get secondsFormatted(){return this.parts(void 0,e).second}get minutes(){return this.getMinutes()}set minutes(t){this.setMinutes(t)}get minutesFormatted(){return this.parts(void 0,e).minute}get hours(){return this.getHours()}set hours(t){this.setHours(t)}getHoursFormatted(t="h12"){return this.parts(void 0,{...e,hourCycle:t}).hour}meridiem(t=this.localization.locale){return new Intl.DateTimeFormat(t,{hour:"numeric",hour12:!0}).formatToParts(this).find(t=>"dayPeriod"===t.type)?.value}get date(){return this.getDate()}set date(t){this.setDate(t)}get dateFormatted(){return this.parts(void 0,e).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(t){var e=new Date(this.year,t+1),e=(e.setDate(0),e.getDate());this.date>e&&(this.date=e),this.setMonth(t)}get monthFormatted(){return this.parts(void 0,e).month}get year(){return this.getFullYear()}set year(t){this.setFullYear(t)}get week(){var t=this.computeOrdinal(),e=this.getUTCDay();let i=Math.floor((t-e+10)/7);return i<1?i=this.weeksInWeekYear():i>this.weeksInWeekYear()&&(i=1),i}weeksInWeekYear(){var t=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,e=this.year-1,e=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return 4==t||3==e?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(t="long"){const e=new Intl.DateTimeFormat(this.localization.locale,{month:t}).format;return[...Array(12).keys()].map(t=>e(new Date(2021,t)))}replaceTokens(t,s){return t.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,(t,e,i)=>{i=i&&i.toUpperCase();return e||s[i]||a.dateFormats[i]})}parseTwoDigitYear(t){return t+(68<t?1900:2e3)}offsetFromString(t){var e,i;return!t||"Z"===t||([t,i,e]=t.match(/([+-]|\d\d)/g),0===(i=60*+i+(+e||0)))?0:"+"===t?-i:i}zoneInformation(t,e){let i=t.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");t=i.includes("-");return i=i.replace("-",""),"z"===e?i=i.substring(1,2):"zz"===e&&(i=i.substring(0,2)),(t?"-":"")+i}addInput(i){return(t,e)=>{t[i]=+e}}getLocaleAfternoon(){return new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find(t=>"dayPeriod"===t.type)?.value?.replace(/\s+/g," ")}meridiemMatch(t){return t.toLowerCase()===this.getLocaleAfternoon().toLowerCase()}correctHours(t){var e,i=t["afternoon"];void 0!==i&&(e=t["hours"],i?e<12&&(t.hours+=12):12===e&&(t.hours=0),delete t.afternoon)}makeParser(t){var e=(t=this.replaceTokens(t,this.localization.dateFormats)).match(this.formattingTokens);const n=e["length"],r=[];for(let t=0;t<n;t+=1){var i=e[t],s=this.expressions[i];s?.parser?r[t]=s:r[t]=i.replace(/^\[[^[\]]*]$/g,"")}return i=>{var s={hours:0,minutes:0,seconds:0,milliseconds:0};for(let t=0,e=0;t<n;t+=1){var o=r[t];if("string"==typeof o)e+=o.length;else{var a=i.slice(e);let t=a;o.pattern&&(a=o.pattern.exec(a),t=a[0]),o.parser.call(this,s,t),i=i.replace(t,"")}}return this.correctHours(s),s}}static fromString(e,i){i?.format||m.errorMessages.customDateFormatError("No format was provided");try{var s=new f;if(s.setLocalization(i),-1<["x","X"].indexOf(i.format))return new f(("X"===i.format?1e3:1)*+e);e=e.replace(/\s+/g," ");var{year:o,month:a,day:n,hours:r,minutes:d,seconds:l,milliseconds:c,zone:h}=s.makeParser(i.format)(e),p=n||(o||a?1:s.getDate()),u=o||s.getFullYear();let t=0;return o&&!a||(t=0<a?a-1:s.getMonth()),h?new f(Date.UTC(u,t,p,r,d,l,c+60*h.offset*1e3)):new f(u,t,p,r,d,l,c)}catch(t){m.errorMessages.customDateFormatError(`Unable to parse provided input: ${e}, format: `+i.format)}}format(t,e=this.localization.locale){if(t&&"object"==typeof t)return new Intl.DateTimeFormat(e,t).format(this);var e=this.replaceTokens(t||this.localization.format||a.dateFormats.L+", "+a.dateFormats.LT,this.localization.dateFormats),t=t=>new Intl.DateTimeFormat(this.localization.locale,t).format(this),i=(this.localization.hourCycle||(this.localization.hourCycle=n(this.localization.locale)),this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle),s=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle;const o={y:this.year,yy:t({year:"2-digit"}),yyyy:this.year,M:t({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:t({weekday:"short"}),dddd:t({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(i),h:12<this.hours?this.hours-12:this.hours,hh:this.getHoursFormatted(s),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return e.replace(this.dateTimeRegex,(t,e)=>e||o[t]).replace(/\[/g,"").replace(/]/g,"")}}class P{constructor(){this.cache=new Map}locate(t){var e=this.cache.get(t);return e||(e=new t,this.cache.set(t,e),e)}}let i;const r=[{name:"calendar",className:m.css.daysContainer,unit:p.Unit.month,step:1},{name:"months",className:m.css.monthsContainer,unit:p.Unit.year,step:1},{name:"years",className:m.css.yearsContainer,unit:p.Unit.year,step:10},{name:"decades",className:m.css.decadesContainer,unit:p.Unit.year,step:100}];class d{constructor(){this._currentCalendarViewMode=0,this._viewDate=new f,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(t){this._currentCalendarViewMode=t,this.currentView=r[t].name}get viewDate(){return this._viewDate}set viewDate(t){this._viewDate=t,this.options&&(this.options.viewDate=t)}refreshCurrentView(){this.currentView=r[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class l{constructor(){this.optionsStore=i.locate(d)}isValid(e,t){if(!this._enabledDisabledDatesIsValid(t,e))return!1;if(t!==p.Unit.month&&t!==p.Unit.year&&0<this.optionsStore.options.restrictions.daysOfWeekDisabled?.length&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(e.weekDay))return!1;if(!this._minMaxIsValid(t,e))return!1;if(t===p.Unit.hours||t===p.Unit.minutes||t===p.Unit.seconds){if(!this._enabledDisabledHoursIsValid(e))return!1;if(0!==this.optionsStore.options.restrictions.disabledTimeIntervals?.filter(t=>e.isBetween(t.from,t.to)).length)return!1}return!0}_enabledDisabledDatesIsValid(t,e){return t!==p.Unit.date||!(0<this.optionsStore.options.restrictions.disabledDates.length&&this._isInDisabledDates(e)||0<this.optionsStore.options.restrictions.enabledDates.length&&!this._isInEnabledDates(e))}_isInDisabledDates(e){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length||!this.optionsStore.options.restrictions.disabledDates.find(t=>t.isSame(e,p.Unit.date)))}_isInEnabledDates(e){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||!!this.optionsStore.options.restrictions.enabledDates.find(t=>t.isSame(e,p.Unit.date))}_minMaxIsValid(t,e){return!(this.optionsStore.options.restrictions.minDate&&e.isBefore(this.optionsStore.options.restrictions.minDate,t)||this.optionsStore.options.restrictions.maxDate&&e.isAfter(this.optionsStore.options.restrictions.maxDate,t))}_enabledDisabledHoursIsValid(t){return!(0<this.optionsStore.options.restrictions.disabledHours.length&&this._isInDisabledHours(t)||0<this.optionsStore.options.restrictions.enabledHours.length&&!this._isInEnabledHours(t))}_isInDisabledHours(t){return!(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)&&(t=t.hours,this.optionsStore.options.restrictions.disabledHours.includes(t))}_isInEnabledHours(t){return!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length||(t=t.hours,this.optionsStore.options.restrictions.enabledHours.includes(t))}dateRangeIsValid(t,e,i){if(this.optionsStore.options.dateRange&&(2===t.length||1===e)){var s=t[0].clone;if(!s.isSame(i,p.Unit.date))for(s.manipulate(1,p.Unit.date);!s.isSame(i,p.Unit.date);){if(!this.isValid(s,p.Unit.date))return!1;s.manipulate(1,p.Unit.date)}}return!0}}class c{constructor(){this.subscribers=[]}subscribe(t){return this.subscribers.push(t),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(t){this.subscribers.splice(t,1)}emit(e){this.subscribers.forEach(t=>{t(e)})}destroy(){this.subscribers=null,this.subscribers=[]}}class h{constructor(){this.triggerEvent=new c,this.viewUpdate=new c,this.updateDisplay=new c,this.action=new c,this.updateViewDate=new c}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}var u={clear:"Clear selection",close:"Close the picker",dateFormats:a.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:a.format,hourCycle:a.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:a.locale,maxWeekdayLength:0,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:a.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem"};const y={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom"},keepInvalid:!1,localization:u,meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new f};u={...u};function v(t,e){return t?t.constructor.name===f.name?t:t.constructor.name===Date.name?f.convert(t):"string"!=typeof t||(t=f.fromString(t,e),"null"===JSON.stringify(t))?null:t:null}function g(t,e,i){"string"==typeof t&&"input"!==e&&m.errorMessages.dateString();i=v(t,i);return i||m.errorMessages.failedToParseDate(e,t,"input"===e),i}function w(e,i,t,s=a){Array.isArray(i)||m.errorMessages.typeMismatch(e,t,"array of DateTime or Date");for(let t=0;t<i.length;t++){var o=g(i[t],e,s);o.setLocalization(s),i[t]=o}}function b(t,e,i){Array.isArray(e)&&!e.some(t=>"number"!=typeof t)||m.errorMessages.typeMismatch(t,i,"array of numbers")}function S(i){return({value:t,localization:e})=>{t=g(t,i,e);if(void 0!==t)return t.setLocalization(e),t}}function D(t){const e=S(t);return t=>void 0===t.value?t.value:e(t)}function k(i,s,o){return({value:t,providedType:e})=>void 0===t?[]:(b(i,t,e),t.some(t=>t<s||o<t)&&m.errorMessages.numbersOutOfRange(i,s,o),t)}function _(t){return k(t,0,23)}function C(s){return({value:t,providedType:e,localization:i})=>void 0===t?[]:(w(s,t,e,i),t)}function E(i){return({value:t,path:e})=>(i.includes(t)||m.errorMessages.unexpectedOptionValue(e.substring(1),t,i),t)}const z=Object.freeze({defaultDate:S("defaultDate"),viewDate:S("viewDate"),minDate:D("restrictions.minDate"),maxDate:D("restrictions.maxDate"),disabledHours:_("restrictions.disabledHours"),enabledHours:_("restrictions.enabledHours"),disabledDates:C("restrictions.disabledDates"),enabledDates:C("restrictions.enabledDates"),daysOfWeekDisabled:k("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:s,value:t,providedType:e,localization:o})=>{if(void 0===t)return[];Array.isArray(t)||m.errorMessages.typeMismatch(s,e,"array of { from: DateTime|Date, to: DateTime|Date }");const a=t;for(let i=0;i<a.length;i++)Object.keys(a[i]).forEach(t=>{var e=`${s}[${i}].`+t,e=g(a[i][t],e,o);e.setLocalization(o),a[i][t]=e});return a},toolbarPlacement:E(["top","bottom","default"]),type:E(["icons","sprites"]),viewMode:E(["clock","calendar","months","years","decades"]),theme:E(["light","dark","auto"]),placement:E(["top","bottom"]),meta:({value:t})=>t,dayViewHeaderFormat:({value:t})=>t,container:({value:t,path:e})=>(t&&!(t instanceof HTMLElement||t instanceof Element||t?.appendChild)&&m.errorMessages.typeMismatch(e.substring(1),typeof t,"HTMLElement"),t),useTwentyfourHour:({value:t,path:e,providedType:i,defaultType:s})=>{if(m.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===t||"boolean"===i)return t;m.errorMessages.typeMismatch(e,i,s)},hourCycle:E(["h11","h12","h23","h24"])});function I(t){return(z[t.key]||(({value:t,defaultType:e,providedType:i,path:s})=>{switch(e){case"boolean":return"true"===t||!0===t;case"number":return+t;case"string":return t.toString();case"object":return{};case"function":return t;default:m.errorMessages.typeMismatch(s,i,e)}}))(t)}class M{static deepCopy(i){const s={};return Object.keys(i).forEach(t=>{var e=i[t];e instanceof f?s[t]=e.clone:e instanceof Date?s[t]=new Date(e.valueOf()):"object"!=typeof(s[t]=e)||e instanceof HTMLElement||e instanceof Element||Array.isArray(e)||(s[t]=M.deepCopy(e))}),s}static objectPath(t,e){return(t="."===t.charAt(0)?t.slice(1):t)?t.split(".").reduce((t,e)=>M.isValue(t)||M.isValue(t[e])?t[e]:void 0,e):e}static spread(a,n,r,d=""){const l=M.objectPath(d,y);var t=Object.keys(a).filter(t=>!Object.keys(l).includes(t));if(0<t.length){const s=M.getFlattenDefaultOptions();t=t.map(e=>{let t=`"${d}.${e}" in not a known option.`;var i=s.find(t=>t.includes(e));return i&&(t+=` Did you mean "${i}"?`),t});m.errorMessages.unexpectedOptions(t)}Object.keys(a).filter(t=>"__proto__"!==t&&"constructor"!==t).forEach(t=>{"."===(d+="."+t).charAt(0)&&(d=d.slice(1));var e=l[t],i=typeof a[t],s=typeof e,o=a[t];d=(null==o?n[t]=o:"object"!=typeof e||Array.isArray(a[t])||e instanceof Date||M.ignoreProperties.includes(t)?n[t]=M.processKey(t,o,i,s,d,r):M.spread(a[t],n[t],r,d),d.substring(0,d.lastIndexOf("."+t)))})}static processKey(t,e,i,s,o,a){return I({key:t,value:e,providedType:i,defaultType:s,path:o,localization:a})}static _mergeOptions(t,e){var i=M.deepCopy(e),e="default"!==e.localization?.locale?e.localization:t?.localization||y.localization;return M.spread(t,i,e,""),i}static _dataToOptions(t,s){const o=JSON.parse(JSON.stringify(t.dataset));if(o?.tdTargetInput&&delete o.tdTargetInput,o?.tdTargetToggle&&delete o.tdTargetToggle,!o||0===Object.keys(o).length)return s;const a={};t=t=>{const e={};return Object.keys(t).forEach(t=>{e[t.toLowerCase()]=t}),e};const n=this.normalizeObject(t),r=t(s);return Object.keys(o).filter(t=>t.startsWith(m.dataKey)).map(t=>t.substring(2)).forEach(t=>{let e=r[t.toLowerCase()];var i;t.includes("_")?(i=t.split("_"),void 0!==(e=r[i[0].toLowerCase()])&&s[e].constructor===Object&&(a[e]=n(i,1,s[e],o["td"+t]))):void 0!==e&&(a[e]=o["td"+t])}),this._mergeOptions(a,s)}static normalizeObject(n){const r=(t,e,i,s)=>{var o=n(i)[t[e].toLowerCase()],a={};return void 0!==o&&(i[o]?.constructor===Object?(e++,a[o]=r(t,e,i[o],s)):a[o]=s),a};return r}static _dateTypeCheck(t,e){return v(t,e)}static _typeCheckDateArray(t,e,i,s){return w(t,e,i,s)}static _typeCheckNumberArray(t,e,i){return b(t,e,i)}static dateConversion(t,e,i){return g(t,e,i)}static getFlattenDefaultOptions(){if(!this._flattenDefaults){const s=(t,i=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap(([t,e])=>s(e,[...i,t])):i.join(".");this._flattenDefaults=s(y)}return this._flattenDefaults}static _validateConflicts(t){!t.display.sideBySide||t.display.components.clock&&(t.display.components.hours||t.display.components.minutes||t.display.components.seconds)||m.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&m.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate))&&m.errorMessages.conflictingConfiguration("maxDate is before minDate"),t.multipleDates&&t.dateRange&&m.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}M.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],M.isValue=t=>null!=t;class T{constructor(){this._dates=[],this.optionsStore=i.locate(d),this.validation=i.locate(l),this._eventEmitters=i.locate(h)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(t){return t?(t.localization=this.optionsStore.options.localization,t.format()):""}parseInput(e){try{return M.dateConversion(e,"input",this.optionsStore.options.localization)}catch(t){this._eventEmitters.triggerEvent.emit({type:m.events.error,reason:m.errorMessages.failedToParseInput,format:this.optionsStore.options.localization.format,value:e})}}setFromInput(t,e){t?(t=this.parseInput(t))&&(t.setLocalization(this.optionsStore.options.localization),this.setValue(t,e)):this.setValue(void 0,e)}add(t){this._dates.push(t)}isPicked(e,t){if(!f.isValid(e))return!1;if(!t)return void 0!==this._dates.find(t=>t.isSame(e));const i=o(t),s=e.format(i);return void 0!==this._dates.map(t=>t.format(i)).find(t=>t===s)}pickedIndex(t,e){if(!f.isValid(t))return-1;if(!e)return this._dates.map(t=>t.valueOf()).indexOf(t.valueOf());const i=o(e);e=t.format(i);return this._dates.map(t=>t.format(i)).indexOf(e)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:m.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(t,e){var i=t/10,t=Math.floor(e/t)*t;return[t,t+9*i,Math.floor(e/i)*i]}updateInput(e){if(this.optionsStore.input){let t=this.formatInput(e);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(t=this._dates.map(t=>this.formatInput(t)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}}setValue(e,i){const t=void 0===i,s=!e&&t;let o=this.optionsStore.unset?null:this._dates[i]?.clone;var a;!o&&!this.optionsStore.unset&&t&&s&&(o=this.lastPicked),e&&o?.isSame(e)?this.updateInput(e):e?(i=i||0,e=e.clone,1!==this.optionsStore.options.stepping&&(e.minutes=Math.round(e.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,e.startOf(p.Unit.minutes)),a=t=>{this._dates[i]=e,this._eventEmitters.updateViewDate.emit(e.clone),this.updateInput(e),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:m.events.change,date:e,oldDate:o,isClear:s,isValid:t})},this.validation.isValid(e)&&this.validation.dateRangeIsValid(this.picked,i,e)?a(!0):(this.optionsStore.options.keepInvalid&&a(!1),this._eventEmitters.triggerEvent.emit({type:m.events.error,reason:m.errorMessages.failedToSetInvalidDate,date:e,oldDate:o}))):this._setValueNull(s,i,o)}_setValueNull(t,e,i){!this.optionsStore.options.multipleDates||1===this._dates.length||t?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(e,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:m.events.change,date:void 0,oldDate:i,isClear:t,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}(V=H=H||{}).next="next",V.previous="previous",V.changeCalendarView="changeCalendarView",V.selectMonth="selectMonth",V.selectYear="selectYear",V.selectDecade="selectDecade",V.selectDay="selectDay",V.selectHour="selectHour",V.selectMinute="selectMinute",V.selectSecond="selectSecond",V.incrementHours="incrementHours",V.incrementMinutes="incrementMinutes",V.incrementSeconds="incrementSeconds",V.decrementHours="decrementHours",V.decrementMinutes="decrementMinutes",V.decrementSeconds="decrementSeconds",V.toggleMeridiem="toggleMeridiem",V.togglePicker="togglePicker",V.showClock="showClock",V.showHours="showHours",V.showMinutes="showMinutes",V.showSeconds="showSeconds",V.clear="clear",V.close="close",V.today="today";var L=H;class j{constructor(){this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l)}getPicker(){var t,e=document.createElement("div"),{rangeHoverEvent:i,rangeHoverOutEvent:s}=(e.classList.add(m.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks&&((t=document.createElement("div")).classList.add(m.css.calendarWeeks,m.css.noHighlight),e.appendChild(t)),this.handleMouseEvents(e));for(let t=0;t<42;t++){0!==t&&t%7==0&&this.optionsStore.options.display.calendarWeeks&&((o=document.createElement("div")).classList.add(m.css.calendarWeeks,m.css.noHighlight),e.appendChild(o));var o=document.createElement("div");o.setAttribute("data-action",L.selectDay),e.appendChild(o),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(o.addEventListener("mouseover",i),o.addEventListener("mouseout",s))}return e}_update(t,i){t=t.getElementsByClassName(m.css.daysContainer)[0];this._updateCalendarView(t);const s=this.optionsStore.viewDate.clone.startOf(p.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,p.Unit.hours);this._handleCalendarWeeks(t,s.clone),t.querySelectorAll(`[data-action="${L.selectDay}"]`).forEach(t=>{var e=[];e.push(m.css.day),s.isBefore(this.optionsStore.viewDate,p.Unit.month)&&e.push(m.css.old),s.isAfter(this.optionsStore.viewDate,p.Unit.month)&&e.push(m.css.new),this.optionsStore.unset||this.optionsStore.options.dateRange||!this.dates.isPicked(s,p.Unit.date)||e.push(m.css.active),this.validation.isValid(s,p.Unit.date)||e.push(m.css.disabled),s.isSame(new f,p.Unit.date)&&e.push(m.css.today),0!==s.weekDay&&6!==s.weekDay||e.push(m.css.weekend),this._handleDateRange(s,e),i(p.Unit.date,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",this._dateToDataValue(s)),t.setAttribute("data-day",""+s.date),t.innerText=s.parts(void 0,{day:"numeric"}).day,s.manipulate(1,p.Unit.date)})}_dateToDataValue(t){return f.isValid(t)?`${t.year}-${t.month.toString().padStart(2,"0")}-`+t.date.toString().padStart(2,"0"):""}_handleDateRange(t,e){var i=this.dates.picked[0],s=this.dates.picked[1];this.optionsStore.options.dateRange&&(t.isBetween(i,s,p.Unit.date)&&e.push(m.css.rangeIn),t.isSame(i,p.Unit.date)&&e.push(m.css.rangeStart),t.isSame(s,p.Unit.date))&&e.push(m.css.rangeEnd)}handleMouseEvents(h){return{rangeHoverEvent:e=>{e=e?.currentTarget;if(1===this.dates.picked.length&&!e.classList.contains(m.css.disabled)){var i=[...h.querySelectorAll(".day")];const r=e.getAttribute("data-value");var s=f.fromString(r,{format:"yyyy-MM-dd"});const d=i.findIndex(t=>t.getAttribute("data-value")===r);var o=this.dates.picked[0],a=this.dates.picked[1];const l=this._dateToDataValue(o),c=i.findIndex(t=>t.getAttribute("data-value")===l);var n=i[c];s.isSame(o,p.Unit.date)||e.classList.remove(m.css.rangeStart),s.isSame(a,p.Unit.date)||e.classList.remove(m.css.rangeEnd);let t;t=s.isBefore(o)?(e.classList.add(m.css.rangeStart),n?.classList.remove(m.css.rangeStart),n?.classList.add(m.css.rangeEnd),(t,e)=>e>d&&e<c):(e.classList.add(m.css.rangeEnd),n?.classList.remove(m.css.rangeEnd),n?.classList.add(m.css.rangeStart),(t,e)=>e<d&&e>c),i.filter(t).forEach(t=>{t.classList.add(m.css.rangeIn)})}},rangeHoverOutEvent:t=>{var e=[...h.querySelectorAll(".day")];1===this.dates.picked.length&&e.forEach(t=>t.classList.remove(m.css.rangeIn)),1!==this.dates.picked.length||(e=t?.currentTarget,(t=new f(e.getAttribute("data-value"))).isSame(this.dates.picked[0],p.Unit.date)||e.classList.remove(m.css.rangeStart),t.isSame(this.dates.picked[1],p.Unit.date))||e.classList.remove(m.css.rangeEnd)}}}_updateCalendarView(t){var e,i;"calendar"===this.optionsStore.currentView&&([t,e,i]=t.parentElement.getElementsByClassName(m.css.calendarHeader)[0].getElementsByTagName("div"),e.setAttribute(m.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?e.classList.remove(m.css.disabled):e.classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.month),p.Unit.month)?t.classList.remove(m.css.disabled):t.classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,p.Unit.month),p.Unit.month)?i.classList.remove(m.css.disabled):i.classList.add(m.css.disabled))}_daysOfTheWeek(){var t,e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(p.Unit.date),i=[];document.createElement("div"),this.optionsStore.options.display.calendarWeeks&&((t=document.createElement("div")).classList.add(m.css.calendarWeeks,m.css.noHighlight),t.innerText="#",i.push(t));for(let t=0;t<7;t++){var s=document.createElement("div");s.classList.add(m.css.dayOfTheWeek,m.css.noHighlight);let t=e.format({weekday:"short"});0<this.optionsStore.options.localization.maxWeekdayLength&&(t=t.substring(0,this.optionsStore.options.localization.maxWeekdayLength)),s.innerText=t,e.manipulate(1,p.Unit.date),i.push(s)}return i}_handleCalendarWeeks(t,e){[...t.querySelectorAll("."+m.css.calendarWeeks)].filter(t=>"#"!==t.innerText).forEach(t=>{t.innerText=""+e.week,e.manipulate(7,p.Unit.date)})}}class N{constructor(){this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(m.css.monthsContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",L.selectMonth),e.appendChild(i)}return e}_update(t,s){var e,i,o,t=t.getElementsByClassName(m.css.monthsContainer)[0];"months"===this.optionsStore.currentView&&([e,i,o]=t.parentElement.getElementsByClassName(m.css.calendarHeader)[0].getElementsByTagName("div"),i.setAttribute(m.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?i.classList.remove(m.css.disabled):i.classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.year),p.Unit.year)?e.classList.remove(m.css.disabled):e.classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,p.Unit.year),p.Unit.year)?o.classList.remove(m.css.disabled):o.classList.add(m.css.disabled));const a=this.optionsStore.viewDate.clone.startOf(p.Unit.year);t.querySelectorAll(`[data-action="${L.selectMonth}"]`).forEach((t,e)=>{var i=[];i.push(m.css.month),!this.optionsStore.unset&&this.dates.isPicked(a,p.Unit.month)&&i.push(m.css.active),this.validation.isValid(a,p.Unit.month)||i.push(m.css.disabled),s(p.Unit.month,a,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",""+e),t.innerText=""+a.format({month:"short"}),a.manipulate(1,p.Unit.month)})}}class F{constructor(){this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(m.css.yearsContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",L.selectYear),e.appendChild(i)}return e}_update(t,i){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,p.Unit.year);var e,s,o,t=t.getElementsByClassName(m.css.yearsContainer)[0];"years"===this.optionsStore.currentView&&([e,s,o]=t.parentElement.getElementsByClassName(m.css.calendarHeader)[0].getElementsByTagName("div"),s.setAttribute(m.css.yearsContainer,this._startYear.format({year:"numeric"})+"-"+this._endYear.format({year:"numeric"})),this.optionsStore.options.display.components.decades?s.classList.remove(m.css.disabled):s.classList.add(m.css.disabled),this.validation.isValid(this._startYear,p.Unit.year)?e.classList.remove(m.css.disabled):e.classList.add(m.css.disabled),this.validation.isValid(this._endYear,p.Unit.year)?o.classList.remove(m.css.disabled):o.classList.add(m.css.disabled));const a=this.optionsStore.viewDate.clone.startOf(p.Unit.year).manipulate(-1,p.Unit.year);t.querySelectorAll(`[data-action="${L.selectYear}"]`).forEach(t=>{var e=[];e.push(m.css.year),!this.optionsStore.unset&&this.dates.isPicked(a,p.Unit.year)&&e.push(m.css.active),this.validation.isValid(a,p.Unit.year)||e.push(m.css.disabled),i(p.Unit.year,a,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+a.year),t.innerText=a.format({year:"numeric"}),a.manipulate(1,p.Unit.year)})}}class W{constructor(){this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(m.css.decadesContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",L.selectDecade),e.appendChild(i)}return e}_update(t,o){var[e,i]=T.getStartEndYear(100,this.optionsStore.viewDate.year),e=(this._startDecade=this.optionsStore.viewDate.clone.startOf(p.Unit.year),this._startDecade.year=e,this._endDecade=this.optionsStore.viewDate.clone.startOf(p.Unit.year),this._endDecade.year=i,t.getElementsByClassName(m.css.decadesContainer)[0]);const[a,s,n]=e.parentElement.getElementsByClassName(m.css.calendarHeader)[0].getElementsByTagName("div"),r=("decades"===this.optionsStore.currentView&&(s.setAttribute(m.css.decadesContainer,this._startDecade.format({year:"numeric"})+"-"+this._endDecade.format({year:"numeric"})),this.validation.isValid(this._startDecade,p.Unit.year)?a.classList.remove(m.css.disabled):a.classList.add(m.css.disabled),this.validation.isValid(this._endDecade,p.Unit.year)?n.classList.remove(m.css.disabled):n.classList.add(m.css.disabled)),this.dates.picked.map(t=>t.year));e.querySelectorAll(`[data-action="${L.selectDecade}"]`).forEach((t,e)=>{if(0===e)return t.classList.add(m.css.old),this._startDecade.year-10<0?(t.textContent=" ",a.classList.add(m.css.disabled),t.classList.add(m.css.disabled),void t.setAttribute("data-value","")):(t.innerText=this._startDecade.clone.manipulate(-10,p.Unit.year).format({year:"numeric"}),void t.setAttribute("data-value",""+this._startDecade.year));e=[];e.push(m.css.decade);const i=this._startDecade.year,s=this._startDecade.year+9;!this.optionsStore.unset&&0<r.filter(t=>t>=i&&t<=s).length&&e.push(m.css.active),this.validation.isValid(this._startDecade,p.Unit.year)||this.validation.isValid(this._startDecade.clone.manipulate(10,p.Unit.year),p.Unit.year)||e.push(m.css.disabled),o("decade",this._startDecade,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+this._startDecade.year),t.innerText=""+this._startDecade.format({year:"numeric"}),this._startDecade.manipulate(10,p.Unit.year)})}}class B{constructor(){this._gridColumns="",this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l)}getPicker(t){var e=document.createElement("div");return e.classList.add(m.css.clockContainer),e.append(...this._grid(t)),e}_update(t){var e,i,t=t.getElementsByClassName(m.css.clockContainer)[0];let s=this.dates.lastPicked?.clone;!s&&this.optionsStore.options.useCurrent&&(s=this.optionsStore.viewDate.clone),t.querySelectorAll(".disabled").forEach(t=>t.classList.remove(m.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,p.Unit.hours),p.Unit.hours)||t.querySelector(`[data-action=${L.incrementHours}]`).classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.hours),p.Unit.hours)||t.querySelector(`[data-action=${L.decrementHours}]`).classList.add(m.css.disabled),t.querySelector(`[data-time-component=${p.Unit.hours}]`).innerText=s?s.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,p.Unit.minutes),p.Unit.minutes)||t.querySelector(`[data-action=${L.incrementMinutes}]`).classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.minutes),p.Unit.minutes)||t.querySelector(`[data-action=${L.decrementMinutes}]`).classList.add(m.css.disabled),t.querySelector(`[data-time-component=${p.Unit.minutes}]`).innerText=s?s.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,p.Unit.seconds),p.Unit.seconds)||t.querySelector(`[data-action=${L.incrementSeconds}]`).classList.add(m.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,p.Unit.seconds),p.Unit.seconds)||t.querySelector(`[data-action=${L.decrementSeconds}]`).classList.add(m.css.disabled),t.querySelector(`[data-time-component=${p.Unit.seconds}]`).innerText=s?s.secondsFormatted:"--"),this.optionsStore.isTwelveHour&&(e=t.querySelector(`[data-action=${L.toggleMeridiem}]`),i=(s||this.optionsStore.viewDate).clone,e.innerText=i.meridiem(),this.validation.isValid(i.manipulate(12<=i.hours?-12:12,p.Unit.hours))?e.classList.remove(m.css.disabled):e.classList.add(m.css.disabled)),t.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(e){this._gridColumns="";const i=[],s=[],o=[],a=document.createElement("div"),n=e(this.optionsStore.options.display.icons.up),r=e(this.optionsStore.options.display.icons.down),d=(a.classList.add(m.css.separator,m.css.noHighlight),a.cloneNode(!0));d.innerHTML=":";e=(t=!1)=>(t?d:a).cloneNode(!0);if(this.optionsStore.options.display.components.hours){let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementHour),t.setAttribute("data-action",L.incrementHours),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickHour),t.setAttribute("data-action",L.showHours),t.setAttribute("data-time-component",p.Unit.hours),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementHour),t.setAttribute("data-action",L.decrementHours),t.appendChild(r.cloneNode(!0)),o.push(t),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(i.push(e()),s.push(e(!0)),o.push(e()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementMinute),t.setAttribute("data-action",L.incrementMinutes),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickMinute),t.setAttribute("data-action",L.showMinutes),t.setAttribute("data-time-component",p.Unit.minutes),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementMinute),t.setAttribute("data-action",L.decrementMinutes),t.appendChild(r.cloneNode(!0)),o.push(t)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(i.push(e()),s.push(e(!0)),o.push(e()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementSecond),t.setAttribute("data-action",L.incrementSeconds),t.appendChild(n.cloneNode(!0)),i.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickSecond),t.setAttribute("data-action",L.showSeconds),t.setAttribute("data-time-component",p.Unit.seconds),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementSecond),t.setAttribute("data-action",L.decrementSeconds),t.appendChild(r.cloneNode(!0)),o.push(t)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let t=e();i.push(t);var l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),l.setAttribute("data-action",L.toggleMeridiem),l.setAttribute("tabindex","-1"),m.css.toggleMeridiem.includes(",")?l.classList.add(...m.css.toggleMeridiem.split(",")):l.classList.add(m.css.toggleMeridiem),(t=document.createElement("div")).classList.add(m.css.noHighlight),t.appendChild(l),s.push(t),t=e(),o.push(t)}return this._gridColumns=this._gridColumns.trim(),[...i,...s,...o]}}class q{constructor(){this.optionsStore=i.locate(d),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(m.css.hourContainer);for(let t=0;t<(this.optionsStore.isTwelveHour?12:24);t++){var i=document.createElement("div");i.setAttribute("data-action",L.selectHour),e.appendChild(i)}return e}_update(t,i){t=t.getElementsByClassName(m.css.hourContainer)[0];const s=this.optionsStore.viewDate.clone.startOf(p.Unit.date);t.querySelectorAll(`[data-action="${L.selectHour}"]`).forEach(t=>{var e=[];e.push(m.css.hour),this.validation.isValid(s,p.Unit.hours)||e.push(m.css.disabled),i(p.Unit.hours,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.hours),t.innerText=s.getHoursFormatted(this.optionsStore.options.localization.hourCycle),s.manipulate(1,p.Unit.hours)})}}class ${constructor(){this.optionsStore=i.locate(d),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div"),i=(e.classList.add(m.css.minuteContainer),1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping);for(let t=0;t<60/i;t++){var s=document.createElement("div");s.setAttribute("data-action",L.selectMinute),e.appendChild(s)}return e}_update(t,i){t=t.getElementsByClassName(m.css.minuteContainer)[0];const s=this.optionsStore.viewDate.clone.startOf(p.Unit.hours),o=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;t.querySelectorAll(`[data-action="${L.selectMinute}"]`).forEach(t=>{var e=[];e.push(m.css.minute),this.validation.isValid(s,p.Unit.minutes)||e.push(m.css.disabled),i(p.Unit.minutes,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.minutes),t.innerText=s.minutesFormatted,s.manipulate(o,p.Unit.minutes)})}}class R{constructor(){this.optionsStore=i.locate(d),this.validation=i.locate(l)}getPicker(){var e=document.createElement("div");e.classList.add(m.css.secondContainer);for(let t=0;t<12;t++){var i=document.createElement("div");i.setAttribute("data-action",L.selectSecond),e.appendChild(i)}return e}_update(t,i){t=t.getElementsByClassName(m.css.secondContainer)[0];const s=this.optionsStore.viewDate.clone.startOf(p.Unit.minutes);t.querySelectorAll(`[data-action="${L.selectSecond}"]`).forEach(t=>{var e=[];e.push(m.css.second),this.validation.isValid(s,p.Unit.seconds)||e.push(m.css.disabled),i(p.Unit.seconds,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.seconds),t.innerText=s.secondsFormatted,s.manipulate(5,p.Unit.seconds)})}}class x{static toggle(t){t.classList.contains(m.css.show)?this.hide(t):this.show(t)}static showImmediately(t){t.classList.remove(m.css.collapsing),t.classList.add(m.css.collapse,m.css.show),t.style.height=""}static show(t){t.classList.contains(m.css.collapsing)||t.classList.contains(m.css.show)||(t.style.height="0",t.classList.remove(m.css.collapse),t.classList.add(m.css.collapsing),setTimeout(()=>{x.showImmediately(t)},this.getTransitionDurationFromElement(t)),t.style.height=t.scrollHeight+"px")}static hideImmediately(t){t&&(t.classList.remove(m.css.collapsing,m.css.show),t.classList.add(m.css.collapse))}static hide(t){!t.classList.contains(m.css.collapsing)&&t.classList.contains(m.css.show)&&(t.style.height=t.getBoundingClientRect().height+"px",t.offsetHeight,t.classList.remove(m.css.collapse,m.css.show),t.classList.add(m.css.collapsing),t.style.height="",setTimeout(()=>{x.hideImmediately(t)},this.getTransitionDurationFromElement(t)))}}x.getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);var t=Number.parseFloat(e),s=Number.parseFloat(i);return t||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0};class O{constructor(){this._isVisible=!1,this._documentClickEvent=t=>{this.optionsStore.options.debug||window.debug||!this._isVisible||t.composedPath().includes(this.widget)||t.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=t=>{this._eventEmitters.action.emit({e:t})},this.optionsStore=i.locate(d),this.validation=i.locate(l),this.dates=i.locate(T),this.dateDisplay=i.locate(j),this.monthDisplay=i.locate(N),this.yearDisplay=i.locate(F),this.decadeDisplay=i.locate(W),this.timeDisplay=i.locate(B),this.hourDisplay=i.locate(q),this.minuteDisplay=i.locate($),this.secondDisplay=i.locate(R),this._eventEmitters=i.locate(h),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(t=>{this._update(t)})}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector("div."+m.css.dateContainer)}get timeContainer(){return this.widget?.querySelector("div."+m.css.timeContainer)}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case p.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case p.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case p.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case p.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case p.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case p.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":this._hasTime&&(this.timeDisplay._update(this.widget),this._update(p.Unit.hours),this._update(p.Unit.minutes),this._update(p.Unit.seconds));break;case"calendar":this._update(p.Unit.date),this._update(p.Unit.year),this._update(p.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(t,e,i,s){}show(){var t,e;null==this.widget&&(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline?this.optionsStore.element.appendChild(this.widget):(t=this.optionsStore.options?.container||document.body,e=this.optionsStore.options?.display?.placement||"bottom",t.appendChild(this.widget),this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?e+"-end":e+"-start"}).then()),"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:L.showClock}),this.widget.querySelectorAll("[data-action]").forEach(t=>t.addEventListener("click",this._actionsClickEvent)),this._hasTime)&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(m.css.clockContainer)[0].style.display="grid"),this.widget.classList.add(m.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:m.events.show}),this._isVisible=!0}_showSetupViewMode(){var t=this._hasTime&&!this._hasDate;t?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:L.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),t||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?x.show(this.timeContainer):x.hideImmediately(this.timeContainer)),x.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){var i=(new f).setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let t=0,e=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(i)&&(e=-1);!this.validation.isValid(i)&&31<t;)i.manipulate(e,p.Unit.date),t++}this.dates.setValue(i)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(t,e,i){let s;var o;(s=window?.Popper?window?.Popper?.createPopper:(o=(await import("@popperjs/core"))["createPopper"],o))&&(this._popperInstance=s(t,e,i))}updatePopup(){this._popperInstance?.update()}_showMode(t){if(this.widget){if(t){t=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+t));if(this.optionsStore.currentCalendarViewMode==t)return;this.optionsStore.currentCalendarViewMode=t}this.widget.querySelectorAll(`.${m.css.dateContainer} > div:not(.${m.css.calendarHeader}), .${m.css.timeContainer} > div:not(.${m.css.clockContainer})`).forEach(t=>t.style.display="none");var t=r[this.optionsStore.currentCalendarViewMode],e=this.widget.querySelector("."+t.className);switch(t.className){case m.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case m.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case m.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case m.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}e.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll("."+m.css.clockContainer)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}}_updateTheme(t){if(this.widget){if(t){if(this.optionsStore.options.display.theme===t)return;this.optionsStore.options.display.theme=t}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(m.css.isDarkPreferredQuery).addEventListener("change",()=>this._updateTheme()):window.matchMedia(m.css.isDarkPreferredQuery).removeEventListener("change",()=>this._updateTheme())}}_getThemeClass(){var t=this.optionsStore.options.display.theme||"auto",e=window.matchMedia&&window.matchMedia(m.css.isDarkPreferredQuery).matches;switch(t){case"light":return m.css.lightTheme;case"dark":return m.css.darkTheme;case"auto":return e?m.css.darkTheme:m.css.lightTheme}}_updateCalendarHeader(){if(this._hasDate){var t=[...this.widget.querySelector(`.${m.css.dateContainer} div[style*="display: grid"]`).classList].find(t=>t.startsWith(m.css.dateContainer)),[e,i,s]=this.widget.getElementsByClassName(m.css.calendarHeader)[0].getElementsByTagName("div");switch(t){case m.css.decadesContainer:e.setAttribute("title",this.optionsStore.options.localization.previousCentury),i.setAttribute("title",""),s.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case m.css.yearsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousDecade),i.setAttribute("title",this.optionsStore.options.localization.selectDecade),s.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case m.css.monthsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousYear),i.setAttribute("title",this.optionsStore.options.localization.selectYear),s.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case m.css.daysContainer:e.setAttribute("title",this.optionsStore.options.localization.previousMonth),i.setAttribute("title",this.optionsStore.options.localization.selectMonth),s.setAttribute("title",this.optionsStore.options.localization.nextMonth),i.setAttribute(t,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}i.innerText=i.getAttribute(t)}}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(m.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:m.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(t=>t.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const o=document.createElement("div");o.classList.add(m.css.widget);var t,e=document.createElement("div"),i=(e.classList.add(m.css.dateContainer),e.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker()),document.createElement("div")),s=(i.classList.add(m.css.timeContainer),i.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),i.appendChild(this.hourDisplay.getPicker()),i.appendChild(this.minuteDisplay.getPicker()),i.appendChild(this.secondDisplay.getPicker()),document.createElement("div"));s.classList.add(m.css.toolbar),s.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&o.classList.add(m.css.inline),this.optionsStore.options.display.calendarWeeks&&o.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime?this._buildWidgetSideBySide(o,e,i,s):("top"===this.optionsStore.options.display.toolbarPlacement&&o.appendChild(s),(t=(t,e,i,s)=>{t&&(e&&(i.classList.add(m.css.collapse),s)&&i.classList.add(m.css.show),o.appendChild(i))})(this._hasDate,this._hasTime,e,"clock"!==this.optionsStore.options.display.viewMode),t(this._hasTime,this._hasDate,i,"clock"===this.optionsStore.options.display.viewMode),"bottom"===this.optionsStore.options.display.toolbarPlacement&&o.appendChild(s),(e=document.createElement("div")).classList.add("arrow"),e.setAttribute("data-popper-arrow",""),o.appendChild(e),this._widget=o)}_buildWidgetSideBySide(t,e,i,s){t.classList.add(m.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);var o=document.createElement("div");o.classList.add("td-row"),e.classList.add("td-half"),i.classList.add("td-half"),o.appendChild(e),o.appendChild(i),t.appendChild(o),"bottom"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s),this._widget=t}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){var i=[];if(this.optionsStore.options.display.buttons.today&&((s=document.createElement("div")).setAttribute("data-action",L.today),s.setAttribute("title",this.optionsStore.options.localization.today),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),i.push(s)),!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,e;e="clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,this.optionsStore.options.display.icons.time);var s=document.createElement("div");s.setAttribute("data-action",L.togglePicker),s.setAttribute("title",t),s.appendChild(this._iconTag(e)),i.push(s)}return this.optionsStore.options.display.buttons.clear&&((s=document.createElement("div")).setAttribute("data-action",L.clear),s.setAttribute("title",this.optionsStore.options.localization.clear),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),i.push(s)),this.optionsStore.options.display.buttons.close&&((s=document.createElement("div")).setAttribute("data-action",L.close),s.setAttribute("title",this.optionsStore.options.localization.close),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),i.push(s)),i}getHeadTemplate(){var t=document.createElement("div"),e=(t.classList.add(m.css.calendarHeader),document.createElement("div")),i=(e.classList.add(m.css.previous),e.setAttribute("data-action",L.previous),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),document.createElement("div")),s=(i.classList.add(m.css.switch),i.setAttribute("data-action",L.changeCalendarView),document.createElement("div"));return s.classList.add(m.css.next),s.setAttribute("data-action",L.next),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),t.append(e,i,s),t}_iconTag(t){if("sprites"===this.optionsStore.options.display.icons.type){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");const i=document.createElementNS("http://www.w3.org/2000/svg","use");return i.setAttribute("xlink:href",t),i.setAttribute("href",t),e.appendChild(i),e}const i=document.createElement("i");return i.classList.add(...t.split(" ")),i}_rebuild(){var t=this._isVisible;this._dispose(),t&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(p.Unit.date);break;case"months":this._update(p.Unit.month);break;case"years":this._update(p.Unit.year);break;case"decades":this._update("decade")}}}class Y{constructor(){this.optionsStore=i.locate(d),this.dates=i.locate(T),this.validation=i.locate(l),this.display=i.locate(O),this._eventEmitters=i.locate(h),this._eventEmitters.action.subscribe(t=>{this.do(t.e,t.action)})}do(e,t){var i=e?.currentTarget;if(!i?.classList?.contains(m.css.disabled)){t=t||i?.dataset?.action;var s=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(t){case L.next:case L.previous:this.handleNextPrevious(t);break;case L.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case L.selectMonth:case L.selectYear:case L.selectDecade:this.handleSelectCalendarMode(t,i);break;case L.selectDay:this.handleSelectDay(i);break;case L.selectHour:{let t=+i.dataset.value;12<=s.hours&&this.optionsStore.isTwelveHour&&(t+=12),s.hours=t,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break}case L.selectMinute:s.minutes=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break;case L.selectSecond:s.seconds=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(e);break;case L.incrementHours:this.manipulateAndSet(s,p.Unit.hours);break;case L.incrementMinutes:this.manipulateAndSet(s,p.Unit.minutes,this.optionsStore.options.stepping);break;case L.incrementSeconds:this.manipulateAndSet(s,p.Unit.seconds);break;case L.decrementHours:this.manipulateAndSet(s,p.Unit.hours,-1);break;case L.decrementMinutes:this.manipulateAndSet(s,p.Unit.minutes,-1*this.optionsStore.options.stepping);break;case L.decrementSeconds:this.manipulateAndSet(s,p.Unit.seconds,-1);break;case L.toggleMeridiem:this.manipulateAndSet(s,p.Unit.hours,12<=this.dates.lastPicked.hours?-12:12);break;case L.togglePicker:this.handleToggle(i);break;case L.showClock:case L.showHours:case L.showMinutes:case L.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(x.hideImmediately(this.display.dateContainer),x.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(t);break;case L.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case L.close:this.display.hide();break;case L.today:var o=(new f).setLocalization(this.optionsStore.options.localization);this._eventEmitters.updateViewDate.emit(o),this.validation.isValid(o,p.Unit.date)&&(this.optionsStore.options.dateRange?this.handleDateRange(o):this.optionsStore.options.multipleDates?this.handleMultiDate(o):this.dates.setValue(o,this.dates.lastPickedIndex))}}}handleShowClockContainers(e){if(this.display._hasTime){this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${m.css.timeContainer} > div`).forEach(t=>t.style.display="none");let t="";switch(e){case L.showClock:t=m.css.clockContainer,this.display._update("clock");break;case L.showHours:t=m.css.hourContainer,this.display._update(p.Unit.hours);break;case L.showMinutes:t=m.css.minuteContainer,this.display._update(p.Unit.minutes);break;case L.showSeconds:t=m.css.secondContainer,this.display._update(p.Unit.seconds)}this.display.widget.getElementsByClassName(t)[0].style.display="grid"}else m.errorMessages.throwError("Cannot show clock containers when time is disabled.")}handleNextPrevious(t){var{unit:e,step:i}=r[this.optionsStore.currentCalendarViewMode];t===L.next?this.optionsStore.viewDate.manipulate(i,e):this.optionsStore.viewDate.manipulate(-1*i,e),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(t){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(t,L.showClock):this.display.hide()}manipulateAndSet(t,e,i=1){t=t.manipulate(i,e);this.validation.isValid(t,e)&&this.dates.setValue(t,this.dates.lastPickedIndex)}handleSelectCalendarMode(t,e){var i=+e.dataset.value;switch(t){case L.selectMonth:this.optionsStore.viewDate.month=i;break;case L.selectYear:case L.selectDecade:this.optionsStore.viewDate.year=i}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(t){t.getAttribute("title")===this.optionsStore.options.localization.selectDate?(t.setAttribute("title",this.optionsStore.options.localization.selectTime),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(t.setAttribute("title",this.optionsStore.options.localization.selectDate),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(L.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${m.css.dateContainer}, .`+m.css.timeContainer).forEach(t=>x.toggle(t)),this._eventEmitters.viewUpdate.emit()}handleSelectDay(t){var e=this.optionsStore.viewDate.clone;t.classList.contains(m.css.old)&&e.manipulate(-1,p.Unit.month),t.classList.contains(m.css.new)&&e.manipulate(1,p.Unit.month),e.date=+t.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(e):this.optionsStore.options.multipleDates?this.handleMultiDate(e):this.dates.setValue(e,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange||this.display.hide()}handleMultiDate(t){let e=this.dates.pickedIndex(t,p.Unit.date);console.log(e),-1!==e?this.dates.setValue(null,e):(e=this.dates.lastPickedIndex+1,0===this.dates.picked.length&&(e=0),this.dates.setValue(t,e))}handleDateRange(t){switch(this.dates.picked.length){case 2:this.dates.clear();break;case 1:var e=this.dates.picked[0];if(t.getTime()!==e.getTime())return t.isBefore(e)?(this.dates.setValue(t,0),void this.dates.setValue(e,1)):void this.dates.setValue(t,1);this.dates.clear()}this.dates.setValue(t,0)}}class A{constructor(t,e={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=t=>{t=t?.detail;if(!t){var t=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},e=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)try{var i=e.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<i.length;t++)this.dates.setFromInput(i[t],t);t()}catch{console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(e,0),t()}},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||"INPUT"===this._toggle.nodeName&&"text"===this._toggle?.type&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},i=new P,this._eventEmitters=i.locate(h),this.optionsStore=i.locate(d),this.display=i.locate(O),this.dates=i.locate(T),this.actions=i.locate(Y),t||m.errorMessages.mustProvideElement(),this.optionsStore.element=t,this._initializeOptions(e,y,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(t=>{this._triggerEvent(t)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()}),this._eventEmitters.updateViewDate.subscribe(t=>{this.viewDate=t})}get viewDate(){return this.optionsStore.viewDate}set viewDate(t){this.optionsStore.viewDate=t,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(t,e=!1){e?this._initializeOptions(t,y):this._initializeOptions(t,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){"string"==typeof e&&(e=[e]);let i;i=Array.isArray(t)?t:[t],e.length!==i.length&&m.errorMessages.subscribeMismatch();var s=[];for(let t=0;t<e.length;t++){var o=e[t];if(Array.isArray(this._subscribers[o])||(this._subscribers[o]=[]),this._subscribers[o].push(i[t]),s.push({unsubscribe:this._unsubscribe.bind(this,o,this._subscribers[o].length-1)}),1===e.length)return s[0]}return s}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this._toggle?.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(t){t=U[t];t&&this.updateOptions({localization:t})}_triggerEvent(t){t.viewMode=this.optionsStore.currentView;var e=t.type===m.events.change;if(e){var{date:i,oldDate:s,isClear:o}=t;if(i&&s&&i.isSame(s)||!o&&!i&&!s)return;this._handleAfterChangeEvent(t),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:t}))}this.optionsStore.element.dispatchEvent(new CustomEvent(t.type,{detail:t})),window.jQuery&&(o=window.jQuery,(e&&this.optionsStore.input?o(this.optionsStore.input):o(this.optionsStore.element)).trigger(t)),this._publish(t)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach(t=>{t(e)})}_viewUpdate(){this._triggerEvent({type:m.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(t,e){this._subscribers[t].splice(e,1)}_initializeOptions(t,e,i=!1){let s=M.deepCopy(t);s=M._mergeOptions(s,e),i&&(s=M._dataToOptions(this.optionsStore.element,s)),M._validateConflicts(s),s.viewDate=s.viewDate.setLocalization(s.localization),this.optionsStore.viewDate.isSame(s.viewDate)||(this.optionsStore.viewDate=s.viewDate),s.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),s.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),s.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),r[this.optionsStore.currentCalendarViewMode].name!==s.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(r.findIndex(t=>t.name===s.display.viewMode),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),s.display.components.useTwentyfourHour&&void 0===s.localization.hourCycle?s.localization.hourCycle="h24":void 0===s.localization.hourCycle&&(s.localization.hourCycle=n(s.localization.locale)),(this.optionsStore.options=s).restrictions.maxDate&&this.viewDate.isAfter(s.restrictions.maxDate)&&(this.viewDate=s.restrictions.maxDate.clone),s.restrictions.minDate&&this.viewDate.isBefore(s.restrictions.minDate)&&(this.viewDate=s.restrictions.minDate.clone)}_initializeInput(){var t;"INPUT"==this.optionsStore.element.tagName?this.optionsStore.input=this.optionsStore.element:(t=this.optionsStore.element.dataset.tdTargetInput,this.optionsStore.input=null==t||"nearest"==t?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(t)),this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value)&&this._inputChangeEvent()}_initializeToggle(){if(!this.optionsStore.options.display.inline){let t=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==t&&(t='[data-td-toggle="datetimepicker"]'),this._toggle=null==t?this.optionsStore.element:this.optionsStore.element.querySelector(t),this._toggle.addEventListener("click",this._toggleClickEvent)}}_handleAfterChangeEvent(t){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(m.css.show)[0].classList.contains(m.css.timeContainer)||!t.oldDate&&this.optionsStore.options.useCurrent||t.oldDate&&t.date?.isSame(t.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:L.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}const U={};function Q(t,e=void 0){return t&&!t.installed&&(t(e,{TempusDominus:A,Dates:T,Display:O,DateTime:f,Namespace:m},G),t.installed=!0),G}var V=t=>{U[t.name]||(U[t.name]=t.localization)},H=t=>{t=U[t];t&&(y.localization=t)};const G={TempusDominus:A,extend:Q,loadLocale:V,locale:H,Namespace:m,DefaultOptions:y,DateTime:f,Unit:p.Unit,version:"6.9.4",DefaultEnLocalization:u};p.DateTime=f,p.DefaultEnLocalization=u,p.DefaultOptions=y,p.Namespace=m,p.TempusDominus=A,p.extend=Q,p.loadLocale=V,p.locale=H,p.version="6.9.4",Object.defineProperty(p,"__esModule",{value:!0})});