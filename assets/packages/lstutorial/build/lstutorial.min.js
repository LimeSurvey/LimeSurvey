!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _readOnlyError(t){throw new Error('"'+t+'" is read-only')}for(var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document,longerTimeoutBrowsers=["Edge","Trident","Firefox"],timeoutDuration=0,i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}function microtaskDebounce(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function taskDebounce(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},timeoutDuration))}}var supportsMicroTasks=isBrowser&&window.Promise,debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}function getStyleComputedProperty(t,e){if(1!==t.nodeType)return[];var o=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?o[e]:o}function getParentNode(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function getScrollParent(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=getStyleComputedProperty(t),o=e.overflow,n=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(o+i+n)?t:getScrollParent(getParentNode(t))}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(t){return 11===t?isIE11:10===t?isIE10:isIE11||isIE10}function getOffsetParent(t){if(!t)return document.documentElement;for(var e=isIE(10)?document.body:null,o=t.offsetParent||null;o===e&&t.nextElementSibling;)o=(t=t.nextElementSibling).offsetParent;var n=o&&o.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(o.nodeName)&&"static"===getStyleComputedProperty(o,"position")?getOffsetParent(o):o:t?t.ownerDocument.documentElement:document.documentElement}function isOffsetContainer(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||getOffsetParent(t.firstElementChild)===t)}function getRoot(t){return null!==t.parentNode?getRoot(t.parentNode):t}function findCommonOffsetParent(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var o=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?t:e,i=o?e:t,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var s=r.commonAncestorContainer;if(t!==s&&e!==s||n.contains(i))return isOffsetContainer(s)?s:getOffsetParent(s);var a=getRoot(t);return a.host?findCommonOffsetParent(a.host,e):findCommonOffsetParent(t,getRoot(e).host)}function getScroll(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",o=t.nodeName;if("BODY"===o||"HTML"===o){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function includeScroll(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=getScroll(e,"top"),i=getScroll(e,"left"),r=o?-1:1;return t.top+=n*r,t.bottom+=n*r,t.left+=i*r,t.right+=i*r,t}function getBordersSize(t,e){var o="x"===e?"Left":"Top",n="Left"===o?"Right":"Bottom";return parseFloat(t["border"+o+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function getSize(t,e,o,n){return Math.max(e["offset"+t],e["scroll"+t],o["client"+t],o["offset"+t],o["scroll"+t],isIE(10)?parseInt(o["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function getWindowSizes(t){var e=t.body,o=t.documentElement,n=isIE(10)&&getComputedStyle(o);return{height:getSize("Height",e,o,n),width:getSize("Width",e,o,n)}}var classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),defineProperty=function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};function getClientRect(t){return _extends({},t,{right:t.left+t.width,bottom:t.top+t.height})}function getBoundingClientRect(t){var e={};try{if(isIE(10)){e=t.getBoundingClientRect();var o=getScroll(t,"top"),n=getScroll(t,"left");e.top+=o,e.left+=n,e.bottom+=o,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?getWindowSizes(t.ownerDocument):{},s=r.width||t.clientWidth||i.right-i.left,a=r.height||t.clientHeight||i.bottom-i.top,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var p=getStyleComputedProperty(t);l-=getBordersSize(p,"x"),u-=getBordersSize(p,"y"),i.width-=l,i.height-=u}return getClientRect(i)}function getOffsetRectRelativeToArbitraryNode(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=isIE(10),i="HTML"===e.nodeName,r=getBoundingClientRect(t),s=getBoundingClientRect(e),a=getScrollParent(t),l=getStyleComputedProperty(e),u=parseFloat(l.borderTopWidth,10),p=parseFloat(l.borderLeftWidth,10);o&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=getClientRect({top:r.top-s.top-u,left:r.left-s.left-p,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!n&&i){var f=parseFloat(l.marginTop,10),c=parseFloat(l.marginLeft,10);d.top-=u-f,d.bottom-=u-f,d.left-=p-c,d.right-=p-c,d.marginTop=f,d.marginLeft=c}return(n&&!o?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=includeScroll(d,e)),d}function getViewportOffsetRectRelativeToArtbitraryNode(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.ownerDocument.documentElement,n=getOffsetRectRelativeToArbitraryNode(t,o),i=Math.max(o.clientWidth,window.innerWidth||0),r=Math.max(o.clientHeight,window.innerHeight||0),s=e?0:getScroll(o),a=e?0:getScroll(o,"left");return getClientRect({top:s-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:i,height:r})}function isFixed(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===getStyleComputedProperty(t,"position"))return!0;var o=getParentNode(t);return!!o&&isFixed(o)}function getFixedPositionOffsetParent(t){if(!t||!t.parentElement||isIE())return document.documentElement;for(var e=t.parentElement;e&&"none"===getStyleComputedProperty(e,"transform");)e=e.parentElement;return e||document.documentElement}function getBoundaries(t,e,o,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=i?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,e);if("viewport"===n)r=getViewportOffsetRectRelativeToArtbitraryNode(s,i);else{var a=void 0;"scrollParent"===n?"BODY"===(a=getScrollParent(getParentNode(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===n?t.ownerDocument.documentElement:n;var l=getOffsetRectRelativeToArbitraryNode(a,s,i);if("HTML"!==a.nodeName||isFixed(s))r=l;else{var u=getWindowSizes(t.ownerDocument),p=u.height,d=u.width;r.top+=l.top-l.marginTop,r.bottom=p+l.top,r.left+=l.left-l.marginLeft,r.right=d+l.left}}var f="number"==typeof(o=o||0);return r.left+=f?o:o.left||0,r.top+=f?o:o.top||0,r.right-=f?o:o.right||0,r.bottom-=f?o:o.bottom||0,r}function getArea(t){return t.width*t.height}function computeAutoPlacement(t,e,o,n,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=getBoundaries(o,n,r,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return _extends({key:t},a[t],{area:getArea(a[t])})}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,n=t.height;return e>=o.clientWidth&&n>=o.clientHeight}),p=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return p+(d?"-"+d:"")}function getReferenceOffsets(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(o,n?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,o),n)}function getOuterSizes(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),o=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+o}}function getOppositePlacement(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function getPopperOffsets(t,e,o){o=o.split("-")[0];var n=getOuterSizes(t),i={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(o),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",u=r?"width":"height";return i[s]=e[s]+e[l]/2-n[l]/2,i[a]=o===a?e[a]-n[u]:e[getOppositePlacement(a)],i}function find(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function findIndex(t,e,o){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===o});var n=find(t,function(t){return t[e]===o});return t.indexOf(n)}function runModifiers(t,e,o){return(void 0===o?t:t.slice(0,findIndex(t,"name",o))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=t.function||t.fn;t.enabled&&isFunction(o)&&(e.offsets.popper=getClientRect(e.offsets.popper),e.offsets.reference=getClientRect(e.offsets.reference),e=o(e,t))}),e}function update(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=computeAutoPlacement(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=getPopperOffsets(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=runModifiers(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function isModifierEnabled(t,e){return t.some(function(t){var o=t.name;return t.enabled&&o===e})}function getSupportedPropertyName(t){for(var e=[!1,"ms","Webkit","Moz","O"],o=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var i=e[n],r=i?""+i+o:t;if(void 0!==document.body.style[r])return r}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(t){var e=t.ownerDocument;return e?e.defaultView:window}function attachToScrollParents(t,e,o,n){var i="BODY"===t.nodeName,r=i?t.ownerDocument.defaultView:t;r.addEventListener(e,o,{passive:!0}),i||attachToScrollParents(getScrollParent(r.parentNode),e,o,n),n.push(r)}function setupEventListeners(t,e,o,n){o.updateBound=n,getWindow(t).addEventListener("resize",o.updateBound,{passive:!0});var i=getScrollParent(t);return attachToScrollParents(i,"scroll",o.updateBound,o.scrollParents),o.scrollElement=i,o.eventsEnabled=!0,o}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function removeEventListeners(t,e){return getWindow(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=removeEventListeners(this.reference,this.state))}function isNumeric(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function setStyles(t,e){Object.keys(e).forEach(function(o){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&isNumeric(e[o])&&(n="px"),t.style[o]=e[o]+n})}function setAttributes(t,e){Object.keys(e).forEach(function(o){!1!==e[o]?t.setAttribute(o,e[o]):t.removeAttribute(o)})}function applyStyle(t){return setStyles(t.instance.popper,t.styles),setAttributes(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&setStyles(t.arrowElement,t.arrowStyles),t}function applyStyleOnLoad(t,e,o,n,i){var r=getReferenceOffsets(i,e,t,o.positionFixed),s=computeAutoPlacement(o.placement,r,e,t,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return e.setAttribute("x-placement",s),setStyles(e,{position:o.positionFixed?"fixed":"absolute"}),o}function getRoundedOffsets(t,e){var o=t.offsets,n=o.popper,i=o.reference,r=Math.round,s=Math.floor,a=function(t){return t},l=r(i.width),u=r(n.width),p=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),f=e?p||d||l%2==u%2?r:s:a,c=e?r:a;return{left:f(l%2==1&&u%2==1&&!d&&e?n.left-1:n.left),top:c(n.top),bottom:c(n.bottom),right:f(n.right)}}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function computeStyle(t,e){var o=e.x,n=e.y,i=t.offsets.popper,r=find(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:e.gpuAcceleration,a=getOffsetParent(t.instance.popper),l=getBoundingClientRect(a),u={position:i.position},p=getRoundedOffsets(t,window.devicePixelRatio<2||!isFirefox),d="bottom"===o?"top":"bottom",f="right"===n?"left":"right",c=getSupportedPropertyName("transform"),h=void 0,m=void 0;if(m="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+p.bottom:-l.height+p.bottom:p.top,h="right"===f?"HTML"===a.nodeName?-a.clientWidth+p.right:-l.width+p.right:p.left,s&&c)u[c]="translate3d("+h+"px, "+m+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===f?-1:1;u[d]=m*g,u[f]=h*v,u.willChange=d+", "+f}var b={"x-placement":t.placement};return t.attributes=_extends({},b,t.attributes),t.styles=_extends({},u,t.styles),t.arrowStyles=_extends({},t.offsets.arrow,t.arrowStyles),t}function isModifierRequired(t,e,o){var n=find(t,function(t){return t.name===e}),i=!!n&&t.some(function(t){return t.name===o&&t.enabled&&t.order<n.order});if(!i){var r="`"+e+"`",s="`"+o+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return i}function arrow(t,e){var o;if(!isModifierRequired(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],r=t.offsets,s=r.popper,a=r.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",p=l?"Top":"Left",d=p.toLowerCase(),f=l?"left":"top",c=l?"bottom":"right",h=getOuterSizes(n)[u];a[c]-h<s[d]&&(t.offsets.popper[d]-=s[d]-(a[c]-h)),a[d]+h>s[c]&&(t.offsets.popper[d]+=a[d]+h-s[c]),t.offsets.popper=getClientRect(t.offsets.popper);var m=a[d]+a[u]/2-h/2,g=getStyleComputedProperty(t.instance.popper),v=parseFloat(g["margin"+p],10),b=parseFloat(g["border"+p+"Width"],10),_=m-t.offsets.popper[d]-v-b;return _=Math.max(Math.min(s[u]-h,_),0),t.arrowElement=n,t.offsets.arrow=(defineProperty(o={},d,Math.round(_)),defineProperty(o,f,""),o),t}function getOppositeVariation(t){return"end"===t?"start":"start"===t?"end":t}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=validPlacements.indexOf(t),n=validPlacements.slice(o+1).concat(validPlacements.slice(0,o));return e?n.reverse():n}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function flip(t,e){if(isModifierEnabled(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var o=getBoundaries(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],i=getOppositePlacement(n),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case BEHAVIORS.FLIP:s=[n,i];break;case BEHAVIORS.CLOCKWISE:s=clockwise(n);break;case BEHAVIORS.COUNTERCLOCKWISE:s=clockwise(n,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(n!==a||s.length===l+1)return t;n=t.placement.split("-")[0],i=getOppositePlacement(n);var u=t.offsets.popper,p=t.offsets.reference,d=Math.floor,f="left"===n&&d(u.right)>d(p.left)||"right"===n&&d(u.left)<d(p.right)||"top"===n&&d(u.bottom)>d(p.top)||"bottom"===n&&d(u.top)<d(p.bottom),c=d(u.left)<d(o.left),h=d(u.right)>d(o.right),m=d(u.top)<d(o.top),g=d(u.bottom)>d(o.bottom),v="left"===n&&c||"right"===n&&h||"top"===n&&m||"bottom"===n&&g,b=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(b&&"start"===r&&c||b&&"end"===r&&h||!b&&"start"===r&&m||!b&&"end"===r&&g),w=!!e.flipVariationsByContent&&(b&&"start"===r&&h||b&&"end"===r&&c||!b&&"start"===r&&g||!b&&"end"===r&&m),y=_||w;(f||v||y)&&(t.flipped=!0,(f||v)&&(n=s[l+1]),y&&(r=getOppositeVariation(r)),t.placement=n+(r?"-"+r:""),t.offsets.popper=_extends({},t.offsets.popper,getPopperOffsets(t.instance.popper,t.offsets.reference,t.placement)),t=runModifiers(t.instance.modifiers,t,"flip"))}),t}function keepTogether(t){var e=t.offsets,o=e.popper,n=e.reference,i=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return o[a]<r(n[l])&&(t.offsets.popper[l]=r(n[l])-o[u]),o[l]>r(n[a])&&(t.offsets.popper[l]=r(n[a])),t}function toValue(t,e,o,n){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],s=i[2];if(!r)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=o;break;case"%":case"%r":default:a=n}return getClientRect(a)[e]/100*r}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function parseOffset(t,e,o,n){var i=[0,0],r=-1!==["right","left"].indexOf(n),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(find(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map(function(t,n){var i=(1===n?!r:r)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return toValue(t,i,e,o)})})).forEach(function(t,e){t.forEach(function(o,n){isNumeric(o)&&(i[e]+=o*("-"===t[n-1]?-1:1))})}),i}function offset(t,e){var o=e.offset,n=t.placement,i=t.offsets,r=i.popper,s=i.reference,a=n.split("-")[0],l=void 0;return l=isNumeric(+o)?[+o,0]:parseOffset(o,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t}function preventOverflow(t,e){var o=e.boundariesElement||getOffsetParent(t.instance.popper);t.instance.reference===o&&(o=getOffsetParent(o));var n=getSupportedPropertyName("transform"),i=t.instance.popper.style,r=i.top,s=i.left,a=i[n];i.top="",i.left="",i[n]="";var l=getBoundaries(t.instance.popper,t.instance.reference,e.padding,o,t.positionFixed);i.top=r,i.left=s,i[n]=a,e.boundaries=l;var u=e.priority,p=t.offsets.popper,d={primary:function(t){var o=p[t];return p[t]<l[t]&&!e.escapeWithReference&&(o=Math.max(p[t],l[t])),defineProperty({},t,o)},secondary:function(t){var o="right"===t?"left":"top",n=p[o];return p[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(p[o],l[t]-("right"===t?p.width:p.height))),defineProperty({},o,n)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";p=_extends({},p,d[e](t))}),t.offsets.popper=p,t}function shift(t){var e=t.placement,o=e.split("-")[0],n=e.split("-")[1];if(n){var i=t.offsets,r=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(o),l=a?"left":"top",u=a?"width":"height",p={start:defineProperty({},l,r[l]),end:defineProperty({},l,r[l]+r[u]-s[u])};t.offsets.popper=_extends({},s,p[n])}return t}function hide(t){if(!isModifierRequired(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,o=find(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<o.top||e.left>o.right||e.top>o.bottom||e.right<o.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function inner(t){var e=t.placement,o=e.split("-")[0],n=t.offsets,i=n.popper,r=n.reference,s=-1!==["left","right"].indexOf(o),a=-1===["top","left"].indexOf(o);return i[s?"left":"top"]=r[o]-(a?i[s?"width":"height"]:0),t.placement=getOppositePlacement(e),t.offsets.popper=getClientRect(i),t}var modifiers={shift:{order:100,enabled:!0,fn:shift},offset:{order:200,enabled:!0,fn:offset,offset:0},preventOverflow:{order:300,enabled:!0,fn:preventOverflow,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:keepTogether},arrow:{order:500,enabled:!0,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:inner},hide:{order:800,enabled:!0,fn:hide},computeStyle:{order:850,enabled:!0,fn:computeStyle,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:modifiers},Popper=function(){function t(e,o){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=o&&o.jquery?o[0]:o,this.options.modifiers={},Object.keys(_extends({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=_extends({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return _extends({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&isFunction(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return createClass(t,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),t}();Popper.Utils=("undefined"!=typeof window?window:global).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;var document$1=window.document,Tour=function(){function t(e){_classCallCheck(this,t);var o=window.localStorage;if(this.objTemplates={},this.objTemplatesButtonTexts={prevButton:"Prev",nextButton:"Next",pauseButton:"Pause",resumeButton:"Resume",endTourButton:"End Tour"},this._options=$.extend(!0,{name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:o,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:null,localization:{buttonTexts:this.objTemplatesButtonTexts},framework:"bootstrap3",sanitizeWhitelist:[],sanitizeFunction:null,showProgressBar:!0,showProgressText:!0,getProgressBarHTML:null,getProgressTextHTML:null,afterSetState:function(t,e){},afterGetState:function(t,e){},afterRemoveState:function(t){},onStart:function(t){},onEnd:function(t){},onShow:function(t){},onShown:function(t){},onHide:function(t){},onHidden:function(t){},onNext:function(t){},onPrev:function(t){},onPause:function(t,e){},onResume:function(t,e){},onRedirectError:function(t){},onElementUnavailable:null,onPreviouslyEnded:null,onModalHidden:null},e),"bootstrap3"!==this._options.framework&&"bootstrap4"!==this._options.framework)throw this._debug("Invalid framework specified: "+this._options.framework),"Bootstrap Tourist: Invalid framework specified";if(this.objTemplates={bootstrap3:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; '+this._options.localization.buttonTexts.prevButton+'</button> <button class="btn btn-sm btn-default" data-role="next">'+this._options.localization.buttonTexts.nextButton+' &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="'+this._options.localization.buttonTexts.pauseButton+'" data-resume-text="'+this._options.localization.buttonTexts.resumeButton+'">'+this._options.localization.buttonTexts.pauseButton+'</button> </div> <button class="btn btn-sm btn-default" data-role="end">'+this._options.localization.buttonTexts.endTourButton+"</button> </div> </div>",bootstrap4:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-header"></h3> <div class="popover-body"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-outline-secondary" data-role="prev">&laquo; '+this._options.localization.buttonTexts.prevButton+'</button> <button class="btn btn-sm btn-outline-secondary" data-role="next">'+this._options.localization.buttonTexts.nextButton+' &raquo;</button> <button class="btn btn-sm btn-outline-secondary" data-role="pause-resume" data-pause-text="'+this._options.localization.buttonTexts.pauseButton+'" data-resume-text="'+this._options.localization.buttonTexts.resumeButton+'">'+this._options.localization.buttonTexts.pauseButton+'</button> </div> <button class="btn btn-sm btn-outline-secondary" data-role="end">'+this._options.localization.buttonTexts.endTourButton+"</button> </div> </div>"},null===this._options.template?null!=this.objTemplates[this._options.framework]&&null!=this.objTemplates[this._options.framework]?(this._options.template=this.objTemplates[this._options.framework],this._debug("Using framework template: "+this._options.framework)):this._debug("Warning: "+this._options.framework+" specified for template (no template option set), but framework is unknown. Tour will not work!"):this._debug("Using custom template"),"function"==typeof this._options.sanitizeFunction)this._debug("Using custom sanitize function in place of bootstrap - security implications, be careful");else{this._options.sanitizeFunction=null,this._debug("Extending Bootstrap sanitize options");var n="bootstrap4"==this._options.framework&&void 0!==$.fn.popover.Constructor.Default.whiteList?$.fn.popover.Constructor.Default.whiteList:"bootstrap3"==this._options.framework&&void 0!==$.fn.popover.Constructor.DEFAULTS.whiteList?$.fn.popover.Constructor.DEFAULTS.whiteList:[],i=$.extend(!0,{},n);$.each({button:["data-role","style"],img:["style"],div:["style"]},function(t,e){i[t]=i[t]||[],$.merge(i[t],e)}),$.each(this._options.sanitizeWhitelist,function(t,e){i[t]=i[t]||[],$.merge(i[t],e)}),this._options.sanitizeWhitelist=i}return this._current=null,this.backdrops=[],this}return _createClass(t,[{key:"addSteps",value:function(t){for(var e=0,o=t.length;e<o;e++){var n=t[e];this.addStep(n)}return this}},{key:"addStep",value:function(t){return this._options.steps.push(t),this}},{key:"getStepCount",value:function(){return this._options.steps.length}},{key:"getStep",value:function(t){if(null!=this._options.steps[t])return"function"==typeof this._options.steps[t].element&&(this._options.steps[t].element=this._options.steps[t].element()),this._options.steps[t]=$.extend(!0,{id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,preventInteraction:!1,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,showProgressBar:this._options.showProgressBar,showProgressText:this._options.showProgressText,getProgressBarHTML:this._options.getProgressBarHTML,getProgressTextHTML:this._options.getProgressTextHTML,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError,onElementUnavailable:this._options.onElementUnavailable,onModalHidden:this._options.onModalHidden,internalFlags:{elementModal:null,elementModalOriginal:null,elementBootstrapSelectpicker:null}},this._options.steps[t]),this._options.steps[t]}},{key:"_setStepFlag",value:function(t,e,o){null!=this._options.steps[t]&&(this._options.steps[t].internalFlags[e]=o)}},{key:"_getStepFlag",value:function(t,e){if(null!=this._options.steps[t])return this._options.steps[t].internalFlags[e]}},{key:"init",value:function(){console.log("You should remove Tour.init() from your code. It's not required with Bootstrap Tourist")}},{key:"start",value:function(){var t=this;if(this.ended())return null!=this._options.onPreviouslyEnded&&"function"==typeof this._options.onPreviouslyEnded?(this._debug("Tour previously ended, exiting. Call tour.restart() to force restart. Firing onPreviouslyEnded()"),this._options.onPreviouslyEnded(this)):this._debug("Tour previously ended, exiting. Call tour.restart() to force restart"),this;this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),$(window).on("resize.tour-"+this._options.name,function(){t.reshowCurrentStep()});var e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):Promise.resolve());return this._callOnPromiseDone(e,this.showStep,this._current),this}},{key:"next",value:function(){return this._callOnPromiseDone(this.hideStep(),this._showNextStep)}},{key:"prev",value:function(){return this._callOnPromiseDone(this.hideStep(),this._showPrevStep)}},{key:"goTo",value:function(t){this._debug("goTo step "+t);var e=this.hideStep();return this._callOnPromiseDone(e,this.showStep,t)}},{key:"end",value:function(){var t=this,e=this.hideStep();return this._callOnPromiseDone(e,function(e){if($(document$1).off("click.tour-"+t._options.name),$(document$1).off("keyup.tour-"+t._options.name),$(window).off("resize.tour-"+t._options.name),$(window).off("scroll.tour-"+t._options.name),t._setState("end","yes"),t._clearTimer(),null!=t._options.onEnd)return t._options.onEnd(t)})}},{key:"ended",value:function(){return"yes"==this._getState("end")}},{key:"restart",value:function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()}},{key:"pause",value:function(){var t=this.getStep(this._current);return t&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this}},{key:"resume",value:function(){var t=this,e=this.getStep(this._current);return e&&e.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||e.duration,this._timer=window.setTimeout(function(){return t._isLast()?t.next():t.end()},this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=e.onResume&&this._duration!==e.duration?e.onResume(this,this._duration):void 0):this}},{key:"reshowCurrentStep",value:function(){this._debug("Reshowing current step "+this.getCurrentStepIndex());var t=this.hideStep();return this._callOnPromiseDone(t,this.showStep,this._current)}},{key:"hideStep",value:function(){var t=this,e=this.getStep(this.getCurrentStepIndex());if(e){this._clearTimer();var o=this._makePromise(null!=e.onHide?e.onHide(this,this.getCurrentStepIndex()):null),n=function(o){var n=$(e.element).data("bs.popover")||$(e.element).data("popover")?$(e.element):$("body");"bootstrap3"==t._options.framework&&n.popover("destroy"),"bootstrap4"==t._options.framework&&n.popover("dispose"),n.removeClass("tour-"+t._options.name+"-element tour-"+t._options.name+"-"+t.getCurrentStepIndex()+"-element").removeData("bs.popover"),e.reflex&&$(e.reflexElement).removeClass("tour-step-element-reflex").off(t._reflexEvent(e.reflex)+".tour-"+t._options.name),t._hideOverlayElement(e),t._unfixBootstrapSelectPickerZindex(e);var i=t._getStepFlag(t.getCurrentStepIndex(),"elementModalOriginal");if(null!=i&&(t._setStepFlag(t.getCurrentStepIndex(),"elementModalOriginal",null),e.element=i),null!=e.onHidden)return e.onHidden(t)},i=e.delay.hide||e.delay;return 0!=e.delay&&i>0?(this._debug("Wait "+i+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(){return t._callOnPromiseDone(o,n)},i)):this._callOnPromiseDone(o,n),o}}},{key:"showStep",value:function(t){var e=this;if(this.ended())return this._debug("Tour ended, showStep prevented."),null!=this._options.onEnd&&this._options.onEnd(this),this;var o=this.getStep(t);if(o){var n=t<this._current,i=this._makePromise(null!=o.onShow?o.onShow(this,t):null);this.setCurrentStep(t);var r=LS.ld.isFunction(o.path)?o.path():"string"==typeof o.path?e._options.basePath+o.path:o.path;if(!o.redirect||!this._isRedirect(o.host,r,document$1.location)||(this._redirect(o,t,r),this._isJustPathHashDifferent(o.host,r,document$1.location))){var s=null;!1===o.orphan&&($(o.element).hasClass("modal")||$(o.element).data("bs.modal"))&&(s=$(o.element),this._setStepFlag(this.getCurrentStepIndex(),"elementModalOriginal",o.element),o.element=$(o.element).find(".modal-content:first"));var a=$(o.element);if(null===s&&a.parents(".modal:first").length&&(s=a.parents(".modal:first")),s&&s.length>0){this._debug("Modal identified, onModalHidden callback available"),this._setStepFlag(t,"elementModal",s);var l=function n(){if(e._debug("Modal close triggered"),"function"==typeof o.onModalHidden){var i=o.onModalHidden(e,t);if(!1===i)return void e._debug("onModalHidden returned exactly false, tour step unchanged");if(Number.isInteger(i))return e._debug("onModalHidden returned int, tour moving to step "+i+1),$_modalObject.off("hidden.bs.modal",n),e.goTo(i);e._debug("onModalHidden did not return false or int, continuing tour")}return $_modalObject.off("hidden.bs.modal",n),e._isLast()?e.next():e.end()};s.off("hidden.bs.modal",l).on("hidden.bs.modal",l)}var u=function(i){if(e._isOrphan(o)){if(!1===o.orphan)return e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element "+o.element+" does not exist or is hidden."),"function"==typeof o.onElementUnavailable&&(e._debug("Calling onElementUnavailable callback"),o.onElementUnavailable(e,e._current)),void(n?e._showPrevStep(!0):e._showNextStep(!0));e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}if(o.autoscroll&&!e._isOrphan(o)?e._scrollIntoView(t):e._showPopoverAndOverlay(t),o.duration)return e.resume()},p=o.delay.show||o.delay;if("[object Number]"==={}.toString.call(p)&&p>0)this._debug("Wait "+p+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(){return e._callOnPromiseDone(i,u)},p);else if(o.delayOnElement){var d=function(){return"function"==typeof o.delayOnElement.delayElement?o.delayOnElement.delayElement():"element"==o.delayOnElement.delayElement?$(o.element):$(o.delayOnElement.delayElement)},f=d(),c=f.length>0?f.reduce(function(t,e){return t.push(e.tagName)},[]).join(", "):f.prop("tagName"),h=o.delayOnElement.maxDelay?o.delayOnElement.maxDelay:2e3;h=h<250?251:h,this._debug("Wait for element "+c+" visible or max "+h+" milliseconds to show the step "+(this._current+1));var m=window.setInterval(function(){if(e._debug("Wait for element "+c+": checking..."),0===f.length&&(f=d()),f.is(":visible"))return e._debug("Wait for element "+c+": found, showing step"),window.clearInterval(m),_readOnlyError("delayFunc"),m=null,e._callOnPromiseDone(i,u)},250);window.setTimeout(function(){if(m)return e._debug("Wait for element "+c+": max timeout reached without element found"),window.clearInterval(m),e._callOnPromiseDone(i,u)},h)}else this._callOnPromiseDone(i,u);return i}}}},{key:"getCurrentStepIndex",value:function(){return this._current}},{key:"setCurrentStep",value:function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?0:parseInt(this._current,10)),this}},{key:"_setState",value:function(t,e){if(this._options.storage){var o=this._options.name+"_"+t;try{this._options.storage.setItem(o,e)}catch(t){t.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(o,e)}return null==this._state&&(this._state={}),this._state[t]=e}},{key:"_removeState",value:function(t){if(this._options.storage){var e=this._options.name+"_"+t;return this._options.storage.removeItem(e),this._options.afterRemoveState(e)}if(null!=this._state)return delete this._state[t]}},{key:"_getState",value:function(t){var e;if(this._options.storage){var o=this._options.name+"_"+t;e=this._options.storage.getItem(o)}else null!=this._state&&(e=this._state[t]);return null!==e&&"null"!==e||(e=null),this._options.afterGetState(t,e),e}},{key:"_showNextStep",value:function(t){var e=this;t=t||!1;var o=this.getStep(this._current),n=Promise.resolve();if(!1===t&&null!=o.onNext){var i=o.onNext(this);if(this._debug("Current steps onNext failed. Check onNext -> ",o.onNext),this._debug("Current result: ",i),!1===i)return this._debug("onNext callback returned false, preventing move to next step"),this.showStep(this._current);n=this._makePromise(i)}return this._callOnPromiseDone(n,function(t){return e.showStep(e._current+1)})}},{key:"_showPrevStep",value:function(t){var e=this;t=t||!1;var o=this.getStep(this._current),n=Promise.resolve();if(!1===t&&null!=o.onPrev){var i=o.onPrev(this);if(!1===i)return this._debug("onPrev callback returned false, preventing move to previous step"),this.showStep(this._current);n=this._makePromise(i)}return this._callOnPromiseDone(n,function(t){return e.showStep(o.prev)})}},{key:"_debug",value:function(){var t;if(this._options.debug)return(t=window.console.log).call.apply(t,[this,"[ Bootstrap Tour: '"+this._options.name+"' ] "].concat(Array.prototype.slice.call(arguments)))}},{key:"_isRedirect",value:function(t,e,o){if(null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(o.origin)||"[object String]"==={}.toString.call(t)&&this._isHostDifferent(t,o)))return!0;var n=[o.pathname,o.search,o.hash].join("");return null!=e&&""!==e&&("[object RegExp]"==={}.toString.call(e)&&!e.test(n)||"[object String]"==={}.toString.call(e)&&this._isPathDifferent(e,n))}},{key:"_isHostDifferent",value:function(t,e){switch({}.toString.call(t)){case"[object RegExp]":return!t.test(e.origin);case"[object String]":return this._getProtocol(t)!==this._getProtocol(e.href)||this._getHost(t)!==this._getHost(e.href);default:return!0}}},{key:"_isPathDifferent",value:function(t,e){return this._getPath(t)!==this._getPath(e)||!this._equal(this._getQuery(t),this._getQuery(e))||!this._equal(this._getHash(t),this._getHash(e))}},{key:"_isJustPathHashDifferent",value:function(t,e,o){if(null!=t&&""!==t&&this._isHostDifferent(t,o))return!1;var n=[o.pathname,o.search,o.hash].join("");return"[object String]"==={}.toString.call(e)&&(this._getPath(e)===this._getPath(n)&&this._equal(this._getQuery(e),this._getQuery(n))&&!this._equal(this._getHash(e),this._getHash(n)))}},{key:"_redirect",value:function(t,e,o){if(LS.ld.isFunction(t.redirect))return t.redirect.call(this,o);var n="[object String]"==={}.toString.call(t.host)?""+t.host+o:o;return this._debug("Redirect to "+n),this._getState("redirect_to")!==""+e?(this._setState("redirect_to",""+e),document$1.location.href=n):(this._debug("Error redirection loop to "+o),this._removeState("redirect_to"),null!=t.onRedirectError?t.onRedirectError(this):void 0)}},{key:"_isOrphan",value:function(t){var e=1==t.orphan||null==t.element||!$(t.element).length||$(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==$(t.element)[0].namespaceURI;return this._debug("It seems this element is an orphan -> ",t),e}},{key:"_isLast",value:function(){return this._current<this._options.steps.length-1}},{key:"_showPopoverAndOverlay",value:function(t){if(this.getCurrentStepIndex()===t&&!this.ended()){var e=this.getStep(t);return e.backdrop&&this._showOverlayElements(e),this._fixBootstrapSelectPickerZindex(e),this._showPopover(e,t),null!=e.onShown&&e.onShown(this),this}}},{key:"_showPopover",value:function(t,e){var o=this,n=this._isOrphan(t);if(0==$(document$1).find(".popover.tour-"+this._options.name+".tour-"+this._options.name+"-"+this.getCurrentStepIndex()).length){$(".tour-"+this._options.name).remove(),t.template=this._template(t,e),n&&(t.element="body",t.placement="top");var i=$(t.element);i.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+e+"-element"),t.reflex&&!n&&$(t.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(t){return o._isLast()?o.next():o.end()});var r=parseInt((e+1)/this.getStepCount()*100),s=t.title,a=t.content;t.showProgressBar&&(a="function"==typeof t.getProgressBarHTML?t.getProgressBarHTML(r)+a:'<div class="progress"><div class="progress-bar progress-bar-striped" role="progressbar" style="width: '+r+'%;"></div></div>'+a),t.showProgressText&&("function"==typeof t.getProgressTextHTML?s+=t.getProgressTextHTML(e,r,this.getStepCount()):("bootstrap3"==this._options.framework&&(s+='<span class="pull-left">'+(e+1)+"/"+this.getStepCount()+"</span>"),"bootstrap4"==this._options.framework&&(s+='<span class="float-left">'+(e+1)+"/"+this.getStepCount()+"</span>")));var l={placement:t.placement,trigger:"manual",title:s,content:a,html:!0,whiteList:this._options.sanitizeWhitelist,sanitizeFn:this._options.sanitizeFunction,animation:t.animation,container:t.container,template:t.template,selector:t.element};"bootstrap4"==this._options.framework&&(n?l.offset=function(t){var e=Math.max(0,($(window).height()-t.popper.height)/2),o=Math.max(0,($(window).width()-t.popper.width)/2);return t.popper.position="fixed",t.popper.top=e,t.popper.bottom=e+t.popper.height,t.popper.left=o,t.popper.right=e+t.popper.width,t}:l.selector="#"+t.element[0].id),"bootstrap4"==this._options.framework&&0==n&&(l.selector="#"+t.element[0].id),i.popover(l),i.popover("show");var u=null;"bootstrap3"==this._options.framework&&(u=i.data("bs.popover")?i.data("bs.popover").tip():i.data("popover").tip(),"fixed"===i.css("position")&&u.css("position","fixed"),n?(this._center(u),u.css("position","fixed")):this._reposition(u,t)),"bootstrap4"==this._options.framework&&(u=$(i.data("bs.popover")?i.data("bs.popover").getTipElement():i.data("popover").getTipElement())),u.attr("id",t.id),this._debug("Step "+(this._current+1)+" of "+this._options.steps.length)}}},{key:"_template",value:function(t,e){var o=this._isOrphan(t)&&!LS.ld.isBoolean(t.orphan)?(_readOnlyError("template"),o=t.orphan):t.template,n=$.isFunction(o)?$(o(e,t)):$(o),i=n.find(".popover-navigation"),r=i.find('[data-role="prev"]'),s=i.find('[data-role="next"]'),a=i.find('[data-role="pause-resume"]');return this._isOrphan(t)&&n.addClass("orphan"),n.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+e),t.reflex&&n.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&r.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.next<0&&s.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.reflexOnly&&s.hide(),t.duration||a.remove(),n.clone().wrap("<div>").parent().html()}},{key:"_reflexEvent",value:function(t){return LS.ld.isBoolean(t)?"click":t}},{key:"_reposition",value:function(t,e){var o=t[0].offsetWidth,n=t[0].offsetHeight,i=t.offset(),r=i.left,s=i.top,a=$(document$1).height()-i.top-t.outerHeight();a<0&&(i.top=i.top+a);var l=$("html").outerWidth()-i.left-t.outerWidth();if(l<0&&(i.left=i.left+l),i.top<0&&(i.top=0),i.left<0&&(i.left=0),t.offset(i),"bottom"===e.placement||"top"===e.placement){if(r!==i.left)return this._replaceArrow(t,2*(i.left-r),o,"left")}else if(s!==i.top)return this._replaceArrow(t,2*(i.top-s),n,"top")}},{key:"_center",value:function(t){return t.css("top",$(window).outerHeight()/2-t.outerHeight()/2),t.css("left",$(window).outerWidth()/2-t.outerWidth()/2)}},{key:"_replaceArrow",value:function(t,e,o,n){return t.find(".arrow").css(n,e?50*(1-e/o)+"%":"")}},{key:"_scrollIntoView",value:function(t){var e=this,o=this.getStep(t),n=$(o.element);if(this._isOrphan(o))return this._showPopoverAndOverlay(t);if(!n.length)return this._showPopoverAndOverlay(t);var i=$(window),r=n.offset().top,s=n.outerHeight(),a=i.height(),l=0;switch(o.placement){case"top":l=Math.max(0,r-a/2);break;case"left":case"right":l=Math.max(0,r+s/2-a/2);break;case"bottom":l=Math.max(0,r+s-a/2)}this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+r+". Window height: "+a+".");var u=0;return $("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(){if(2==++u)return e._showPopoverAndOverlay(t),e._debug("Scroll into view.\nAnimation end element offset: "+n.offset().top+".\nWindow height: "+i.height()+".")})}},{key:"_onScroll",value:function(t,e){return $(window).on("scroll.tour-"+this._options.name,function(){return clearTimeout(e),e=setTimeout(t,100)})}},{key:"_initMouseNavigation",value:function(){var t=this;return $(document$1).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(e){return e.preventDefault(),t.next()}).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(e){if(e.preventDefault(),t._current>0)return t.prev()}).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(e){return e.preventDefault(),t.end()}).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(e){return e.preventDefault(),$this=$(e.target),$this.text(t._paused?$this.data("pause-text"):$this.data("resume-text")),t._paused?t.resume():t.pause()})}},{key:"_initKeyboardNavigation",value:function(){var t=this;if(this._options.keyboard)return $(document$1).on("keyup.tour-"+this._options.name,function(e){if(e.which)switch(e.which){case 39:return e.preventDefault(),t._isLast()?t.next():t.end();case 37:if(e.preventDefault(),t._current>0)return t.prev()}})}},{key:"_makePromise",value:function(t){return t&&$.isFunction(t.then)?t:Promise.resolve()}},{key:"_callOnPromiseDone",value:function(t,e,o){var n=this;return t?t.then(function(){return e.call(n,o)}):e.call(this,o)}},{key:"_fixBootstrapSelectPickerZindex",value:function(t){if(!this._isOrphan(t)&&0==$(document$1).find(".popover.tour-"+this._options.name+".tour-"+this._options.name+"-"+this.getCurrentStepIndex()).length){var e="select"==$(t.element)[0].tagName.toLowerCase()?$(t.element):$(t.element).find("select:first");e.length>0&&e.parent().hasClass("bootstrap-select")&&(this._debug("Fixing Bootstrap SelectPicker"),e.parent().css("z-index","1101"),this._setStepFlag(this.getCurrentStepIndex(),"elementBootstrapSelectpicker",e))}}},{key:"_unfixBootstrapSelectPickerZindex",value:function(t){var e=this._getStepFlag(this.getCurrentStepIndex(),"elementBootstrapSelectpicker");e&&(this._debug("Unfixing Bootstrap SelectPicker"),e.parent().css("z-index","auto"))}},{key:"_showOverlayElements",value:function(t){var e=0==$(document$1).find(".popover.tour-"+this._options.name+".tour-"+this._options.name+"-"+this.getCurrentStepIndex()).length;t.preventInteraction&&!e&&($(t.backdropContainer).append("<div class='tour-prevent' id='tourPrevent'></div>"),$("#tourPrevent").width($(t.element).outerWidth()),$("#tourPrevent").height($(t.element).outerHeight()),$("#tourPrevent").offset($(t.element).offset()));var o=$(document$1).height(),n=$(document$1).width();if(0===$(t.element).length||this._isOrphan(t)){var i=$('<div class="tour-backdrop tour-backdrop-orphan"></div>');i.offset({top:0,left:0}),i.width(n),i.height(o),$("body").append(i)}else{var r={width:$(t.element).innerWidth(),height:$(t.element).innerHeight(),offset:$(t.element).offset()};t.backdropPadding&&(_readOnlyError("elementData"),r=this._applyBackdropPadding(t.backdropPadding,r));var s=$('<div class="tour-backdrop top"></div>');s.offset({top:0,left:0}),s.width(n),s.height(r.offset.top);var a=$('<div class="tour-backdrop left"></div>');a.width(r.offset.left),a.height(r.height),a.offset({top:r.offset.top,left:0});var l=$('<div class="tour-backdrop right"></div>');l.width(n-(r.width+r.offset.left)),l.height(r.height),l.offset({top:r.offset.top,left:r.offset.left+r.width});var u=$('<div class="tour-backdrop bottom"></div>');u.width(n),u.height(o-r.offset.top-r.height),u.offset({top:r.offset.top+r.height,left:0}),$(t.backdropContainer).append(s),$(t.backdropContainer).append(a),$(t.backdropContainer).append(l),$(t.backdropContainer).append(u)}}},{key:"_hideOverlayElement",value:function(t){$("#tourPrevent").length&&$("#tourPrevent").remove(),$(".tour-backdrop").remove()}},{key:"_applyBackdropPadding",value:function(t,e){return"object"===_typeof(t)?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e}},{key:"_clearTimer",value:function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null}},{key:"_getProtocol",value:function(t){return(t=t.split("://")).length>1?t[0]:"http"}},{key:"_getHost",value:function(t){return(t=(t=t.split("//")).length>1?t[1]:t[0]).split("/")[0]}},{key:"_getPath",value:function(t){return t.replace(/\/?$/,"").split("?")[0].split("#")[0]}},{key:"_getQuery",value:function(t){return this._getParams(t,"?")}},{key:"_getHash",value:function(t){return this._getParams(t,"#")}},{key:"_getParams",value:function(t,e){var o=t.split(e);if(1===o.length)return{};for(var n={},i=0,r=(o=o[1].split("&")).length;i<r;i++){var s=o[i];n[(s=s.split("="))[0]]=s[1]||""}return n}},{key:"_equal",value:function(t,e){if(LS.ld.isObject(t)&&LS.ld.isObject(e)){var o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;for(var i in t){var r=t[i];if(!this._equal(e[i],r))return!1}return!0}if(LS.ld.isArray(t)&&LS.ld.isArray(e)){if(t.length!==e.length)return!1;for(var s=j=0,a=t.length;j<a;s=++j){var l=t[s];if(!this._equal(l,e[s]))return!1}return!0}return t===e}}]),t}(),globalTourObject=function globalTourObject(){var getBasedUrls=/(\/index.php)?\?r=admin/.test(window.location.href),combineParams=function(t){return!1===t?"":"/"+LS.ld.reduce(t,function(t,e,o){return t+(""===t?"":"/")+o+"/"+e},"")},filterUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"/"==t.charAt(0)&&(t=t.substring(1));var n=getBasedUrls||o?"?r=admin/":"/admin/",i=/\/index.php\/?/.test(window.location.href),r=window.LS.data.baseUrl+(i?"/index.php":"")+n+t+combineParams(e);return r},_preparePath=function(t){return"string"==typeof t?t:RegExp(t.join())},_prepareMethods=function _prepareMethods(tutorialObject){return tutorialObject.steps=LS.ld.map(tutorialObject.steps,function(step,i){return step.path=_preparePath(step.path),step.onNext=step.onNext?eval(step.onNext):void 0,step.onShow=step.onShow?eval(step.onShow):void 0,step.onShown=step.onShown?eval(step.onShown):void 0,step.onHide=step.onHide?eval(step.onHide):void 0,step.onHidden=step.onHidden?eval(step.onHidden):void 0,step}),tutorialObject.onShown=tutorialObject.onShown?eval(tutorialObject.onShown):null,tutorialObject.onEnd=tutorialObject.onEnd?eval(tutorialObject.onEnd):null,tutorialObject.onStart=tutorialObject.onStart?eval(tutorialObject.onStart):null,tutorialObject};return{get:function(t){return new Promise(function(e,o){$.ajax({url:filterUrl("/tutorial/sa/servertutorial"),data:{tutorialname:t,ajax:!0},method:"POST",success:function(t){var o=_prepareMethods(t.tutorial);e(o)},error:function(t){o(t)}})})}}},globalTourObject$1=globalTourObject(),TourLibrary=function(){var t=function(){return window.localStorage.getItem("lstutorial-is-tour-active")||!1},e=function(t){window.localStorage.removeItem("lstutorial-is-tour-active"),void 0!==t&&$.post(LS.data.baseUrl+("path"==LS.data.urlFormat?"/admin/tutorial/sa/triggerfinished/tid/":"?r=admin/tutorial/sa/triggerfinished/tid/")+t)},o=function(){"object"===_typeof(r)&&null!==r&&r.end(),e()},n=function(n){return new Promise(function(i,s){!1!==t()&&t()!==n&&(o(),s()),globalTourObject$1.get(n).then(function(t){!function(t){window.localStorage.setItem("lstutorial-is-tour-active",t)}(n),t.onEnd=function(){e(t.tid)},t.debug=window.debugState.backend,t.framework="bootstrap3",r=new Tour(t),i(r)},console.ls.err)})},i=t(),r=null;return!1!==i&&"function"!=typeof r&&n(i).then(function(t){t.ended()?t.restart():setTimeout(function(){t.start()},1)},function(t){console.ls.log("Couldn't be loaded!"),console.ls.error(t)}),{triggerTourStart:function(t){o(),n(t).then(function(t){t.ended()?t.restart():t.start(!0)},function(t){console.ls.log("Couldn't be loaded!"),console.ls.error(t)})},clearActiveTour:o,initTour:n,_actionActiveTour:r,getCurrentStep:function(){if(!1!==t())return globalTourObject$1.getCurrentStep()}}};$(document).on("ready pjax:scriptcomplete",function(){void 0===window.tourLibrary&&(window.tourLibrary=TourLibrary()),$("#selector__welcome-modal--starttour").on("click",function(t){$(t.currentTarget).closest(".modal").modal("hide"),window.tourLibrary.triggerTourStart("firstStartTour")})})});
//# sourceMappingURL=lstutorial.min.js.map
