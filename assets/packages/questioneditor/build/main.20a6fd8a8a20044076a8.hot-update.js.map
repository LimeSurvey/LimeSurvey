{"version":3,"sources":["webpack:///src/helperComponents/LabelSets.vue","webpack:///./src/helperComponents/LabelSets.vue?23f2"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA,mBADA;AAEA;AAAA;AAAA,GAFA;AAGA,mEAHA;AAIA;AACA;AAAA;AAAA;AAAA,KADA;AAEA;AAAA;AAAA;AAAA,KAFA;AAGA;AAAA;AAAA;AAAA,KAHA;AAIA;AAAA;AAAA;AAAA;AAJA,GAJA;AAUA,MAVA,kBAUA;AACA;AACA,mBADA;AAEA;AAFA;AAIA,GAfA;AAgBA;AACA,qBADA,+BACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AARA,GAhBA;AA0BA;AACA,oBADA,4BACA,cADA,EACA;AACA;AACA,KAHA;AAIA,0BAJA,kCAIA,MAJA,EAIA,CAEA,CANA;AAOA,kBAPA,4BAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,KAVA;AAWA,gBAXA,0BAWA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,KAdA;AAeA,wBAfA,gCAeA,KAfA,EAeA;AACA;AACA;AAjBA,GA1BA;AA6CA,SA7CA,qBA6CA;AAAA;;AACA;AAAA;AAAA,YACA;AACA;AACA;AACA,KAJA,EAKA;AACA;;AACA;AACA,KARA;AAUA;AAxDA,G;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,yDAAyD;AAC7E,eAAe,+BAA+B;AAC9C,iBAAiB,qBAAqB;AACtC,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA,WAAW,kDAAkD;AAC7D;AACA;AACA,0BAA0B,mCAAmC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oCAAoC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C;AACA,yBAAyB,qBAAqB;AAC9C,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2CAA2C;AACpE,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC;AACtE,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,qBAAqB,iCAAiC;AACtD,uBAAuB,qBAAqB;AAC5C,yBAAyB,qBAAqB;AAC9C,yBAAyB,iDAAiD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8BAA8B;AAC7C,iBAAiB,kCAAkC;AACnD,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA","file":"main.20a6fd8a8a20044076a8.hot-update.js","sourcesContent":["<script>\r\nimport map from 'lodash/map';\r\nimport merge from 'lodash/merge';\r\nimport keys from 'lodash/keys';\r\n\r\nimport Autocomplete from './Autocomplete';\r\nimport AjaxMixin from '../mixins/runAjax';\r\n\r\nexport default {\r\n    name: 'LabelSets',\r\n    components: {Autocomplete},\r\n    mixins: [AjaxMixin],\r\n    props: {\r\n        template: {type: Object, required: true},\r\n        type: {type: String, required: true},\r\n        typedef: {type: String, required: true},\r\n        typekey: {type: String, required: true},\r\n    },\r\n    data() {\r\n        return {\r\n            labelSets: [],\r\n            isLoading: true,\r\n        };\r\n    },\r\n    computed: {\r\n        labelSetToDataSet() {\r\n            return map(this.currentLabelSet.labels, (label) => {\r\n                const dataSet = merge({},this.template);\r\n                dataSet[this.typedef] = this.currentLanguageValue(label);\r\n                dataSet[this.typekey] = label.code;\r\n                return dataSet;\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        compileLanguages(languageString) {\r\n            return `(${languageString.split(' ').join(',')})`;\r\n        },\r\n        updateSelectedLabelset($event) {\r\n\r\n        },\r\n        replaceCurrent() {\r\n            this.$emit('modalEvent', {target: this.type, method: 'replaceFromLabelSets', content: this.labelSetToDataSet});\r\n            this.$emit('close');\r\n        },\r\n        addToCurrent() {\r\n            this.$emit('modalEvent', {target: this.type, method: 'addToFromLabelSets', content: this.labelSetToDataSet});\r\n            this.$emit('close');\r\n        },\r\n        currentLanguageValue(label) {\r\n            return label[this.$store.state.activeLanguage] != undefined ? label[$store.state.activeLanguage].title : '';\r\n        }\r\n    },\r\n    created() {\r\n        this.$_get(LS.createUrl('admin/labels/sa/getLabelSetsForQuestion'), {'languages': keys(this.$store.state.languages)}).then(\r\n            (result) => {\r\n                this.isLoading = false;\r\n                this.labelSets = result.data;\r\n            },\r\n            (error) => {\r\n                this.$log.error(error);\r\n                this.isLoading = false;\r\n            }\r\n        )\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"panel panel-default ls-flex-column fill\">\r\n        <div class=\"panel-heading\">\r\n            <div class=\"row\">\r\n                <div class=\"pagetitle h3\">{{'Label sets' | translate}}</div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <label class=\"control-label col-xs-12 col-md-4\"> \r\n                    <template v-if=\"isLoading\">\r\n                        <i class=\"fa fa-cog fa-spin\"></i>\r\n                    </template>\r\n                    <template v-else>\r\n                    {{\"Select label set\" | translate }} \r\n                    </template>\r\n                </label>\r\n                <div class=\"col-xs-12 col-md-8\">\r\n                    <autocomplete \r\n                        v-model=\"currentLabelSet\" \r\n                        :data-list=\"labelSets\"\r\n                        :searchable-keys=\"['label_name']\"\r\n                        show-key=\"label_name\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"container-fluid\" v-if=\"currentLabelSet != ''\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-12\">\r\n                        <h4> {{currentLabelSet.label_name }} </h4>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <hr/>\r\n                </div>\r\n                <div class=\"row scoped-descriptionrow\">\r\n                    <div class=\"col-xs-3\">\r\n                        {{\"Sortorder\"|translate}}\r\n                    </div>\r\n                    <div class=\"col-xs-3\">\r\n                        {{typekey|translate}}\r\n                    </div>\r\n                    <div class=\"col-xs-3\">\r\n                        {{typedef|translate}}\r\n                    </div>\r\n                    <div class=\"col-xs-3\" v-if=\"type=='answeroptions'\">\r\n                        {{ \"Assessment value\"|translate }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" v-for=\"label in currentLabelSet.labels\" :key=\"label.id\">\r\n                    <div class=\"col-xs-3\">\r\n                        {{label.sortorder}}\r\n                    </div>\r\n                    <div class=\"col-xs-3\">\r\n                        {{label.code}}\r\n                    </div>\r\n                    <div class=\"col-xs-3\">\r\n                        {{ currentLanguagesValue(label) }}\r\n                    </div>\r\n                    <div class=\"col-xs-3\" v-if=\"type=='answeroptions'\">\r\n                        {{ label.assessment_value }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div  class=\"container-fluid\" v-else>\r\n                <div class=\"row\">\r\n                    <div class=\"row\">\r\n                        <p class=\"text-center scoped-no-selection\"> {{\"No label set selected\" | translate}} </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"panel-footer\">\r\n            <div class=\"ls-flex-row wrap\">\r\n                <div class=\"ls-flex-item\">\r\n                    <button class=\"btn btn-primary ls-space margin left-5\" @click=\"replaceCurrent\" type=\"button\">{{'Replace' | translate}}</button>\r\n                    <button class=\"btn btn-primary ls-space margin left-5\" @click=\"addToCurrent\" type=\"button\">{{'Add' | translate}}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n\r\n</style>\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"panel panel-default ls-flex-column fill\" }, [\n    _c(\"div\", { staticClass: \"panel-heading\" }, [\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\"div\", { staticClass: \"pagetitle h3\" }, [\n          _vm._v(_vm._s(_vm._f(\"translate\")(\"Label sets\")))\n        ])\n      ]),\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\n          \"label\",\n          { staticClass: \"control-label col-xs-12 col-md-4\" },\n          [\n            _vm.isLoading\n              ? [_c(\"i\", { staticClass: \"fa fa-cog fa-spin\" })]\n              : [\n                  _vm._v(\n                    \"\\n                \" +\n                      _vm._s(_vm._f(\"translate\")(\"Select label set\")) +\n                      \" \\n                \"\n                  )\n                ]\n          ],\n          2\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"col-xs-12 col-md-8\" },\n          [\n            _c(\"autocomplete\", {\n              attrs: {\n                \"data-list\": _vm.labelSets,\n                \"searchable-keys\": [\"label_name\"],\n                \"show-key\": \"label_name\"\n              },\n              model: {\n                value: _vm.currentLabelSet,\n                callback: function($$v) {\n                  _vm.currentLabelSet = $$v\n                },\n                expression: \"currentLabelSet\"\n              }\n            })\n          ],\n          1\n        )\n      ])\n    ]),\n    _c(\"div\", { staticClass: \"panel-body\" }, [\n      _vm.currentLabelSet != \"\"\n        ? _c(\n            \"div\",\n            { staticClass: \"container-fluid\" },\n            [\n              _c(\"div\", { staticClass: \"row\" }, [\n                _c(\"div\", { staticClass: \"col-xs-12\" }, [\n                  _c(\"h4\", [\n                    _vm._v(\" \" + _vm._s(_vm.currentLabelSet.label_name) + \" \")\n                  ])\n                ])\n              ]),\n              _vm._m(0),\n              _c(\"div\", { staticClass: \"row scoped-descriptionrow\" }, [\n                _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                  _vm._v(\n                    \"\\n                    \" +\n                      _vm._s(_vm._f(\"translate\")(\"Sortorder\")) +\n                      \"\\n                \"\n                  )\n                ]),\n                _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                  _vm._v(\n                    \"\\n                    \" +\n                      _vm._s(_vm._f(\"translate\")(_vm.typekey)) +\n                      \"\\n                \"\n                  )\n                ]),\n                _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                  _vm._v(\n                    \"\\n                    \" +\n                      _vm._s(_vm._f(\"translate\")(_vm.typedef)) +\n                      \"\\n                \"\n                  )\n                ]),\n                _vm.type == \"answeroptions\"\n                  ? _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                      _vm._v(\n                        \"\\n                    \" +\n                          _vm._s(_vm._f(\"translate\")(\"Assessment value\")) +\n                          \"\\n                \"\n                      )\n                    ])\n                  : _vm._e()\n              ]),\n              _vm._l(_vm.currentLabelSet.labels, function(label) {\n                return _c(\"div\", { key: label.id, staticClass: \"row\" }, [\n                  _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(label.sortorder) +\n                        \"\\n                \"\n                    )\n                  ]),\n                  _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(label.code) +\n                        \"\\n                \"\n                    )\n                  ]),\n                  _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(_vm.currentLanguagesValue(label)) +\n                        \"\\n                \"\n                    )\n                  ]),\n                  _vm.type == \"answeroptions\"\n                    ? _c(\"div\", { staticClass: \"col-xs-3\" }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(label.assessment_value) +\n                            \"\\n                \"\n                        )\n                      ])\n                    : _vm._e()\n                ])\n              })\n            ],\n            2\n          )\n        : _c(\"div\", { staticClass: \"container-fluid\" }, [\n            _c(\"div\", { staticClass: \"row\" }, [\n              _c(\"div\", { staticClass: \"row\" }, [\n                _c(\"p\", { staticClass: \"text-center scoped-no-selection\" }, [\n                  _vm._v(\n                    \" \" +\n                      _vm._s(_vm._f(\"translate\")(\"No label set selected\")) +\n                      \" \"\n                  )\n                ])\n              ])\n            ])\n          ])\n    ]),\n    _c(\"div\", { staticClass: \"panel-footer\" }, [\n      _c(\"div\", { staticClass: \"ls-flex-row wrap\" }, [\n        _c(\"div\", { staticClass: \"ls-flex-item\" }, [\n          _c(\n            \"button\",\n            {\n              staticClass: \"btn btn-primary ls-space margin left-5\",\n              attrs: { type: \"button\" },\n              on: { click: _vm.replaceCurrent }\n            },\n            [_vm._v(_vm._s(_vm._f(\"translate\")(\"Replace\")))]\n          ),\n          _c(\n            \"button\",\n            {\n              staticClass: \"btn btn-primary ls-space margin left-5\",\n              attrs: { type: \"button\" },\n              on: { click: _vm.addToCurrent }\n            },\n            [_vm._v(_vm._s(_vm._f(\"translate\")(\"Add\")))]\n          )\n        ])\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"row\" }, [_c(\"hr\")])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}