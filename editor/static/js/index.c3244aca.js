(()=>{"use strict";var e,i,a,s,l,n,r,o={3036(e,i,a){var s,l={};a.r(l),a.d(l,{getGeneralSettingsBlocks:()=>ua});var n={};a.r(n),a.d(n,{getParticipantsSettingsBlocks:()=>us});var r={};a.r(r),a.d(r,{getPresentationSettingsBlocks:()=>ul});var o={};a.r(o),a.d(o,{getPrivacyPolicySettingsBlocks:()=>un});var d={};a.r(d),a.d(d,{getPublicationAccessSettingsBlocks:()=>ur});var u={};a.r(u),a.d(u,{getNotificationsDataSettingsBlocks:()=>uo});var c={};a.r(c),a.d(c,{getThemeOptions:()=>u_});var m=a(37740),p=a(24686),h=a(93456),g=a(43748),v=a(80739),x=a(91930),I=a(98739);a(14324);var _=a(33899),T=a(1500),N=a(93958),b=a(44721);a(42196);var E=a(62470),y=a(96920),S=a(27867);let A=new E.E({defaultOptions:{queries:{refetchOnWindowFocus:!0,staleTime:1/0,cacheTime:2592e6}}}),f={persister:(0,S.s)({storage:window.localStorage,serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)}),buster:"limesurvey-editor@1.0.9-"+"360facd60bbaa1c02ba65d3c217c5ca423c20735".substring(0,10),dehydrateOptions:{shouldDehydrateQuery:e=>(0,y.XS)(e)&&e.meta&&!0===e.meta.persist}},j=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:s}=(0,b.I)({queryKey:["appState",e],queryFn:()=>i,select:e=>e,staleTime:1/0,cacheTime:1/0,meta:{persist:!0},...a});return[s,(0,h.useCallback)(i=>{A.setQueryData(["appState",e],i)},[])]};var C=a(7575),O=a(8883),w=a.n(O);let q=e=>{var i;let{prop:a,language:s,l10ns:l}=e;return(null==l||null==(i=l[s])?void 0:i.hasOwnProperty(a))&&w()(l[s][a])?l[s][a]:""};var M=a(52245),L=a.n(M),D=a(27910),R=a.n(D),P=a(64005),k=a.n(P);L().extend(R()),L().extend(k());let U=L();a(5409);let H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{version:i="v1",baseUrl:a=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a||(a=window.location.protocol+"//"+window.location.host+"/rest");let s=[a];return i&&s.push(i),e&&s.push(e),s.join("/")},G=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!e)return!1;var s=e.getBoundingClientRect(),l=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(s.bottom-i<0||s.top+a-l>=0)},V=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:125;if(e&&!G(e)){var a=e.getBoundingClientRect().top+window.scrollY-i;setTimeout(()=>{window.scrollTo({top:a,behavior:"smooth"})},1)}},Y=[{label:"Fruity_twentythree",value:"fruity_twentythree"}],Q="_________________________ignore_update________",B="attribute_descriptions",F="is_survey_active",z="code_to_question",$="is_adding_questions_or_group",W="clicked_question_group_index",Z="save_state",K="focused_entity",X="survey",J="user_detail",ee="buffer",et="buffer_hash",ei="errors",ea="errors_messages",es="is_patch_survey_running",el="number_of_questions",en="has_survey_update_permission",er="site_settings",eo="helper_settings",ed="survey_hash",eu="survey_refresh_required",ec="all_available_languages",em="survey_publish_running",ep="active_language",eh="operation_finish_subscriptions",eg="start_editor_tutorial",ev="survey_statistics",ex="has_responses_read_permission",eI="has_responses_update_permission",e_="survey_request_utc_timestamp",eT="editorTutorial",eN="generalsettings",eb="datasecurity",eE="theme_options",ey="presentation",eS="tokens",eA="notification",ef="publication",ej="participants",eC="emailtemplates",eO="failedemail",ew="quotas",eq="assessments",eM="panelintegration",eL="statistics",eD="resources",eR="plugins",eP="sharingOverview",ek="responses",eU="survey",eH="sharing",eG="/admin",eV={OPEN_TO_ALL:"O",CLOSED:"C"},eY="survey_archived_",eQ="de-informal",eB="ca-valencia",eF="zh-Hans",ez="zh-Hant-HK",e$="zh-Hant-TW",eW="cs-informal",eZ="nl-informal",eK="de-easy",eX="it-informal",eJ="pap-CW",e0="pl-informal",e1="pt-BR",e2="sr-Latn",e3="es-informal",e6="es-AR",e4="es-AR-informal",e5="es-CL",e7="es-CO",e9="es-MX",e8={en:{label:"English",value:"en"},[eQ]:{label:"Deutsch (informell)",value:eQ},om:{label:"Afaan Oromoo",value:"om"},aa:{label:"Afaraf",value:"aa"},af:{label:"Afrikaans",value:"af"},ak:{label:"Akan",value:"ak"},an:{label:"Aragon\xe9s",value:"an"},ig:{label:"Asụsụ Igbo",value:"ig"},gn:{label:"Ava\xf1e'ẽ",value:"gn"},ae:{label:"Avesta",value:"ae"},ay:{label:"Aymar aru",value:"ay"},az:{label:"Azərbaycan dili",value:"az"},id:{label:"Bahasa Indonesia",value:"id"},ms:{label:"Bahasa Melayu",value:"ms"},bm:{label:"Bamanankan",value:"bm"},jv:{label:"Basa Jawa",value:"jv"},su:{label:"Basa Sunda",value:"su"},bi:{label:"Bislama",value:"bi"},bs:{label:"Bosanski jezik",value:"bs"},br:{label:"Brezhoneg",value:"br"},ca:{label:"Catal\xe0",value:"ca"},ch:{label:"Chamoru",value:"ch"},ny:{label:"ChiCheŵa",value:"ny"},sn:{label:"ChiShona",value:"sn"},co:{label:"Corsu",value:"co"},cy:{label:"Cymraeg",value:"cy"},da:{label:"Dansk",value:"da"},se:{label:"Davvis\xe1megiella",value:"se"},de:{label:"Deutsch",value:"de"},nv:{label:"Din\xe9 bizaad",value:"nv"},et:{label:"Eesti",value:"et"},na:{label:"Ekakairũ Naoero",value:"na"},en:{label:"English",value:"en"},es:{label:"Espa\xf1ol",value:"es"},eo:{label:"Esperanto",value:"eo"},eu:{label:"Euskara",value:"eu"},ee:{label:"Eʋegbe",value:"ee"},to:{label:"Faka Tonga",value:"to"},mg:{label:"Fiteny malagasy",value:"mg"},fr:{label:"Fran\xe7ais",value:"fr"},fy:{label:"Frysk",value:"fy"},ff:{label:"Fulfulde",value:"ff"},fo:{label:"F\xf8royskt",value:"fo"},ga:{label:"Gaeilge",value:"ga"},gv:{label:"Gaelg",value:"gv"},sm:{label:"Gagana fa'a Samoa",value:"sm"},gl:{label:"Galego",value:"gl"},sq:{label:"Gjuha shqipe",value:"sq"},gd:{label:"G\xe0idhlig",value:"gd"},ki:{label:"Gĩkũyũ",value:"ki"},ha:{label:"Hausa",value:"ha"},ho:{label:"Hiri Motu",value:"ho"},hr:{label:"Hrvatski jezik",value:"hr"},io:{label:"Ido",value:"io"},rw:{label:"Ikinyarwanda",value:"rw"},rn:{label:"Ikirundi",value:"rn"},ia:{label:"Interlingua",value:"ia"},nd:{label:"IsiNdebele",value:"nd"},nr:{label:"IsiNdebele",value:"nr"},xh:{label:"IsiXhosa",value:"xh"},zu:{label:"IsiZulu",value:"zu"},it:{label:"Italiano",value:"it"},ik:{label:"I\xf1upiaq",value:"ik"},pl:{label:"Polski",value:"pl"},mh:{label:"Kajin M̧ajeļ",value:"mh"},kl:{label:"Kalaallisut",value:"kl"},kr:{label:"Kanuri",value:"kr"},kw:{label:"Kernewek",value:"kw"},kg:{label:"KiKongo",value:"kg"},sw:{label:"Kiswahili",value:"sw"},ht:{label:"Krey\xf2l ayisyen",value:"ht"},kj:{label:"Kuanyama",value:"kj"},ku:{label:"Kurd\xee",value:"ku"},la:{label:"Latine",value:"la"},lv:{label:"Latviešu valoda",value:"lv"},lt:{label:"Lietuvių kalba",value:"lt"},ro:{label:"Limba rom\xe2nă",value:"ro"},li:{label:"Limburgs",value:"li"},ln:{label:"Ling\xe1la",value:"ln"},lg:{label:"Luganda",value:"lg"},lb:{label:"L\xebtzebuergesch",value:"lb"},hu:{label:"Magyar",value:"hu"},mt:{label:"Malti",value:"mt"},nl:{label:"Nederlands",value:"nl"},no:{label:"Norsk",value:"no"},nb:{label:"Norsk bokm\xe5l",value:"nb"},nn:{label:"Norsk nynorsk",value:"nn"},uz:{label:"O'zbek",value:"uz"},oc:{label:"Occitan",value:"oc"},ie:{label:"Interlingue",value:"ie"},hz:{label:"Otjiherero",value:"hz"},ng:{label:"Owambo",value:"ng"},pt:{label:"Portugu\xeas",value:"pt"},ty:{label:"Reo Tahiti",value:"ty"},rm:{label:"Rumantsch grischun",value:"rm"},qu:{label:"Runa Simi",value:"qu"},sc:{label:"Sardu",value:"sc"},za:{label:"Saɯ cueŋƅ",value:"za"},st:{label:"Sesotho",value:"st"},tn:{label:"Setswana",value:"tn"},ss:{label:"SiSwati",value:"ss"},sl:{label:"Slovenski jezik",value:"sl"},sk:{label:"Slovenčina",value:"sk"},so:{label:"Soomaaliga",value:"so"},fi:{label:"Suomi",value:"fi"},sv:{label:"Svenska",value:"sv"},mi:{label:"Te reo Māori",value:"mi"},vi:{label:"Tiếng Việt",value:"vi"},lu:{label:"Tshiluba",value:"lu"},ve:{label:"Tshivenḓa",value:"ve"},tw:{label:"Twi",value:"tw"},tk:{label:"T\xfcrkmen",value:"tk"},tr:{label:"T\xfcrk\xe7e",value:"tr"},ug:{label:"Uyƣurqə",value:"ug"},vo:{label:"Volap\xfck",value:"vo"},fj:{label:"Vosa Vakaviti",value:"fj"},wa:{label:"Walon",value:"wa"},tl:{label:"Wikang Tagalog",value:"tl"},wo:{label:"Wollof",value:"wo"},ts:{label:"Xitsonga",value:"ts"},yo:{label:"Yor\xf9b\xe1",value:"yo"},sg:{label:"Y\xe2ng\xe2 t\xee s\xe4ng\xf6",value:"sg"},is:{label:"\xcdslenska",value:"is"},cs:{label:"čeština",value:"cs"},el:{label:"ελληνικά",value:"el"},av:{label:"авар мацӀ",value:"av"},ab:{label:"аҧсуа бызшәа",value:"ab"},ba:{label:"башҡорт теле",value:"ba"},be:{label:"беларуская мова",value:"be"},bg:{label:"български език",value:"bg"},os:{label:"ирон \xe6взаг",value:"os"},kv:{label:"коми кыв",value:"kv"},ky:{label:"Кыргызча",value:"ky"},mk:{label:"македонски јазик",value:"mk"},mn:{label:"монгол",value:"mn"},ce:{label:"нохчийн мотт",value:"ce"},ru:{label:"Русский язык",value:"ru"},sr:{label:"српски језик",value:"sr"},tt:{label:"татар теле",value:"tt"},tg:{label:"тоҷикӣ",value:"tg"},uk:{label:"українська мова",value:"uk"},cv:{label:"чӑваш чӗлхи",value:"cv"},cu:{label:"ѩзыкъ словѣньскъ",value:"cu"},kk:{label:"қазақ тілі",value:"kk"},hy:{label:"Հայերեն",value:"hy"},yi:{label:"ייִדיש",value:"yi"},he:{label:"עברית",value:"he"},ur:{label:"اردو",value:"ur"},ar:{label:"العربية",value:"ar"},fa:{label:"فارسی",value:"fa"},ps:{label:"پښتو",value:"ps"},ks:{label:"कश्मीरी",value:"ks"},ne:{label:"नेपाली",value:"ne"},pi:{label:"पाऴि",value:"pi"},bh:{label:"भोजपुरी",value:"bh"},mr:{label:"मराठी",value:"mr"},sa:{label:"संस्कृतम्",value:"sa"},sd:{label:"सिन्धी",value:"sd"},hi:{label:"हिन्दी",value:"hi"},as:{label:"অসমীয়া",value:"as"},bn:{label:"বাংলা",value:"bn"},pa:{label:"ਪੰਜਾਬੀ",value:"pa"},gu:{label:"ગુજરાતી",value:"gu"},or:{label:"ଓଡ଼ିଆ",value:"or"},ta:{label:"தமிழ்",value:"ta"},te:{label:"తెలుగు",value:"te"},kn:{label:"ಕನ್ನಡ",value:"kn"},ml:{label:"മലയാളം",value:"ml"},si:{label:"සිංහල",value:"si"},th:{label:"ไทย",value:"th"},lo:{label:"ພາສາລາວ",value:"lo"},bo:{label:"བོད་ཡིག",value:"bo"},dz:{label:"རྫོང་ཁ",value:"dz"},my:{label:"ဗမာစာ",value:"my"},ka:{label:"ქართული",value:"ka"},ti:{label:"ትግርኛ",value:"ti"},am:{label:"አማርኛ",value:"am"},iu:{label:"ᐃᓄᒃᑎᑐᑦ",value:"iu"},oj:{label:"ᐊᓂᔑᓈᐯᒧᐎᓐ",value:"oj"},cr:{label:"ᓀᐦᐃᔭᐍᐏᐣ",value:"cr"},km:{label:"ខ្មែរ",value:"km"},zh:{label:"中文 (Zhōngw\xe9n)",value:"zh"},ja:{label:"日本語 (にほんご)",value:"ja"},ii:{label:"ꆈꌠ꒿ Nuosuhxop",value:"ii"},ko:{label:"한국어 (韓國語)",value:"ko"},[eB]:{label:"Valenci\xe0",value:eB},ceb:{label:"Cebuano",value:"ceb"},[eF]:{label:"简体中文",value:eF},hat:{label:"Krey\xf2l ayisyen",value:"hat"},[ez]:{label:"繁體中文語系",value:ez},[e$]:{label:"繁體中文（台灣）",value:e$},[eW]:{label:"Česky neform\xe1ln\xed",value:eW},prs:{label:"دری",value:"prs"},[eZ]:{label:"Nederlands (informeel)",value:eZ},fil:{label:"Wikang Filipino",value:"fil"},ful:{label:"Fulfulde",value:"ful"},[eK]:{label:"Deutsch - Leichte Sprache",value:eK},kal:{label:"Kalaallisut",value:"kal"},hil:{label:"Ilonggo",value:"hil"},ike:{label:"ᐃᓄᒃᑎᑐᑦ",value:"ike"},ilo:{label:"Ilokano",value:"ilo"},[eX]:{label:"Italiano (informale)",value:eX},run:{label:"Ikirundi",value:"run"},ckb:{label:"کوردیی ناوەندی",value:"ckb"},kmr:{label:"Kurmanc\xee",value:"kmr"},cnr:{label:"Crnogorski",value:"cnr"},mya:{label:"မြန်မာဘာသာ",value:"mya"},[eJ]:{label:"Papiamentu",value:eJ},[e0]:{label:"Polski (nieformalny)",value:e0},[e1]:{label:"Portugu\xeas do Brasil",value:e1},roh:{label:"Rumantsch",value:"roh"},smi:{label:"Davvis\xe1megiella",value:"smi"},[e2]:{label:"Srpski",value:e2},[e3]:{label:"Espa\xf1ol (informal)",value:e3},[e6]:{label:"Espa\xf1ol rioplatense",value:e6},[e4]:{label:"Espa\xf1ol rioplatense informal",value:e4},[e5]:{label:"Espa\xf1ol chileno",value:e5},[e7]:{label:"Espa\xf1ol colombiano",value:e7},[e9]:{label:"Espa\xf1ol mexicano",value:e9},swh:{label:"Kiswahili",value:"swh"},xho:{label:"isiXhosa",value:"xho"},sah:{label:"Саха тыла",value:"sah"},yor:{label:"\xc8d\xe8 Yor\xf9b\xe1",value:"yor"}},te=e=>(0,m.jsx)("svg",{viewBox:"0 0 12 12",...e,width:12,height:12,children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 6.75V12H6.75V6.75H12V5.25H6.75V0H5.25V5.25H0V6.75H5.25Z"})}),tt=e=>(0,m.jsx)("svg",{...e,viewBox:"0 0 24 24",children:(0,m.jsx)("path",{d:"M3 19H21V21H3V19ZM13 13.1716L19.0711 7.1005L20.4853 8.51472L12 17L3.51472 8.51472L4.92893 7.1005L11 13.1716V2H13V13.1716Z"})}),ti=()=>(0,m.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M3.15665 3.30192C2.30667 4.18411 1.78631 5.33202 1.68303 6.5527C1.57974 7.77337 1.89983 8.99239 2.58948 10.0049C3.27914 11.0173 4.29632 11.7615 5.47005 12.1123C6.64379 12.4631 7.90251 12.3992 9.03465 11.9313C9.11131 11.4313 8.94331 10.9513 8.87465 10.7833C8.72131 10.4099 8.21598 9.77192 7.37265 8.88725C7.14731 8.65059 7.16198 8.46859 7.24265 7.92925L7.25131 7.86859C7.30598 7.49925 7.39798 7.28059 8.64131 7.08325C9.27331 6.98325 9.43931 7.23525 9.66931 7.58525L9.74665 7.69992C9.96531 8.01992 10.1273 8.09325 10.372 8.20392C10.482 8.25392 10.6186 8.31725 10.802 8.42059C11.2366 8.66925 11.2366 8.94992 11.2366 9.56459V9.63459C11.2366 9.89525 11.2113 10.1246 11.1713 10.3239C11.6829 9.68187 12.0394 8.93041 12.213 8.12805C12.3867 7.32568 12.3728 6.49407 12.1725 5.69794C11.9722 4.90181 11.5909 4.16266 11.0582 3.53801C10.5255 2.91337 9.85582 2.42009 9.10131 2.09659C8.73265 2.34525 8.22665 2.69792 8.04998 2.93992C7.95998 3.06325 7.83198 3.69459 7.41665 3.74659C7.30865 3.75992 7.16265 3.75059 7.00798 3.74059C6.59331 3.71392 6.02665 3.67725 5.84531 4.16992C5.72998 4.48192 5.70998 5.32992 6.08265 5.76992C6.14265 5.83992 6.15398 5.96992 6.11331 6.11592C6.05998 6.30725 5.95265 6.42392 5.91865 6.44792C5.85465 6.41059 5.72665 6.26192 5.63931 6.16125C5.43065 5.91792 5.16931 5.61459 4.83198 5.52125C4.70931 5.48725 4.57465 5.45925 4.44331 5.43125C4.07731 5.35459 3.66331 5.26725 3.56665 5.06192C3.49598 4.91125 3.49665 4.70392 3.49665 4.48525C3.49665 4.20725 3.49665 3.89325 3.36065 3.58859C3.31337 3.47986 3.24388 3.38221 3.15665 3.30192ZM6.99998 13.6666C3.31798 13.6666 0.333313 10.6819 0.333313 6.99992C0.333313 3.31792 3.31798 0.333252 6.99998 0.333252C10.682 0.333252 13.6666 3.31792 13.6666 6.99992C13.6666 10.6819 10.682 13.6666 6.99998 13.6666Z",fill:"#8146f6"})}),ta=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:e.className,children:(0,m.jsx)("path",{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"})}),ts=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:e.className,children:(0,m.jsx)("path",{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"})}),tl=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:e.className,children:(0,m.jsx)("path",{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"})}),tn=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e.width||16,height:e.height||16,fill:e.fill||"currentColor",className:e.className,children:(0,m.jsx)("path",{d:"M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z"})}),tr=()=>(0,m.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M11.7518 6.12297L8.50183 2.87296C8.40595 2.77871 8.27378 2.72021 8.12808 2.72021C7.83341 2.72021 7.59508 2.95909 7.59508 3.25322C7.59508 3.39892 7.65358 3.53109 7.74837 3.62697L10.0727 5.95126H1.62537C1.32258 5.95126 1.07666 6.19663 1.07666 6.49997C1.07666 6.8033 1.32204 7.04867 1.62537 7.04867H10.0727L7.74837 9.37297C7.64979 9.46992 7.58858 9.60426 7.58858 9.75322C7.58858 10.0479 7.82745 10.2862 8.12158 10.2862C8.27053 10.2862 8.40487 10.225 8.50183 10.127L11.7518 6.87697C11.8482 6.78055 11.9078 6.6473 11.9078 6.49997C11.9078 6.35263 11.8482 6.21938 11.7518 6.12297Z",fill:"#8146F6"})}),to=e=>{let{width:i=20,height:a=20,className:s=""}=e;return(0,m.jsxs)("svg",{width:i,height:a,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:`fill-current ${s}`,children:[(0,m.jsx)("path",{d:"M0 0h48v48H0z",fill:"none"}),(0,m.jsx)("path",{d:"M40 22H15.66l11.17-11.17-2.83-2.83-16 16 16 16 2.83-2.83-11.17-11.17H40v-4z"})]})},td=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",className:e.className,children:(0,m.jsx)("path",{d:"M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z"})}),tu=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:e.className,children:(0,m.jsx)("path",{d:"M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z"})}),tc=e=>(0,m.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:[(0,m.jsx)("g",{clipPath:"url(#clip0_1299_3611)",children:(0,m.jsx)("path",{d:"M17 2V4H20.007C20.555 4 21 4.445 21 4.993V21.007C21 21.555 20.555 22 20.007 22H3.993C3.445 22 3 21.555 3 21.007V4.993C3 4.445 3.445 4 3.993 4H7V2H17ZM7 6H5V20H19V6H17V8H7V6ZM9 16V18H7V16H9ZM9 13V15H7V13H9ZM9 10V12H7V10H9ZM15 4H9V6H15V4Z",fill:"#1E1E1E"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_1299_3611",children:(0,m.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}),tm=e=>(0,m.jsx)("svg",{height:16,width:14,...e,children:(0,m.jsx)("path",{d:"M6.99992 13.6667C3.31792 13.6667 0.333252 10.682 0.333252 7.00004C0.333252 3.31804 3.31792 0.333374 6.99992 0.333374C10.6819 0.333374 13.6666 3.31804 13.6666 7.00004C13.6666 10.682 10.6819 13.6667 6.99992 13.6667ZM6.99992 6.05737L5.11459 4.17137L4.17125 5.11471L6.05725 7.00004L4.17125 8.88537L5.11459 9.82871L6.99992 7.94271L8.88525 9.82871L9.82859 8.88537L7.94258 7.00004L9.82859 5.11471L8.88525 4.17137L6.99992 6.05737Z"})}),tp=e=>{let{className:i,width:a=20,height:s=20}=e;return(0,m.jsxs)("svg",{width:a,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[(0,m.jsx)("g",{clipPath:"url(#clip0_1_4259)",children:(0,m.jsx)("path",{d:"M12.0007 10.586L16.9507 5.63599L18.3647 7.04999L13.4147 12L18.3647 16.95L16.9507 18.364L12.0007 13.414L7.05072 18.364L5.63672 16.95L10.5867 12L5.63672 7.04999L7.05072 5.63599L12.0007 10.586Z"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_1_4259",children:(0,m.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},th=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",className:e.className,children:(0,m.jsx)("path",{d:"M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z"})}),tg=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",...e,className:e.className,children:(0,m.jsx)("path",{fill:e.fill,d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"})}),tv=e=>(0,m.jsx)("svg",{...e,style:{height:"14px",width:"14px",...e.style},children:(0,m.jsx)("path",{d:"M0.69339 0.125H3.47641V2.625H0.69339V0.125ZM6.25943 0.125H9.04245V2.625H6.25943V0.125ZM0.69339 5.75H3.47641V8.25H0.69339V5.75ZM6.25943 5.75H9.04245V8.25H6.25943V5.75ZM0.69339 11.375H3.47641V13.875H0.69339V11.375ZM6.25943 11.375H9.04245V13.875H6.25943V11.375Z"})}),tx=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",className:e.className,children:(0,m.jsx)("path",{d:"M15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89H6.41421L15.7279 9.57629ZM17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786L17.1421 8.16207ZM7.24264 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L7.24264 20.89Z"})}),tI=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",...e,className:e.className,children:(0,m.jsx)("path",{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"})}),t_=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",className:e.className,children:(0,m.jsx)("path",{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V11H19L18.9999 6.413L11.2071 14.2071L9.79289 12.7929L17.5849 5H13V3H21Z"})}),tT=e=>(0,m.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:(0,m.jsx)("path",{d:"M12.606 1.68604L21.092 10.172L19.677 11.586L18.97 10.879L14.728 15.121L14.021 18.657L12.606 20.071L8.364 15.828L3.414 20.778L2 19.364L6.95 14.414L2.707 10.172L4.121 8.75704L7.658 8.05004L11.9 3.80804L11.193 3.10104L12.607 1.68604H12.606ZM13.314 5.22204L8.643 9.89204L5.821 10.457L12.321 16.957L12.885 14.135L17.556 9.46504L13.314 5.22204Z",fill:"black"})}),tN=e=>(0,m.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:[(0,m.jsx)("path",{d:"M13 14H21V16H13V14ZM8 7H21V9H8V7Z",fill:"#25003E"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16C5.55228 16 6 15.5523 6 15C6 14.4477 5.55228 14 5 14C4.44772 14 4 14.4477 4 15C4 15.5523 4.44772 16 5 16ZM5 17C6.10457 17 7 16.1046 7 15C7 13.8954 6.10457 13 5 13C3.89543 13 3 13.8954 3 15C3 16.1046 3.89543 17 5 17Z",fill:"#25003E"}),(0,m.jsx)("path",{d:"M12 15C12 16.1046 11.1046 17 10 17C8.89543 17 8 16.1046 8 15C8 13.8954 8.89543 13 10 13C11.1046 13 12 13.8954 12 15Z",fill:"#25003E"}),(0,m.jsx)("path",{d:"M7 8C7 9.10457 6.10457 10 5 10C3.89543 10 3 9.10457 3 8C3 6.89543 3.89543 6 5 6C6.10457 6 7 6.89543 7 8Z",fill:"#25003E"})]}),tb=()=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,m.jsx)("path",{d:"M4 18V14.3C4 13.4716 3.32843 12.8 2.5 12.8H2V11.2H2.5C3.32843 11.2 4 10.5284 4 9.7V6C4 4.34315 5.34315 3 7 3H8V5H7C6.44772 5 6 5.44772 6 6V10.1C6 10.9858 5.42408 11.7372 4.62623 12C5.42408 12.2628 6 13.0142 6 13.9V18C6 18.5523 6.44772 19 7 19H8V21H7C5.34315 21 4 19.6569 4 18ZM20 14.3V18C20 19.6569 18.6569 21 17 21H16V19H17C17.5523 19 18 18.5523 18 18V13.9C18 13.0142 18.5759 12.2628 19.3738 12C18.5759 11.7372 18 10.9858 18 10.1V6C18 5.44772 17.5523 5 17 5H16V3H17C18.6569 3 20 4.34315 20 6V9.7C20 10.5284 20.6716 11.2 21.5 11.2H22V12.8H21.5C20.6716 12.8 20 13.4716 20 14.3Z",fill:"#333641"})}),tE=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",fill:"none",className:e.className,children:[(0,m.jsx)("rect",{width:"15",height:"2.456",y:"3.947",fill:"#333641",opacity:".2",rx:"1"}),(0,m.jsx)("rect",{width:"15",height:"2.456",y:"8.246",fill:"#333641",rx:"1"}),(0,m.jsx)("rect",{width:"15",height:"2.456",fill:"#333641",rx:"1"}),(0,m.jsx)("rect",{width:"15",height:"2.456",y:"12.544",fill:"#333641",rx:"1"})]}),ty=()=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"20",viewBox:"0 0 28 20",fill:"none",children:[(0,m.jsx)("path",{d:"M4.66833 14.7634V3.22833H2.76011L0 5.22267V7.05645L2.6664 5.15506H2.76011V14.7634H4.66833Z",fill:"#333641"}),(0,m.jsx)("path",{d:"M9.89039 6.55786C9.89039 6.54096 9.89039 6.48181 9.89039 6.45645C9.89039 5.45929 10.606 4.57197 11.8327 4.57197C12.9316 4.57197 13.7409 5.28182 13.7409 6.35505C13.7409 7.36067 13.0594 8.12967 12.429 8.81417L8.10995 13.5634V14.7634H15.8791V13.1662H10.7934V13.0564L13.6642 9.85359C14.7206 8.68741 15.6747 7.70714 15.6747 6.19449C15.6747 4.36916 14.1754 3.00016 11.8753 3.00016C9.31963 3.00016 8.0418 4.71563 8.0418 6.46491V6.55786H9.89039Z",fill:"#333641"}),(0,m.jsx)("path",{d:"M20.5475 9.59162H21.8253C23.1628 9.59162 24.0572 10.3691 24.0658 11.493C24.0828 12.6338 23.1713 13.4535 21.7572 13.4451C20.5049 13.4366 19.6019 12.769 19.5167 11.9071H17.7363C17.8044 13.6057 19.2611 15 21.7401 15C24.1424 15 26.0336 13.6479 25.9995 11.5437C25.9655 9.70148 24.5002 8.88177 23.478 8.78037V8.67896C24.3469 8.5353 25.6673 7.61419 25.6332 5.97477C25.5906 4.2762 24.1169 2.98326 21.7998 3.00016C19.3634 3.00861 18.0344 4.41986 17.9833 6.05928H19.7978C19.8489 5.25647 20.6071 4.53817 21.7572 4.53817C22.8987 4.53817 23.7165 5.23957 23.7165 6.26209C23.725 7.29306 22.8987 8.04517 21.7657 8.04517H20.5475V9.59162Z",fill:"#333641"})]}),tS=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",fill:"none",className:e.className,children:[(0,m.jsx)("rect",{width:"15",height:"3.111",fill:"#D3D5DA",opacity:".2",rx:"1"}),(0,m.jsx)("rect",{width:"15",height:"3.111",y:"5.444",fill:"#333641",rx:"1"}),(0,m.jsx)("rect",{width:"15",height:"3.111",y:"10.889",fill:"#333641",opacity:".2",rx:"1"})]}),tA=()=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",children:[(0,m.jsx)("g",{clipPath:"url(#a)",children:(0,m.jsx)("path",{fill:"#333641",d:"M12 3v2H3V3h9Zm4 16v2H3v-2h13Zm6-8v2H3v-2h19Z"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),tf=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",className:e.className,children:[(0,m.jsx)("g",{clipPath:"url(#a)",children:(0,m.jsx)("path",{fill:"#333641",d:"M8 4h13v2H8V4ZM5 3v3h1v1H3V6h1V4H3V3h2ZM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3Zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5ZM8 11h13v2H8v-2Zm0 7h13v2H8v-2Z"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),tj=e=>(0,m.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className,children:(0,m.jsx)("path",{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z",fill:"#9094A7"})}),tC=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:e.className,children:(0,m.jsx)("path",{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26ZM12.0006 15.968L16.2473 18.3451L15.2988 13.5717L18.8719 10.2674L14.039 9.69434L12.0006 5.27502L9.96214 9.69434L5.12921 10.2674L8.70231 13.5717L7.75383 18.3451L12.0006 15.968Z"})}),tO=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,children:[(0,m.jsxs)("g",{clipPath:"url(#bg)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#b)",children:(0,m.jsx)("path",{d:"M18 10.5v1.667h-7.5V10.5H18Zm3.333 13.333V25.5H10.5v-1.667h10.833Zm5-6.666v1.666H10.5v-1.666h15.833Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("rect",{width:"36",height:"36",rx:"4"})}),(0,m.jsx)("clipPath",{id:"b",children:(0,m.jsx)("path",{d:"M8 8h20v20H8z"})})]})]}),tw=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...e,children:(0,m.jsx)("path",{d:"M4.5 3.69531H20.5C21.0523 3.69531 21.5 4.14303 21.5 4.69531V20.6953C21.5 21.2476 21.0523 21.6953 20.5 21.6953H4.5C3.94772 21.6953 3.5 21.2476 3.5 20.6953V4.69531C3.5 4.14303 3.94772 3.69531 4.5 3.69531Z",fill:"white"})}),tq=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,...e,children:[(0,m.jsxs)("g",{clipPath:"url(#bg)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#b)",children:(0,m.jsx)("path",{d:"M16.295 9.842a8.324 8.324 0 0 1 3.409-.002c.148.966.717 1.86 1.629 2.386.912.527 1.97.573 2.88.218a8.325 8.325 0 0 1 1.703 2.953A3.327 3.327 0 0 0 24.666 18c0 1.054.489 1.993 1.252 2.604a8.37 8.37 0 0 1-1.705 2.952 3.328 3.328 0 0 0-2.88.218 3.328 3.328 0 0 0-1.629 2.384 8.325 8.325 0 0 1-3.409.002 3.327 3.327 0 0 0-1.629-2.386 3.327 3.327 0 0 0-2.88-.218 8.326 8.326 0 0 1-1.703-2.953 3.327 3.327 0 0 0 1.25-2.603 3.327 3.327 0 0 0-1.251-2.603 8.365 8.365 0 0 1 1.704-2.952c.91.355 1.968.308 2.88-.218a3.327 3.327 0 0 0 1.629-2.384ZM18 20.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"a",children:(0,m.jsx)("rect",{width:"36",height:"36",rx:"4"})}),(0,m.jsx)("clipPath",{id:"b",children:(0,m.jsx)("path",{d:"M8 8h20v20H8z"})})]})]}),tM=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",className:e.className,children:(0,m.jsx)("path",{d:"M14 10V14H10V10H14ZM16 10H21V14H16V10ZM14 21H10V16H14V21ZM16 21V16H21V20C21 20.5523 20.5523 21 20 21H16ZM14 3V8H10V3H14ZM16 3H20C20.5523 3 21 3.44772 21 4V8H16V3ZM8 10V14H3V10H8ZM8 21H4C3.44772 21 3 20.5523 3 20V16H8V21ZM8 3V8H3V4C3 3.44772 3.44772 3 4 3H8Z"})}),tL=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",className:e.className,children:(0,m.jsx)("path",{d:"M3 19H21V21H3V19ZM13 5.82843V17H11V5.82843L4.92893 11.8995L3.51472 10.4853L12 2L20.4853 10.4853L19.0711 11.8995L13 5.82843Z"})}),tD=()=>(0,m.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M7.00016 13.6668C3.31816 13.6668 0.333496 10.6822 0.333496 7.00016C0.333496 3.31816 3.31816 0.333496 7.00016 0.333496C10.6822 0.333496 13.6668 3.31816 13.6668 7.00016C13.6668 10.6822 10.6822 13.6668 7.00016 13.6668ZM6.3335 9.00016V10.3335H7.66683V9.00016H6.3335ZM6.3335 3.66683V7.66683H7.66683V3.66683H6.3335Z",fill:"#1E1E1E"})}),tR=()=>(0,m.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M4.99999 4.05732L8.29999 0.757324L9.24266 1.69999L5.94266 4.99999L9.24266 8.29999L8.29999 9.24266L4.99999 5.94266L1.69999 9.24266L0.757324 8.29999L4.05732 4.99999L0.757324 1.69999L1.69999 0.757324L4.99999 4.05732Z",fill:"black"})}),tP=()=>(0,m.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("rect",{width:"36",height:"36",rx:"4",fill:"#14AE5C"}),(0,m.jsx)("path",{d:"M17.9999 22.695L12.7102 25.656L13.8914 19.71L9.44019 15.594L15.4604 14.88L17.9999 9.375L20.5394 14.88L26.5597 15.594L22.1084 19.71L23.2897 25.656L17.9999 22.695Z",fill:"white"}),(0,m.jsx)("path",{d:"M6.99982 24.1088L4.35134 25.5913L4.94277 22.6142L2.71411 20.5534L5.72834 20.1959L6.99982 17.4397L8.2713 20.1959L11.2855 20.5534L9.05687 22.6142L9.6483 25.5913L6.99982 24.1088Z",fill:"white"}),(0,m.jsx)("path",{d:"M28.8773 24.1088L26.2288 25.5913L26.8202 22.6142L24.5916 20.5534L27.6058 20.1959L28.8773 17.4397L30.1487 20.1959L33.163 20.5534L30.9343 22.6142L31.5257 25.5913L28.8773 24.1088Z",fill:"white"})]}),tk=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,...e,children:[(0,m.jsxs)("g",{clipPath:"url(#bg)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#icon)",transform:"translate(6, 6)",children:(0,m.jsx)("path",{d:"M21 8V20.993C21.0009 21.1243 20.976 21.2545 20.9266 21.3762C20.8772 21.4979 20.8043 21.6087 20.7121 21.7022C20.6199 21.7957 20.5101 21.8701 20.3892 21.9212C20.2682 21.9723 20.1383 21.9991 20.007 22H3.993C3.72981 22 3.47739 21.8955 3.2912 21.7095C3.105 21.5235 3.00027 21.2712 3 21.008V2.992C3 2.455 3.449 2 4.002 2H14.997L21 8ZM19 9H14V4H5V20H19V9ZM8 7H11V9H8V7ZM8 11H16V13H8V11ZM8 15H16V17H8V15Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"bg",children:(0,m.jsx)("rect",{width:"36",height:"36"})}),(0,m.jsx)("clipPath",{id:"icon",children:(0,m.jsx)("rect",{width:"24",height:"24"})})]})]}),tU=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,...e,children:[(0,m.jsxs)("g",{clipPath:"url(#bg_translation)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#icon_translation)",transform:"translate(6, 6)",children:(0,m.jsx)("path",{d:"M17.5 10L21.9 21H19.745L18.544 18H14.454L13.255 21H11.101L15.5 10H17.5ZM9 2V4H15V6L13.0322 6.0006C12.2425 8.36616 10.9988 10.5057 9.4115 12.301C10.1344 12.9457 10.917 13.5176 11.7475 14.0079L10.9969 15.8855C9.9237 15.2781 8.91944 14.5524 7.99961 13.7249C6.21403 15.332 4.10914 16.5553 1.79891 17.2734L1.26257 15.3442C3.2385 14.7203 5.04543 13.6737 6.59042 12.3021C5.46277 11.0281 4.50873 9.57985 3.76742 8.00028L6.00684 8.00037C6.57018 9.03885 7.23979 10.0033 7.99967 10.877C9.2283 9.46508 10.2205 7.81616 10.9095 6.00101L1 6V4H7V2H9ZM16.5 12.8852L15.253 16H17.745L16.5 12.8852Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"bg_translation",children:(0,m.jsx)("rect",{width:"36",height:"36"})}),(0,m.jsx)("clipPath",{id:"icon_translation",children:(0,m.jsx)("rect",{width:"24",height:"24"})})]})]}),tH=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,...e,children:[(0,m.jsxs)("g",{clipPath:"url(#bg_presentation)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#icon_presentation)",transform:"translate(6, 6)",children:(0,m.jsx)("path",{d:"M18.2277 17.7321L19.9955 15.9644L21.7632 17.7321C22.7395 18.7084 22.7395 20.2914 21.7632 21.2677C20.7869 22.244 19.204 22.244 18.2277 21.2677C17.2514 20.2914 17.2514 18.7084 18.2277 17.7321ZM7.87861 0.0795898L19.1923 11.3933C19.5828 11.7838 19.5828 12.417 19.1923 12.8075L10.707 21.2928C10.3165 21.6833 9.6833 21.6833 9.2928 21.2928L0.807538 12.8075C0.417018 12.417 0.417018 11.7838 0.807538 11.3933L8.58572 3.61512L6.4644 1.4938L7.87861 0.0795898ZM9.9999 5.02934L2.92886 12.1004H17.071L9.9999 5.02934Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"bg_presentation",children:(0,m.jsx)("rect",{width:"36",height:"36"})}),(0,m.jsx)("clipPath",{id:"icon_presentation",children:(0,m.jsx)("rect",{width:"24",height:"24"})})]})]}),tG=e=>(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"none",className:e.className,...e,children:[(0,m.jsxs)("g",{clipPath:"url(#bg_permissions)",children:[(0,m.jsx)("rect",{width:"36",height:"36",fill:e.bgcolor,rx:"4"}),(0,m.jsx)("g",{clipPath:"url(#icon_permissions)",transform:"translate(6, 6)",children:(0,m.jsx)("path",{d:"M2 22C2 17.5817 5.58172 14 10 14C14.4183 14 18 17.5817 18 22H16C16 18.6863 13.3137 16 10 16C6.68629 16 4 18.6863 4 22H2ZM10 13C6.685 13 4 10.315 4 7C4 3.685 6.685 1 10 1C13.315 1 16 3.685 16 7C16 10.315 13.315 13 10 13ZM10 11C12.21 11 14 9.21 14 7C14 4.79 12.21 3 10 3C7.79 3 6 4.79 6 7C6 9.21 7.79 11 10 11ZM18.2837 14.7028C21.0644 15.9561 23 18.752 23 22H21C21 19.564 19.5483 17.4671 17.4628 16.5271L18.2837 14.7028ZM17.5962 3.41321C19.5944 4.23703 21 6.20361 21 8.5C21 11.3702 18.8042 13.7252 16 13.9776V11.9646C17.6967 11.7222 19 10.264 19 8.5C19 7.11935 18.2016 5.92603 17.041 5.35635L17.5962 3.41321Z"})})]}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"bg_permissions",children:(0,m.jsx)("rect",{width:"36",height:"36"})}),(0,m.jsx)("clipPath",{id:"icon_permissions",children:(0,m.jsx)("rect",{width:"24",height:"24"})})]})]}),tV=e=>{let{width:i=16,height:a=16,stroke:s="#6c757d",strokeWidth:l=2,className:n=""}=e;return(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:a,fill:"none",stroke:s,strokeWidth:l,strokeLinecap:"round",viewBox:"0 0 16 16",className:n,children:(0,m.jsx)("path",{d:"M3 3h3M3 3v3M13 3h-3M13 3v3M3 13h3M3 13v-3M13 13h-3M13 13v-3"})})},tY=e=>{let{width:i=16,height:a=16,color:s="#6c757d",strokeWidth:l=2,className:n=""}=e;return(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:a,viewBox:"0 0 16 16",fill:"none",stroke:s,strokeWidth:l,strokeLinecap:"round",className:n,children:[(0,m.jsx)("circle",{cx:"8",cy:"8",r:"7"}),(0,m.jsx)("line",{x1:"5",y1:"5",x2:"11",y2:"11"}),(0,m.jsx)("line",{x1:"11",y1:"5",x2:"5",y2:"11"})]})},tQ=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",fill:"none",className:e.className,...e,children:(0,m.jsx)("path",{d:"M3.33333 2.66667H4.66667V2.16667C4.66667 1.52233 5.189 1 5.83333 1C6.47767 1 7 1.52233 7 2.16667C7 2.811 6.47767 3.33333 5.83333 3.33333H5.33333V4.66667H5.83333C6.47767 4.66667 7 5.189 7 5.83333C7 6.47767 6.47767 7 5.83333 7C5.189 7 4.66667 6.47767 4.66667 5.83333V5.33333H3.33333V5.83333C3.33333 6.47767 2.811 7 2.16667 7C1.52233 7 1 6.47767 1 5.83333C1 5.189 1.52233 4.66667 2.16667 4.66667H2.66667V3.33333H2.16667C1.52233 3.33333 1 2.811 1 2.16667C1 1.52233 1.52233 1 2.16667 1C2.811 1 3.33333 1.52233 3.33333 2.16667V2.66667ZM2.66667 2.66667V2.16667C2.66667 1.89052 2.44281 1.66667 2.16667 1.66667C1.89052 1.66667 1.66667 1.89052 1.66667 2.16667C1.66667 2.44281 1.89052 2.66667 2.16667 2.66667H2.66667ZM2.66667 5.33333H2.16667C1.89052 5.33333 1.66667 5.5572 1.66667 5.83333C1.66667 6.10947 1.89052 6.33333 2.16667 6.33333C2.44281 6.33333 2.66667 6.10947 2.66667 5.83333V5.33333ZM5.33333 2.66667H5.83333C6.10947 2.66667 6.33333 2.44281 6.33333 2.16667C6.33333 1.89052 6.10947 1.66667 5.83333 1.66667C5.5572 1.66667 5.33333 1.89052 5.33333 2.16667V2.66667ZM5.33333 5.33333V5.83333C5.33333 6.10947 5.5572 6.33333 5.83333 6.33333C6.10947 6.33333 6.33333 6.10947 6.33333 5.83333C6.33333 5.5572 6.10947 5.33333 5.83333 5.33333H5.33333ZM3.33333 3.33333V4.66667H4.66667V3.33333H3.33333Z",fill:"white"})}),tB=()=>(0,m.jsx)("svg",{height:"20",width:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",fill:"#6e748c",children:(0,m.jsx)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})}),tF=e=>(0,m.jsx)("svg",{width:"2",height:"26",viewBox:"0 0 2 26",fill:"none",...e,children:(0,m.jsx)("path",{d:"M1 1L0.999999 25",stroke:"#DDDEE8",strokeLinecap:"round"})}),tz=e=>{let i=e.width||20,a=e.height||20,s=e.viewBox||`0 0 ${i} ${a}`;return(0,m.jsx)("svg",{width:i,height:a,viewBox:s,className:e.className,xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20ZM7.71002 17.6674C6.74743 15.6259 6.15732 13.3742 6.02731 11H2.06189C2.458 14.1765 4.71639 16.7747 7.71002 17.6674ZM8.0307 11C8.1811 13.4388 8.8778 15.7297 10 17.752C11.1222 15.7297 11.8189 13.4388 11.9693 11H8.0307ZM17.9381 11H13.9727C13.8427 13.3742 13.2526 15.6259 12.29 17.6674C15.2836 16.7747 17.542 14.1765 17.9381 11ZM2.06189 9H6.02731C6.15732 6.62577 6.74743 4.37407 7.71002 2.33256C4.71639 3.22533 2.458 5.8235 2.06189 9ZM8.0307 9H11.9693C11.8189 6.56122 11.1222 4.27025 10 2.24799C8.8778 4.27025 8.1811 6.56122 8.0307 9ZM12.29 2.33256C13.2526 4.37407 13.8427 6.62577 13.9727 9H17.9381C17.542 5.8235 15.2836 3.22533 12.29 2.33256Z"})})},t$=e=>{let i=e.width||18,a=e.height||21,s=e.viewBox||`0 0 ${i} ${a}`;return(0,m.jsx)("svg",{width:i,height:a,viewBox:s,fill:e.fill,className:e.className,xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M3 7V6C3 4.4087 3.63214 2.88258 4.75736 1.75736C5.88258 0.632141 7.4087 0 9 0C10.5913 0 12.1174 0.632141 13.2426 1.75736C14.3679 2.88258 15 4.4087 15 6V7H17C17.2652 7 17.5196 7.10536 17.7071 7.29289C17.8946 7.48043 18 7.73478 18 8V20C18 20.2652 17.8946 20.5196 17.7071 20.7071C17.5196 20.8946 17.2652 21 17 21H1C0.734784 21 0.48043 20.8946 0.292893 20.7071C0.105357 20.5196 0 20.2652 0 20V8C0 7.73478 0.105357 7.48043 0.292893 7.29289C0.48043 7.10536 0.734784 7 1 7H3ZM16 9H2V19H16V9ZM8 14.732C7.61872 14.5119 7.32072 14.1721 7.15224 13.7653C6.98376 13.3586 6.9542 12.9076 7.06815 12.4823C7.1821 12.057 7.43319 11.6813 7.78248 11.4132C8.13177 11.1452 8.55973 10.9999 9 10.9999C9.44027 10.9999 9.86823 11.1452 10.2175 11.4132C10.5668 11.6813 10.8179 12.057 10.9319 12.4823C11.0458 12.9076 11.0162 13.3586 10.8478 13.7653C10.6793 14.1721 10.3813 14.5119 10 14.732V17H8V14.732ZM5 7H13V6C13 4.93913 12.5786 3.92172 11.8284 3.17157C11.0783 2.42143 10.0609 2 9 2C7.93913 2 6.92172 2.42143 6.17157 3.17157C5.42143 3.92172 5 4.93913 5 6V7Z"})})},tW=()=>(0,m.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_10966_5517)",children:(0,m.jsx)("path",{d:"M9.99984 18.3327C5.39734 18.3327 1.6665 14.6018 1.6665 9.99935C1.6665 5.39685 5.39734 1.66602 9.99984 1.66602C14.6023 1.66602 18.3332 5.39685 18.3332 9.99935C18.3332 14.6018 14.6023 18.3327 9.99984 18.3327ZM9.99984 16.666C11.7679 16.666 13.4636 15.9636 14.7139 14.7134C15.9641 13.4632 16.6665 11.7675 16.6665 9.99935C16.6665 8.23124 15.9641 6.53555 14.7139 5.2853C13.4636 4.03506 11.7679 3.33268 9.99984 3.33268C8.23173 3.33268 6.53604 4.03506 5.28579 5.2853C4.03555 6.53555 3.33317 8.23124 3.33317 9.99935C3.33317 11.7675 4.03555 13.4632 5.28579 14.7134C6.53604 15.9636 8.23173 16.666 9.99984 16.666ZM9.99984 8.82102L12.3565 6.46352L13.5357 7.64268L11.1782 9.99935L13.5357 12.356L12.3565 13.5352L9.99984 11.1777L7.64317 13.5352L6.464 12.356L8.8215 9.99935L6.464 7.64268L7.64317 6.46352L9.99984 8.82102Z",fill:"#6E748C"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_10966_5517",children:(0,m.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]}),tZ=()=>(0,m.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_10987_18957)",children:(0,m.jsx)("path",{d:"M11 5H5V19H11V5ZM13 5V19H19V5H13ZM4 3H20C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21H4C3.73478 21 3.48043 20.8946 3.29289 20.7071C3.10536 20.5196 3 20.2652 3 20V4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3Z",fill:"#1E1E1E"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_10987_18957",children:(0,m.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}),tK=()=>(0,m.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_11235_19637)",children:(0,m.jsx)("path",{d:"M8.78145 8.00048L5.48145 4.70048L6.42411 3.75781L10.6668 8.00048L6.42411 12.2431L5.48145 11.3005L8.78145 8.00048Z",fill:"#6E748C"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_11235_19637",children:(0,m.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),tX=()=>(0,m.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M12.7762 7.99941L8.63813 3.86133L7.69533 4.80413L10.8906 7.99941L7.69533 11.1947L8.63813 12.1375L12.7762 7.99941ZM9.0096 7.99941L4.87152 3.86133L3.92871 4.80413L7.124 7.99941L3.92871 11.1947L4.87152 12.1375L9.0096 7.99941Z",fill:"#6E748C"})}),tJ=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"20",height:"20",className:e.className,children:(0,m.jsx)("path",{d:"M7.50033 0.833496V2.50016H12.5003V0.833496H14.167V2.50016H17.5003C17.9606 2.50016 18.3337 2.87326 18.3337 3.3335V16.6668C18.3337 17.1271 17.9606 17.5002 17.5003 17.5002H2.50033C2.04009 17.5002 1.66699 17.1271 1.66699 16.6668V3.3335C1.66699 2.87326 2.04009 2.50016 2.50033 2.50016H5.83366V0.833496H7.50033ZM16.667 9.16683H3.33366V15.8335H16.667V9.16683ZM5.83366 4.16683H3.33366V7.50016H16.667V4.16683H14.167V5.8335H12.5003V4.16683H7.50033V5.8335H5.83366V4.16683Z"})}),t0=()=>(0,m.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_8942_9589)",children:(0,m.jsx)("path",{d:"M8.57902 1.99932L14.9297 12.9993C14.9882 13.1007 15.019 13.2156 15.019 13.3326C15.019 13.4497 14.9882 13.5646 14.9297 13.666C14.8712 13.7673 14.787 13.8515 14.6857 13.91C14.5843 13.9685 14.4694 13.9993 14.3524 13.9993H1.65102C1.534 13.9993 1.41904 13.9685 1.3177 13.91C1.21635 13.8515 1.1322 13.7673 1.07369 13.666C1.01518 13.5646 0.984374 13.4497 0.984375 13.3326C0.984376 13.2156 1.01518 13.1007 1.07369 12.9993L7.42436 1.99932C7.48287 1.89798 7.56703 1.81383 7.66837 1.75532C7.76972 1.69682 7.88467 1.66602 8.00169 1.66602C8.11871 1.66602 8.23367 1.69682 8.33501 1.75532C8.43635 1.81383 8.52051 1.89798 8.57902 1.99932ZM7.33502 10.666V11.9993H8.66836V10.666H7.33502ZM7.33502 5.99932V9.33265H8.66836V5.99932H7.33502Z",fill:"#1E1E1E"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_8942_9589",children:(0,m.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),t1=()=>(0,m.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_8943_14743)",children:(0,m.jsx)("path",{d:"M13.9987 25.6673C7.5552 25.6673 2.33203 20.4442 2.33203 14.0007C2.33203 7.55715 7.5552 2.33398 13.9987 2.33398C20.4422 2.33398 25.6654 7.55715 25.6654 14.0007C25.6654 20.4442 20.4422 25.6673 13.9987 25.6673ZM12.832 12.834V19.834H15.1654V12.834H12.832ZM12.832 8.16732V10.5007H15.1654V8.16732H12.832Z",fill:"#1E1E1E"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_8943_14743",children:(0,m.jsx)("rect",{width:"28",height:"28",fill:"white"})})})]}),t2=e=>{let{size:i=32}=e;return(0,m.jsxs)("svg",{width:i,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("rect",{x:"0.665",y:"0.665",width:"30.67",height:"30.67",rx:"15.335",fill:"white",stroke:"#1E1E1E",strokeWidth:"1.33"}),(0,m.jsx)("circle",{cx:"16",cy:"16",r:"8.335",fill:"#333641",stroke:"#1E1E1E",strokeWidth:"1.33"})]})},t3=e=>{let{size:i=32}=e;return(0,m.jsx)("svg",{width:i,height:i,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("rect",{x:"0.665",y:"0.665",width:"30.67",height:"30.67",rx:"15.335",fill:"white",stroke:"#1E1E1E",strokeWidth:"1.33"})})},t6=()=>(0,m.jsxs)("svg",{width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_8771_15127)",children:(0,m.jsx)("path",{d:"M18.3493 11.2995L16.6997 9.64979L5.83333 20.5161V22.1658H7.483L18.3493 11.2995ZM19.999 9.64979L21.6487 8.00012L19.999 6.35045L18.3493 8.00012L19.999 9.64979ZM8.449 24.4991H3.5V19.549L19.1742 3.87479C19.3929 3.65607 19.6896 3.5332 19.999 3.5332C20.3084 3.5332 20.6051 3.65607 20.8238 3.87479L24.1243 7.17529C24.343 7.39407 24.4659 7.69076 24.4659 8.00012C24.4659 8.30948 24.343 8.60617 24.1243 8.82495L8.45017 24.4991H8.449Z",fill:"#1E1E1E"})}),(0,m.jsx)("g",{clipPath:"url(#clip1_8771_15127)",children:(0,m.jsx)("path",{d:"M28 11C25.2385 11 23 8.7615 23 6C23 3.2385 25.2385 1 28 1C30.7615 1 33 3.2385 33 6C33 8.7615 30.7615 11 28 11ZM27.5015 8L31.0365 4.4645L30.3295 3.7575L27.5015 6.586L26.087 5.1715L25.38 5.8785L27.5015 8Z",fill:"#4DD753"})}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"clip0_8771_15127",children:(0,m.jsx)("rect",{width:"28",height:"28",fill:"white"})}),(0,m.jsx)("clipPath",{id:"clip1_8771_15127",children:(0,m.jsx)("rect",{width:"12",height:"12",fill:"white",transform:"translate(22)"})})]})]}),t4=()=>(0,m.jsxs)("svg",{width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M2.33203 15.1667H9.33203V24.5H2.33203V15.1667ZM18.6654 9.33333H25.6654V24.5H18.6654V9.33333ZM10.4987 3.5H17.4987V24.5H10.4987V3.5ZM4.66536 17.5V22.1667H6.9987V17.5H4.66536ZM12.832 5.83333V22.1667H15.1654V5.83333H12.832ZM20.9987 11.6667V22.1667H23.332V11.6667H20.9987Z",fill:"#1E1E1E"}),(0,m.jsx)("g",{clipPath:"url(#clip0_8771_15109)",children:(0,m.jsx)("path",{d:"M28 11C25.2385 11 23 8.7615 23 6C23 3.2385 25.2385 1 28 1C30.7615 1 33 3.2385 33 6C33 8.7615 30.7615 11 28 11ZM27.5015 8L31.0365 4.4645L30.3295 3.7575L27.5015 6.586L26.087 5.1715L25.38 5.8785L27.5015 8Z",fill:"#4DD753"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_8771_15109",children:(0,m.jsx)("rect",{width:"12",height:"12",fill:"white",transform:"translate(22)"})})})]}),t5=()=>(0,m.jsxs)("svg",{width:"33",height:"28",viewBox:"0 0 33 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_8771_15104)",children:(0,m.jsx)("path",{d:"M18.3493 11.2995L16.6997 9.64979L5.83333 20.5161V22.1658H7.483L18.3493 11.2995ZM19.999 9.64979L21.6487 8.00012L19.999 6.35045L18.3493 8.00012L19.999 9.64979ZM8.449 24.4991H3.5V19.549L19.1742 3.87479C19.3929 3.65607 19.6896 3.5332 19.999 3.5332C20.3084 3.5332 20.6051 3.65607 20.8238 3.87479L24.1243 7.17529C24.343 7.39407 24.4659 7.69076 24.4659 8.00012C24.4659 8.30948 24.343 8.60617 24.1243 8.82495L8.45017 24.4991H8.449Z",fill:"#1E1E1E"})}),(0,m.jsx)("g",{clipPath:"url(#clip1_8771_15104)",children:(0,m.jsx)("path",{d:"M27 11C24.2385 11 22 8.7615 22 6C22 3.2385 24.2385 1 27 1C29.7615 1 32 3.2385 32 6C32 8.7615 29.7615 11 27 11ZM27 5.293L25.586 3.8785L24.8785 4.586L26.293 6L24.8785 7.414L25.586 8.1215L27 6.707L28.414 8.1215L29.1215 7.414L27.707 6L29.1215 4.586L28.414 3.8785L27 5.293Z",fill:"#FF515F"})}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("clipPath",{id:"clip0_8771_15104",children:(0,m.jsx)("rect",{width:"28",height:"28",fill:"white"})}),(0,m.jsx)("clipPath",{id:"clip1_8771_15104",children:(0,m.jsx)("rect",{width:"12",height:"12",fill:"white",transform:"translate(21)"})})]})]}),t7=()=>(0,m.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M20.8635 22.5121C18.8786 23.7706 16.5248 24.4994 14.0007 24.4994C7.7098 24.4994 2.47617 19.973 1.37891 13.9994C1.88837 11.2258 3.28953 8.76424 5.27421 6.92286L1.62626 3.27492L3.27619 1.625L26.375 24.7238L24.7251 26.3738L20.8635 22.5121ZM6.92519 8.57384C5.37484 9.98603 4.24443 11.8609 3.76024 13.9994C4.83058 18.7266 9.05903 22.1661 14.0007 22.1661C15.8666 22.1661 17.631 21.6756 19.162 20.8107L16.7957 18.4443C15.9863 18.9543 15.0279 19.2494 14.0007 19.2494C11.1011 19.2494 8.75063 16.8988 8.75063 13.9994C8.75063 12.9721 9.04569 12.0136 9.55569 11.2043L6.92519 8.57384ZM15.0665 16.7152L11.2849 12.9336C11.1552 13.2637 11.084 13.6232 11.084 13.9994C11.084 15.6102 12.3899 16.9161 14.0007 16.9161C14.3768 16.9161 14.7364 16.8448 15.0665 16.7152ZM24.2749 19.3571L22.6057 17.6878C23.3709 16.5971 23.935 15.3509 24.241 13.9994C23.1707 9.27207 18.9422 5.83271 14.0007 5.83271C13.0138 5.83271 12.0554 5.96988 11.1449 6.22707L9.30386 4.38603C10.7585 3.81371 12.3428 3.49938 14.0007 3.49938C20.2915 3.49938 25.5251 8.02577 26.6224 13.9994C26.2581 15.9823 25.4381 17.8058 24.2749 19.3571ZM13.677 8.75919C13.784 8.75268 13.8919 8.74938 14.0007 8.74938C16.9001 8.74938 19.2507 11.0999 19.2507 13.9994C19.2507 14.108 19.2473 14.216 19.2409 14.3229L13.677 8.75919Z",fill:"#1E1E1E"})}),t9=()=>(0,m.jsxs)("svg",{width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M2.33203 15.1667H9.33203V24.5H2.33203V15.1667ZM18.6654 9.33333H25.6654V24.5H18.6654V9.33333ZM10.4987 3.5H17.4987V24.5H10.4987V3.5ZM4.66536 17.5V22.1667H6.9987V17.5H4.66536ZM12.832 5.83333V22.1667H15.1654V5.83333H12.832ZM20.9987 11.6667V22.1667H23.332V11.6667H20.9987Z",fill:"#1E1E1E"}),(0,m.jsx)("g",{clipPath:"url(#clip0_8771_15132)",children:(0,m.jsx)("path",{d:"M28 11C25.2385 11 23 8.7615 23 6C23 3.2385 25.2385 1 28 1C30.7615 1 33 3.2385 33 6C33 8.7615 30.7615 11 28 11ZM28 5.293L26.586 3.8785L25.8785 4.586L27.293 6L25.8785 7.414L26.586 8.1215L28 6.707L29.414 8.1215L30.1215 7.414L28.707 6L30.1215 4.586L29.414 3.8785L28 5.293Z",fill:"#FF515F"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_8771_15132",children:(0,m.jsx)("rect",{width:"12",height:"12",fill:"white",transform:"translate(22)"})})})]}),t8=e=>{let{width:i="28",height:a="28"}=e;return(0,m.jsx)("svg",{width:i,height:a,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M2.33203 14.0007C2.33203 20.4439 7.55537 25.6673 13.9987 25.6673C20.442 25.6673 25.6654 20.4439 25.6654 14.0007C25.6654 7.55733 20.442 2.33398 13.9987 2.33398V4.66732C19.1534 4.66732 23.332 8.84599 23.332 14.0007C23.332 19.1553 19.1534 23.334 13.9987 23.334C8.84404 23.334 4.66536 19.1553 4.66536 14.0007C4.66536 10.7926 6.28393 7.96253 8.74898 6.28258L8.7487 9.33398H11.082V2.33398H4.08203V4.66732L6.99774 4.66719C4.16457 6.79571 2.33203 10.1842 2.33203 14.0007Z",fill:"#1E1E1E"})})},ie=()=>(0,m.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M15.1667 14.0007H18.6667L14 18.6673L9.33333 14.0007H12.8333V9.33398H15.1667V14.0007ZM17.5 4.66732H5.83333V23.334H22.1667V9.33398H17.5V4.66732ZM3.5 3.49108C3.5 2.85204 4.02207 2.33398 4.66492 2.33398H18.6667L24.4996 8.16732L24.5 24.4919C24.5 25.141 23.9809 25.6673 23.341 25.6673H4.65897C4.01889 25.6673 3.5 25.1361 3.5 24.5102V3.49108Z",fill:"black"})}),it=()=>(0,m.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M7 5.83333C6.35567 5.83333 5.83333 6.35567 5.83333 7C5.83333 7.64433 6.35567 8.16667 7 8.16667C7.64433 8.16667 8.16667 7.64433 8.16667 7C8.16667 6.35567 7.64433 5.83333 7 5.83333ZM3.5 7C3.5 5.06701 5.06701 3.5 7 3.5C8.93299 3.5 10.5 5.06701 10.5 7C10.5 8.52392 9.52605 9.82037 8.16667 10.3008V10.5C8.16667 11.7887 9.21133 12.8333 10.5 12.8333H17.5C18.7887 12.8333 19.8333 11.7887 19.8333 10.5V10.3008C18.4739 9.82037 17.5 8.52392 17.5 7C17.5 5.06701 19.0669 3.5 21 3.5C22.9331 3.5 24.5 5.06701 24.5 7C24.5 8.52392 23.5261 9.82037 22.1667 10.3008V10.5C22.1667 13.0773 20.0773 15.1667 17.5 15.1667H15.1667V17.6991C16.5261 18.1796 17.5 19.4761 17.5 21C17.5 22.9331 15.933 24.5 14 24.5C12.0669 24.5 10.5 22.9331 10.5 21C10.5 19.4761 11.4739 18.1796 12.8333 17.6991V15.1667H10.5C7.92267 15.1667 5.83333 13.0773 5.83333 10.5V10.3008C4.47394 9.82037 3.5 8.52392 3.5 7ZM21 5.83333C20.3556 5.83333 19.8333 6.35567 19.8333 7C19.8333 7.64433 20.3556 8.16667 21 8.16667C21.6444 8.16667 22.1667 7.64433 22.1667 7C22.1667 6.35567 21.6444 5.83333 21 5.83333ZM14 19.8333C13.3556 19.8333 12.8333 20.3556 12.8333 21C12.8333 21.6444 13.3556 22.1667 14 22.1667C14.6444 22.1667 15.1667 21.6444 15.1667 21C15.1667 20.3556 14.6444 19.8333 14 19.8333Z",fill:"#1E1E1E"})}),ii=()=>(0,m.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M4.66536 9.33333H23.332V5.83333H4.66536V9.33333ZM16.332 22.1667V11.6667H11.6654V22.1667H16.332ZM18.6654 22.1667H23.332V11.6667H18.6654V22.1667ZM9.33203 22.1667V11.6667H4.66536V22.1667H9.33203ZM3.4987 3.5H24.4987C25.143 3.5 25.6654 4.02234 25.6654 4.66667V23.3333C25.6654 23.9777 25.143 24.5 24.4987 24.5H3.4987C2.85437 24.5 2.33203 23.9777 2.33203 23.3333V4.66667C2.33203 4.02234 2.85437 3.5 3.4987 3.5Z",fill:"#1E1E1E"})}),ia=()=>(0,m.jsxs)("svg",{width:"24",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_8771_15406)",children:(0,m.jsx)("path",{d:"M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM12 20C14.1217 20 16.1566 19.1571 17.6569 17.6569C19.1571 16.1566 20 14.1217 20 12C20 9.87827 19.1571 7.84344 17.6569 6.34315C16.1566 4.84285 14.1217 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20ZM11 15H13V17H11V15ZM13 13.355V14H11V12.5C11 12.2348 11.1054 11.9804 11.2929 11.7929C11.4804 11.6054 11.7348 11.5 12 11.5C12.2841 11.5 12.5623 11.4193 12.8023 11.2673C13.0423 11.1154 13.2343 10.8984 13.3558 10.6416C13.4773 10.3848 13.5234 10.0988 13.4887 9.81684C13.454 9.53489 13.34 9.26858 13.1598 9.04891C12.9797 8.82924 12.7409 8.66523 12.4712 8.57597C12.2015 8.48671 11.912 8.47587 11.6364 8.54471C11.3608 8.61354 11.1104 8.75923 10.9144 8.96482C10.7183 9.1704 10.5847 9.42743 10.529 9.706L8.567 9.313C8.68863 8.70508 8.96951 8.14037 9.38092 7.67659C9.79233 7.2128 10.3195 6.86658 10.9086 6.67332C11.4977 6.48006 12.1275 6.44669 12.7337 6.57661C13.3399 6.70654 13.9007 6.99511 14.3588 7.41282C14.8169 7.83054 15.1559 8.36241 15.3411 8.95406C15.5263 9.54572 15.5511 10.1759 15.4129 10.7803C15.2747 11.3847 14.9785 11.9415 14.5545 12.3939C14.1306 12.8462 13.5941 13.1779 13 13.355Z",fill:"#8146F6"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_8771_15406",children:(0,m.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}),is=()=>(0,m.jsxs)("svg",{width:"28",height:"36",viewBox:"0 0 28 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("path",{d:"M0 8C0 4.22876 0 2.34315 1.17157 1.17157C2.34315 0 4.22876 0 8 0H28V36H8C4.22876 36 2.34315 36 1.17157 34.8284C0 33.6569 0 31.7712 0 28V8Z",fill:"#6E748C"}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6667 20.3333H17.3333V22.6667H15.7778V18.7778H19.6667V20.3333ZM14.2222 17.2222H10.3333V15.6667H12.6667V13.3333H14.2222V17.2222ZM19.6667 11H10.3333C9.04456 11 8 12.0446 8 13.3333V22.6667C8 23.9554 9.04456 25 10.3333 25H19.6667C20.9554 25 22 23.9554 22 22.6667V13.3333C22 12.0446 20.9554 11 19.6667 11Z",fill:"white"})]}),il=()=>(0,m.jsxs)("svg",{width:"28",height:"36",viewBox:"0 0 28 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_9232_16467)",children:(0,m.jsx)("path",{d:"M0 8C0 4.22876 0 2.34315 1.17157 1.17157C2.34315 0 4.22876 0 8 0H28V36H8C4.22876 36 2.34315 36 1.17157 34.8284C0 33.6569 0 31.7712 0 28V8Z",fill:"#6E748C"})}),(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6667 22.6667H14.7778V21.1111H17.1111V18.7778H18.6667V22.6667ZM13.2222 14.8889H10.8889V17.2222H9.33333V13.3333H13.2222V14.8889ZM18.6667 11H9.33333C8.04456 11 7 12.0446 7 13.3333V22.6667C7 23.9554 8.04456 25 9.33333 25H18.6667C19.9554 25 21 23.9554 21 22.6667V13.3333C21 12.0446 19.9554 11 18.6667 11Z",fill:"white"}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_9232_16467",children:(0,m.jsx)("path",{d:"M0 8C0 4.22876 0 2.34315 1.17157 1.17157C2.34315 0 4.22876 0 8 0H28V36H8C4.22876 36 2.34315 36 1.17157 34.8284C0 33.6569 0 31.7712 0 28V8Z",fill:"white"})})})]});var ir=a(93013),io=a(13365),id=a.n(io),iu=a(56920),ic=a.n(iu),im=a(9092);let ip=ic()(id()),ih=e=>{let{title:i=t("Are you sure?"),text:a=t("You won't be able to revert this!"),showCancelButton:s=!0,confirmButtonText:l=t("Yes, delete it"),icon:n="",html:r="",width:o=400,confirmButtonClass:d="",containerClass:u="",showCloseButton:c=!0,closeButtonClass:p=""}=e;return ip.fire({showCloseButton:c,closeButtonHtml:im.renderToString((0,m.jsx)(tp,{className:"text-black fill-current"})),title:i,text:a,icon:n,showCancelButton:s,confirmButtonText:l,html:r,width:o,customClass:{confirmButton:`${d}`,container:`${u}`,closeButton:`${p}`}})},ig=e=>{let{title:i="",icon:a,html:s="",showCloseButton:l,showCancelButton:n,showConfirmButton:r,confirmButtonClass:o="",focusConfirm:d,confirmButtonText:u,confirmButtonAriaLabel:c,cancelButtonText:m,cancelButtonAriaLabel:p,containerClass:h,closeButtonClass:g,popupClass:v,width:x,preConfirm:I=()=>{}}=e;return ip.fire({title:i,icon:a,html:s,showCloseButton:l,showCancelButton:n,focusConfirm:d,confirmButtonText:u,confirmButtonAriaLabel:c,cancelButtonText:m,cancelButtonAriaLabel:p,showConfirmButton:r,customClass:{confirmButton:`${o}`,closeButton:`${g}`,container:`${h}`,popup:`${v}`},width:x,preConfirm:I})},iv=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom-right";return ix({message:e,position:i,leftIcon:(0,m.jsx)(tD,{}),rightIcon:(0,m.jsx)(tR,{}),duration:5e4})},ix=e=>{let{message:i,position:a="bottom-right",className:s="error-toast",leftIcon:l="",rightIcon:n=(0,m.jsx)(tR,{}),onRightIconClick:r=()=>{},onLeftIconClick:o=()=>{},duration:d=5e3,id:u}=e;ir.Ay.custom(e=>(0,m.jsxs)("div",{className:`${s} ${e.visible?"animate-enter":"animate-leave"}`,children:[(0,m.jsxs)("div",{onClick:o,children:[" ",l]}),(0,m.jsx)("div",{children:i}),(0,m.jsx)("div",{className:"mouse-pointer",onClick:()=>{r(),ir.Ay.remove(e.id)},children:n})]}),{position:a,duration:d,id:u||`${i}-${Date.now()}`})},iI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6;return e=Math.ceil(e),Math.floor(Math.random()*((i=Math.ceil(i))-e+1))+e};var i_=a(73243);let iT=(e,i)=>{let a=(0,i_.cloneDeep)(e),s=a.splice(i,1);return[a,s]};a(45336),a(23446);let iN=e=>{let i=(0,i_.cloneDeep)(e),a=`temp__${iI()}`;for(let[e,s]of(i.gid=a,i.tempId=a,Object.entries(i.l10ns??{})))i.l10ns[e]={groupName:s.groupName,description:s.description};return i.questions=i.questions.map(e=>(e.gid=a,ib(e,!1))),i},ib=e=>{var i,a;let s=`temp__${iI()}`,l=(0,i_.cloneDeep)({...e,qid:s,tempId:s,title:`Q${iI()}`});for(let[e,i]of Object.entries(l.l10ns??{}))l.l10ns[e]={question:i.question,help:i.help};return l.answers=(null==(i=l.answers)?void 0:i.map(e=>{delete e.aid;let i=`temp__${iI()}`;for(let[i,a]of Object.entries(e.l10ns??{}))e.l10ns[i]={answer:a.answer,language:a.language};return{...e,qid:s,tempId:i,aid:i}}))||[],l.subquestions=(null==(a=l.subquestions)?void 0:a.map(e=>{let i=`temp__${iI()}`;for(let[i,a]of(delete e.aid,Object.entries(e.l10ns??{})))e.l10ns[i]={question:a.question,language:a.language};return{...e,parentQid:s,tempId:i,qid:i}}))||[],l};var iE=a(11503),iy=a.n(iE);let iS=iy().object({}),iA=()=>iS.validate({}),ij=iy().object({}),iC=()=>ij.validate({}),iO=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||"string"!=typeof e)return"";if(0===i.length)return e.replace(/<\/?[^>]+>/gi,"");let a=RegExp(`<(/?(${i.join("|")}))\\s*[^>]*?>`,"gi");e=e.replace(a,(e,i)=>`<${i}>`);let s=RegExp(`<(?!/?(${i.join("|")})\\b)[^>]+>`,"gi");return e=e.replace(s,"")},iw=(e,i,a,s,l,n)=>{let r={};for(let o=0;o<e.length;o++){let d=e[o];if(l(iO(q({prop:i,language:s,l10ns:d.l10ns}))).error){let e="gid"!==a;r[d[a]]=e?{groupIndex:n,questionIndex:o}:{groupIndex:o}}}return r},iq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!0===e||"true"===e||"1"===e||"on"===e||"yes"===e||"crop"===e||"Y"===e},iM=(e,i,a)=>{let s=iL(e,i,a),l=s[a];return{reorderedQuestions:s,movedQuestion:l}},iL=(e,i,a)=>{let s=[...e],[l]=s.splice(i,1);return s.splice(a,0,l),s.map((e,i)=>(e.sortOrder=i+1,e))};var iD=a(51458),iR=a.n(iD);let iP=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},s=new(iR());return e.replace(/\{([^}]+)\}/g,(e,l)=>{let n=!1;for(let e of iO(l).split(/([+\-*/])/).map(e=>e.trim()))if(i.hasOwnProperty(e)){a[e]=i[e];let s=i[e].question.answerExample;s||(n=!0),l=l.replace(e,s||"")}if(n)return"";try{return s.eval(iO(l))}catch{return l}})};var ik=a(76784);a(34678),a(79936),a(69861);let iU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let s=(0,i_.cloneDeep)(e),l=(0,i_.cloneDeep)(a),n=(0,i_.cloneDeep)(i)||{},r=aV(n.id);return n.op===iX.delete?{bufferOperations:s.filter(e=>{var i;return(null==(i=n.props)||!i.question||n.props.question.gid!==e.id)&&n.id!==e.id}),newOperation:r?{}:n,addToBuffer:!r}:a?{bufferOperations:s,newOperation:{...l,props:(0,i_.merge)({},l.props,n.props)},addToBuffer:!1}:{bufferOperations:s,newOperation:n,addToBuffer:!0}},iH=e=>{let{children:i}=e;return(0,m.jsx)(m.Fragment,{children:i})},iG=e=>{let{extraData:i,message:a}=e},iV=e=>{let{category:i,message:a,data:s,level:l}=e};class iY{isCreateOp(e){return(null==e?void 0:e.entity)&&(null==e?void 0:e.op)===iX.create}isOperationReadyForPatch(e,i,a){if(e.op!==iX.create&&i||e.op!==iX.delete&&a)return!1;let s=aV(e.props,"gid")&&e.op!==iX.create&&e.entity===iQ.questionGroup,l=e.entity===iQ.question&&e.op===iX.create&&e.props&&aV(e.props.question,"gid"),n=e.entity===iQ.subquestion&&e.props&&aV(e.props[0],"parentQid"),r=e.entity===iQ.answer&&e.props&&aV(e.props[0],"qid");return!s&&!l&&!n&&!r&&!e.error}constructor(e=[],i=""){var a=this;(0,ik._)(this,"operations",[]),(0,ik._)(this,"bufferHash",""),(0,ik._)(this,"getOperations",function(){let{ready:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=void 0===e||!0===e,s=(0,i_.cloneDeep)(a.operations),l=s.some(e=>e.op===iX.create),n=s.some(e=>e.op===iX.delete);return i&&(void 0===e||!1===e)?s:aS(s,e=>{let s=a.isOperationReadyForPatch(e,l,n);return!0===i?s:!s}).validArray}),(0,ik._)(this,"setBufferHash",e=>{this.bufferHash=e}),(0,ik._)(this,"addOperation",function(e){var i,s;let l,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ab(e.op,e.entity);if(o){let i=o.validate(e);i.error&&(iV({category:"OperationsBuffer",message:`Invalid operation: ${e.op} , entity: ${e.entity}`,data:{operation:e,error:i.error},level:"warning"}),console.error(i.error),e=o.validate(e,{stripUnknown:!0}).value)}else iV({category:"OperationsBuffer",message:`Invalid operation: ${e.op} , entity: ${e.entity}`,data:{operation:e},level:"warning"}),console.error("Invalid operation",{operation:e});let{id:d,op:u,entity:c,props:m,error:p=!1}=e,h=a.findIndex(d,u,c),g=a.operations[h];null==g||delete g.error;let v=[iQ.languageSetting,iQ.survey,iQ.surveyStatus].includes(c),x=[iQ.questionGroup,iQ.questionGroupL10n].includes(c),I=[iQ.question,iQ.questionL10n,iQ.questionAttribute].includes(c),_=c===iQ.answer,T=c===iQ.subquestion,N=c===iQ.questionCondition;if(v)l=((e,i,a)=>{if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let s=(0,i_.cloneDeep)(e),l=(0,i_.cloneDeep)(i),n=(0,i_.cloneDeep)(a);if(n){let e={...n,props:(0,i_.merge)({},n.props,l.props)};return l.props.additionalLanguages&&(e.props.additionalLanguages=l.props.additionalLanguages),{bufferOperations:s,newOperation:e,addToBuffer:!1}}return{bufferOperations:s,newOperation:l,addToBuffer:!0}})(a.operations,e,g);else if(x)l=iU(a.operations,e,g);else if(I)l=((e,i,a)=>{if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let s=(0,i_.cloneDeep)(e),l=(0,i_.cloneDeep)(a),n=(0,i_.cloneDeep)(i)||{},r=aV(n.id);return n.op===iX.delete?{bufferOperations:s.filter(e=>e.id!==n.id),newOperation:r?{}:n,addToBuffer:!r}:{bufferOperations:s,newOperation:l?{...l,props:(0,i_.merge)({},l.props,n.props)}:n,addToBuffer:!l}})(a.operations,e,g);else if(_){let i=a.findIndex(d,iX.create,iQ.question),s=a.operations[i];-1!==i&&(h=i),l=((e,i,a,s)=>{let l;if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let n=!1,r=(0,i_.cloneDeep)(e),o=(0,i_.cloneDeep)(i),d=(0,i_.cloneDeep)(a),u=(0,i_.cloneDeep)(s);return u?(u.props.answers=o.props,l=u):(d?d.props=o.props:(d=o,n=!0),l=d),{bufferOperations:r,newOperation:l,addToBuffer:n}})(a.operations,e,g,s)}else if(T){let i=a.findIndex(d,iX.create,iQ.question),s=a.operations[i];-1!==i&&(h=i),l=((e,i,a,s)=>{let l;if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let n=!1,r=(0,i_.cloneDeep)(e),o=(0,i_.cloneDeep)(i),d=(0,i_.cloneDeep)(a),u=(0,i_.cloneDeep)(s);return u?(u.props.subquestions=o.props,l=u):(d?d.props=o.props:(d=o,n=!0),l=d),{bufferOperations:r,newOperation:l,addToBuffer:n}})(a.operations,e,g,s)}else N&&(l=((e,i,a)=>{if(!i)return{bufferOperations:e,newOperation:{},addToBuffer:!1};let s=(0,i_.cloneDeep)(e),l=(0,i_.cloneDeep)(a),n=(0,i_.cloneDeep)(i)||{};return n.op===iX.delete?{bufferOperations:s.filter(e=>e.id!==n.id||e.entity!==iQ.questionCondition),newOperation:n,addToBuffer:!0}:{bufferOperations:s,newOperation:l?{...l,props:(0,i_.merge)({},l.props,n.props)}:n,addToBuffer:!l}})(a.operations,e,g));if(l){r||delete l.newOperation.error,a.operations=l.bufferOperations,l.addToBuffer?a.operations.push(l.newOperation):(l.newOperation.id||v)&&-1!==h&&(a.operations[h]=l.newOperation),a.setOperations(a.operations);return}iG({extraData:{operation:e,currentOperation:g},message:"Reverting to default addOperation handling",level:"debug"});let b=aV(null==(i=e.id)?void 0:i.toString()),E=c===iQ.answer||c===iQ.subquestion;if(b&&e.op!==iX.create&&E){let e=a.findIndex(d,iX.create,c),i=a.operations[e];if(i&&u===iX.update)return void(0,i_.merge)(i.props,m)}(u!==iX.delete||(a.operations=a.operations.filter(e=>e.entity!=c||e.id!=d),c===iQ.questionGroup&&(a.operations=a.operations.filter(e=>{var i,a;return(null==(a=e.props)||null==(i=a.question)?void 0:i.gid)!==d})),c===iQ.answer?a.operations.forEach(e=>{e.entity===iQ.answer&&e.props&&(e.props=aP(null==e?void 0:e.props,e=>(null==e?void 0:e.aid)!==d))}):c===iQ.subquestion&&a.operations.forEach(e=>{e.entity===iQ.subquestion&&e.props&&(e.props=aP(null==e?void 0:e.props,e=>(null==e?void 0:e.qid)!==d))}),a.operations=a.operations.filter(e=>{var i,a;return e.op===iX.delete||(null==e||null==(i=e.props)?void 0:i.length)||(null==(a=Object.keys((null==e?void 0:e.props)||{}))?void 0:a.length)}),!b))&&(-1!==h&&n?n&&void 0!==a.operations[h]&&(null==(s=a.operations[h])?void 0:s.props)&&(E?a.operations[h].props=m:(0,i_.merge)(a.operations[h].props,m),r||delete a.operations[h].error):a.operations.push({id:d,op:u,entity:c,error:p,props:m}))}),(0,ik._)(this,"setOperations",e=>{this.operations=e}),(0,ik._)(this,"clearBuffer",function(){let{ready:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.setOperations(void 0===e?[]:a.getOperations({ready:!e}))}),(0,ik._)(this,"removeOperation",(e,i,a)=>{let s=this.findIndex(e,i,a);return this.operations=iT(this.operations,s)[0],-1!==s}),(0,ik._)(this,"findIndex",(e,i,a)=>this.operations.findIndex(s=>s.id==e&&(void 0===i||s.op===i)&&(void 0===a||s.entity===a))),(0,ik._)(this,"getOperation",(e,i,a)=>{let s=this.findIndex(e,i,a);return -1!==s?this.operations[s]:void 0}),(0,ik._)(this,"isEmpty",()=>0===this.operations.length),this.operations=(0,i_.cloneDeep)(e),this.bufferHash=i}}let iQ={questionGroup:"questionGroup",questionGroupL10n:"questionGroupL10n",question:"question",questionL10n:"questionL10n",questionAttribute:"questionAttribute",subquestion:"subquestion",answer:"answer",languageSetting:"languageSetting",survey:"survey",surveyStatus:"surveyStatus",questionCondition:"questionCondition",questionGroupReorder:"questionGroupReorder",importResponses:"importResponses",themeSettings:"themeSettings",response:"response",responseFile:"response-file",accessMode:"accessMode"},iB="question",iF="group",iz="answer",i$="subquestion",iW="condition",iZ="welcomeScreen",iK="endScreen",iX={update:"update",delete:"delete",create:"create"},iJ=e=>({survey:()=>i0(e,iQ.survey),question:()=>i0(e,iQ.question),questionAttribute:()=>i0(e,iQ.questionAttribute),answer:()=>i0(e,iQ.answer),languageSetting:()=>i0(e,iQ.languageSetting),questionGroup:()=>i0(e,iQ.questionGroup),questionGroupL10n:()=>i0(e,iQ.questionGroupL10n),questionGroupReorder:()=>i0(e,iQ.questionGroupReorder),questionL10n:()=>i0(e,iQ.questionL10n),subquestion:()=>i0(e,iQ.subquestion),surveyStatus:()=>i0(e,iQ.surveyStatus),questionCondition:()=>i0(e,iQ.questionCondition),importResponses:()=>i0(e,iQ.importResponses),themeSettings:()=>i0(e,iQ.themeSettings),response:()=>i0(e,iQ.response),responseFile:()=>i0(e,iQ.responseFile),accessMode:()=>i0(e,iQ.accessMode)}),i0=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{create:a=>i1(e,i,iX.create,a),update:a=>i1(e,i,iX.update,a),delete:()=>i1(e,i,iX.delete,a)}},i1=function(e,i,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l={id:e,entity:i,op:a,props:s,error:!1};return a===iX.delete&&delete l.props,l};a(89773);let i2=iy().object({entity:iy().string().valid(iQ.question).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object().pattern(iy().string(),iy().any()).required()}),i3=iy().object({entity:iy().string().valid(iQ.questionL10n).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({question:iy().string().allow("").optional(),help:iy().string().allow("").optional()}).or("question","help")).required()}),i6=iy().object({entity:iy().string().valid(iQ.questionAttribute).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object().pattern(iy().string(),iy().object().pattern(iy().string().allow(""),iy().any())).required()}),i4=iy().object({entity:iy().string().valid(iQ.answer).required(),op:iy().string().valid(iX.create).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().array().items(iy().object({tempId:iy().alternatives().try(iy().string(),iy().number()).optional(),code:iy().alternatives().try(iy().string(),iy().number()).required(),sortOrder:iy().alternatives().try(iy().string(),iy().number()).required(),assessmentValue:iy().alternatives().try(iy().string(),iy().number()).required(),scaleId:iy().alternatives().try(iy().string(),iy().number()).required(),l10ns:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({answer:iy().alternatives().try(iy().string(),iy().number()).required(),language:iy().alternatives().try(iy().string(),iy().number()).required()})).required()})).min(0).required()}),i5=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid(iX.create).required(),entity:iy().string().valid(iQ.subquestion).required(),props:iy().array().items(iy().object({tempId:iy().string().required(),sid:iy().alternatives().try(iy().string(),iy().number()).optional(),qid:iy().string().required(),gid:iy().alternatives().try(iy().string(),iy().number()).required(),type:iy().string().required(),scaleId:iy().alternatives().try(iy().string(),iy().number()).required(),sortOrder:iy().alternatives().try(iy().string(),iy().number()).required(),questionThemeName:iy().string().required(),parentQid:iy().alternatives().try(iy().string(),iy().number()).required(),title:iy().string().required(),preg:iy().any().allow(null),other:iy().boolean().optional(),mandatory:iy().boolean().allow(null).required(),encrypted:iy().boolean().optional(),moduleName:iy().any().allow(null),sameDefault:iy().any().optional(null),relevance:iy().string().optional(),sameScript:iy().any().allow(null).optional(),l10ns:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({question:iy().string().allow(""),language:iy().string().required()})).required(),attributes:iy().array().items(iy().any()).optional(),answers:iy().array().items(iy().any()).optional(),subquestions:iy().array().items(iy().any()).optional()})).min(0).required()}),i7=iy().object({entity:iy().string().valid("question").required(),op:iy().string().valid("create").required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object({question:i2.extract("props").required(),questionL10n:i3.extract("props").required(),attributes:i6.extract("props").optional(),answers:i4.extract("props").optional(),subquestions:i5.extract("props").optional()}).required()}),i9=iy().object({entity:iy().string().valid(iQ.question).required(),op:iy().string().valid(iX.delete).required(),id:iy().alternatives().try(iy().string(),iy().number()).required()}),i8=iy().object({entity:iy().string().valid(iQ.questionGroupL10n).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({groupName:iy().string().allow("").optional(),description:iy().string().allow("").optional()}).or("groupName","description")).required()}),ae=iy().object({entity:iy().string().valid(iQ.questionGroup).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object({questionGroup:iy().object().pattern(iy().string(),iy().alternatives().try(iy().string().allow(""),iy().number(),iy().object(),iy().array())).required(),questionGroupL10n:i8.extract("props").required()}).required()}),at=iy().object({entity:iy().string().valid(iQ.answer).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().array().items(iy().object({tempId:iy().alternatives().try(iy().string(),iy().number()).optional(),aid:iy().alternatives().try(iy().string(),iy().number()).required(),code:iy().alternatives().try(iy().string(),iy().number()).required(),sortOrder:iy().alternatives().try(iy().string(),iy().number()).required(),assessmentValue:iy().alternatives().try(iy().string(),iy().number()).required(),scaleId:iy().alternatives().try(iy().string(),iy().number()).required(),l10ns:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({answer:iy().alternatives().try(iy().string(),iy().number()).required(),language:iy().alternatives().try(iy().string(),iy().number()).required()})).required()})).min(0).required()}),ai=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid(iX.update).required(),entity:iy().string().valid(iQ.subquestion).required(),props:iy().array().items(iy().object({qid:iy().alternatives().try(iy().string(),iy().number()).required(),tempId:iy().alternatives().try(iy().string(),iy().number()).optional(),parentQid:iy().alternatives().try(iy().string(),iy().number()).optional(),sid:iy().alternatives().try(iy().string(),iy().number()).optional(),type:iy().string().required(),sortOrder:iy().alternatives().try(iy().string(),iy().number()).required(),title:iy().string().required(),preg:iy().any().allow(null),other:iy().boolean().optional(),mandatory:iy().boolean().allow(null),encrypted:iy().boolean().optional(),questionOrder:iy().alternatives().try(iy().string(),iy().number()).optional(),scaleId:iy().alternatives().try(iy().string(),iy().number()).required(),sameDefault:iy().boolean().allow(null),questionThemeName:iy().string().allow(null).optional(),moduleName:iy().string().allow(null).optional(),gid:iy().alternatives().try(iy().string(),iy().number()).required(),relevance:iy().string().required(),sameScript:iy().boolean().allow(null).optional(),l10ns:iy().object().pattern(/^[a-zA-Z-]{2,}$/,iy().object({id:iy().alternatives().try(iy().string(),iy().number()).optional(),qid:iy().alternatives().try(iy().string(),iy().number()).optional(),question:iy().string().allow(""),help:iy().string().allow(""),script:iy().any().allow(null),language:iy().string().required()})).required(),attributes:iy().array().items(iy().any()).required(),answers:iy().array().items(iy().any()).required(),subquestions:iy().array().items(iy().any()).optional()})).min(0).required()}),aa=iy().object({entity:iy().string().valid(iQ.survey).required(),op:iy().string().valid(iX.update).required(),props:iy().object().pattern(iy().string(),iy().any()).required()}),as=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid(iX.update).required(),entity:iy().string().valid(iQ.surveyStatus).required(),error:iy().boolean().optional(),props:iy().object({anonymized:iy().boolean().required(),activate:iy().boolean(),deactivate:iy().boolean(),expire:iy().boolean()}).required()}),al=iy().object({entity:iy().string().valid(iQ.questionGroup).required(),op:iy().string().valid(iX.create).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object({questionGroup:iy().object().pattern(iy().string(),iy().any()).required(),questionGroupL10n:i8.extract("props").required()}).required()}),an=iy().object({entity:iy().string().valid(iQ.questionGroup).required(),op:iy().string().valid(iX.delete).required(),id:iy().alternatives().try(iy().string(),iy().number()).required()}),ar=iy().object({entity:iy().string().valid(iQ.answer).required(),op:iy().string().valid(iX.delete).required(),id:iy().alternatives().try(iy().string(),iy().number()).required()}),ao=iy().object({entity:iy().string().valid(iQ.subquestion).required(),op:iy().string().valid(iX.delete).required(),id:iy().alternatives().try(iy().string(),iy().number()).required()}),ad=iy().object({entity:iy().string().valid(iQ.languageSetting).required(),op:iy().string().valid(iX.update).required(),id:iy().any().valid(null).required(),props:iy().object().pattern(iy().string(),iy().object().pattern(iy().string().allow(""),iy().any())).required()}),au=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid(iX.update).required(),entity:iy().string().valid(iQ.importResponses).required(),error:iy().boolean().optional(),props:iy().object({preserveIDs:iy().boolean().required(),timestamp:iy().alternatives().try(iy().string(),iy().number()).optional()}).required()}),ac=iy().object({qid:iy().number().required(),cqid:iy().number().required(),cfieldname:iy().string().required(),cquestions:iy().string().required(),method:iy().string().valid("<",">","<=",">=","==","!=").default("=="),value:iy().string().allow("").trim(!1),scenario:iy().number().required(),editSourceTab:iy().string().pattern(/^#\w+$/).required(),editTargetTab:iy().string().pattern(/^#\w+$/).required(),csrctoken:iy().string().optional(),canswers:iy().alternatives().try(iy().array().items(iy().string()).min(1).required(),iy().string().required()),ConditionConst:iy().string().allow("").trim(!1),prevQuestionSGQA:iy().string().optional(),ConditionRegexp:iy().string().optional(),tokenAttr:iy().string().optional()}).when("editTargetTab",{switch:[{is:"#CANSWERSTAB",then:iy().object({canswers:iy().required(),then:iy().required(),otherwise:iy().optional()}).xor("canswers")},{is:"#CONST",then:iy().object({ConditionConst:iy().string().allow("").trim(!1)}).xor("ConditionConst")},{is:"#PREVQUESTIONS",then:iy().object({prevQuestionSGQA:iy().required()}).xor("prevQuestionSGQA")},{is:"#REGEXP",then:iy().object({ConditionRegexp:iy().required()}).xor("ConditionRegexp")},{is:"#TOKENATTRS",then:iy().object({tokenAttr:iy().required(),prevQuestionSGQA:iy().required()}).and("tokenAttr","prevQuestionSGQA")}],otherwise:iy().object().invalid()}),am=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid("create").required(),entity:iy().string().valid("questionCondition").required(),qid:iy().number().required(),props:{qid:iy().number().required(),scenarios:iy().array().items(iy().object({scid:iy().number().required(),conditions:iy().array().items(ac.keys({action:iy().string().valid("insertCondition").required(),tempId:iy().string().pattern(/^temp__\d+_\d+$/).required(),cid:iy().string().pattern(/^temp__\d+_\d+$/).required(),tempcids:iy().array().items(iy().string().pattern(/^temp__\d+_\d+$/).required()).required()})).min(1).required()}))}}),ap=["insertCondition","updateCondition"],ah={qid:iy().number().required(),scenarios:iy().array().items(iy().object({scid:iy().number().required(),conditions:iy().array().items(ac.keys({action:iy().string().valid(...ap).required(),cid:iy().alternatives().try(iy().number(),iy().string().pattern(/^temp__\d+_\d+$/)).required(),tempId:iy().string().pattern(/^temp__\d+_\d+$/).optional(),tempcids:iy().array().items(iy().string()).optional()})).min(1).required()}))},ag=iy().object({qid:iy().number().required(),action:iy().string().valid("conditionScript").required(),script:iy().string().required()}),av=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid("update").required(),entity:iy().string().valid("questionCondition").required(),qid:iy().number().required(),props:iy().alternatives().conditional("props.action",{switch:[{is:iy().valid(...ap),then:ah},{is:"conditionScript",then:ag}],otherwise:iy().forbidden()})}),ax=iy().object({scid:iy().number().required(),action:iy().string().valid("deleteScenario").required()}),aI=iy().object({scid:iy().number().required(),conditions:iy().array().items(iy().object({cid:iy().number().required(),action:iy().string().valid("deleteCondition").required()})).min(1).required()}),a_=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid("delete").required(),entity:iy().string().valid("questionCondition").required(),qid:iy().number().optional(),props:iy().object({qid:iy().number().optional(),scenarios:iy().array().items(iy().alternatives().try(ax,aI).required()).min(1).required()}).required()}),aT=iy().object({id:iy().alternatives().try(iy().string(),iy().number()).required(),op:iy().string().valid(iX.update).required(),entity:iy().string().valid(iQ.themeSettings).required(),error:iy().boolean().optional(),props:iy().object({templateName:iy().string().required(),font:iy().string().optional(),cssframework:iy().string().optional(),backgroundimagefile:iy().string().optional(),brandlogofile:iy().string().optional(),hideprivacyinfo:iy().string().optional(),showpopups:iy().string().optional(),showclearall:iy().string().optional(),questionhelptextposition:iy().string().optional(),fixnumauto:iy().string().optional(),backgroundimage:iy().string().optional(),brandlogo:iy().string().optional(),cornerradius:iy().string().optional(),container:iy().string().optional(),zebrastriping:iy().string().optional(),crosshover:iy().string().optional(),fontcolor:iy().string().optional(),bodybackgroundcolor:iy().string().optional(),questionbackgroundcolor:iy().string().optional(),themecolor:iy().string().optional(),darkmode:iy().string().optional(),checkicon:iy().string().optional()}).required()}),aN=iy().object({entity:iy().string().valid(iQ.accessMode).required(),op:iy().string().valid(iX.update).required(),id:iy().alternatives().try(iy().string(),iy().number()).required(),props:iy().object({accessMode:iy().string().valid(...Object.values(eV)).required(),action:iy().string().optional().valid("K","D","A")}).required()}),ab=(e,i)=>{let a={[iX.update]:{[iQ.question]:i2,[iQ.questionGroup]:ae,[iQ.questionAttribute]:i6,[iQ.answer]:at,[iQ.subquestion]:ai,[iQ.questionL10n]:i3,[iQ.questionGroupL10n]:i8,[iQ.survey]:aa,[iQ.surveyStatus]:as,[iQ.languageSetting]:ad,[iQ.importResponses]:au,[iQ.questionCondition]:av,[iQ.themeSettings]:aT,[iQ.accessMode]:aN},[iX.create]:{[iQ.question]:i7,[iQ.questionGroup]:al,[iQ.answer]:i4,[iQ.subquestion]:i5,[iQ.questionCondition]:am},[iX.delete]:{[iQ.question]:i9,[iQ.questionGroup]:an,[iQ.answer]:ar,[iQ.subquestion]:ao,[iQ.questionCondition]:a_}}[e];if(!a)throw Error(`Unsupported operation: ${e}`);let s=null==a?void 0:a[i];return null==s?void 0:s.keys({error:iy().any().optional()})},aE=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";if("object"!=typeof e);else if(void 0!==e[i])return e[i];else if(void 0!==e[""])return e[""];else if(void 0!==e.en)return e.en;else if(void 0!==e);else if("object"==typeof e)return"";return e},ay=(e,i)=>{let a=0;for(let l=0;l<i.questionGroups.length;l++){let n=i.questionGroups[l];for(let i=0;i<n.questions.length;i++){var s;let r=n.questions[i];if(++a,(null==(s=r.qid)?void 0:s.toString())===(null==e?void 0:e.toString()))return{question:r,groupIndex:l,questionIndex:i,questionNumber:a}}}return{}};a(84560);let aS=(e,i)=>{let a=(0,i_.cloneDeep)(e).reduce((e,a)=>{let{validArray:s,filteredArray:l}=e;return i(a)?s.push(a):l.push(a),{validArray:s,filteredArray:l}},{validArray:[],filteredArray:[]});return{validArray:a.validArray,filteredArray:a.filteredArray}},aA=(e,i,a)=>{let s=(0,i_.cloneDeep)(e);return Object.keys(s).forEach(e=>{e===i&&(s[a]=s[e],delete s[e]),"object"==typeof s[a]&&null!==s[a]&&(s[a]=aA(s[a],i,a))}),Object.keys(s).forEach(e=>{s[e]===i?s[e]=a:"object"==typeof s[e]&&null!==s[e]&&(s[e]=aA(s[e],i,a))}),s};a(32699);let af=(e,i,a)=>{for(let r=0;r<i.questionGroups.length;r++){let o=i.questionGroups[r];if(o.gid===e&&a===iF)return{[a]:o,groupIndex:r};if(a!==iF)for(let i=0;i<o.questions.length;i++){var s,l,n;let d=o.questions[i];if(d.qid===e&&a===iB)return{[a]:d,groupIndex:r,questionIndex:i};if(a===iz)for(let s=0;s<d.answers.length;s++){let l=d.answers[s];if(l.aid===e)return{[a]:l,groupIndex:r,questionIndex:i,answerIndex:s}}if(a===i$)for(let l=0;l<(null==(s=d.subquestions)?void 0:s.length);l++){let s=d.subquestions[l];if(s.qid===e)return{[a]:s,groupIndex:r,questionIndex:i,subquestionIndex:l}}if(a===iW)for(let s=0;s<(null==(l=d.scenarios)?void 0:l.length);s++)for(let l=0;l<(null==(n=d.scenarios[s].conditions)?void 0:n.length);l++){let n=d.scenarios[s].conditions[l];if(n.cid===e)return{[a]:n,groupIndex:r,questionIndex:i,scenarioIndex:s,conditionIndex:l}}}}return{}},aj=function(e,i,a,s,l){var n,r;if((0,i_.isUndefined)(i)||!(null==e||null==(n=e.questionGroups)?void 0:n[i]))return;let o=[...e.questionGroups],d={...o[i]};if(o[i]=d,e.questionGroups=o,(0,i_.isUndefined)(a)||!(null==(r=d.questions)?void 0:r[a]))return;let u=[...d.questions],c={...u[a]};if(u[a]=c,d.questions=u,!(0,i_.isUndefined)(s)){let e=[...c.subquestions];e[s]={...e[s]},c.subquestions=e}if(!(0,i_.isUndefined)(l)){let e=[...c.answers];e[l]={...e[l]},c.answers=e}},aC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return e.forEach(e=>{let n=af(e.tempId,a,i);(l&&(l.qid===e.tempId?l.qid=e.id:l.gid===e.tempId&&(l.gid=e.id)),0===Object.keys(n).length)?console.error(`Error: Could not find ${i} with tempId ${e.tempId}`):(n[i]&&(n[i]=aA(n[i],e.tempId,e.id)),s.setOperations(aA(s.getOperations(),e.tempId,e.id)),i===iF?(0,i_.isUndefined)(n.groupIndex)||(a.questionGroups[n.groupIndex]=n[i]):i===iB?(0,i_.isUndefined)(n.groupIndex)||(0,i_.isUndefined)(n.questionIndex)||(a.questionGroups[n.groupIndex].questions[n.questionIndex]=n[i]):i===i$?(0,i_.isUndefined)(n.groupIndex)||(0,i_.isUndefined)(n.questionIndex)||(0,i_.isUndefined)(n.subquestionIndex)||(a.questionGroups[n.groupIndex].questions[n.questionIndex].subquestions[n.subquestionIndex]=n[i]):i===iz?(0,i_.isUndefined)(n.groupIndex)||(0,i_.isUndefined)(n.questionIndex)||(a.questionGroups[n.groupIndex].questions[n.questionIndex].answers[n.answerIndex]=n[i]):i!==iW||(0,i_.isUndefined)(n.groupIndex)||(0,i_.isUndefined)(n.questionIndex)||(0,i_.isUndefined)(n.scenarioIndex)||(0,i_.isUndefined)(n.conditionIndex)||(a.questionGroups[n.groupIndex].questions[n.questionIndex].scenarios[n.scenarioIndex].conditions[n.conditionIndex]=n[i]),aj(a,n.groupIndex,n.questionIndex,n.subquestionIndex,n.answerIndex))}),{survey:a,operationsBuffer:s,focused:l}},aO=function(e,i,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!s||0===Object.keys(s).length)return{survey:i,operationsBuffer:a};if(e===iB){let{qid:l,...n}=s;if(!l)return{survey:i,operationsBuffer:a};let r=af(s.qid,i,e);if(!(0,i_.isUndefined)(r.groupIndex)&&!(0,i_.isUndefined)(r.questionIndex)){let e=i.questionGroups[r.groupIndex].questions[r.questionIndex];Object.entries(n??{}).forEach(i=>{let[a,s]=i;e[a]=s}),i.questionGroups[r.groupIndex].questions[r.questionIndex]=e}}return{survey:i,operationsBuffer:a}},aw=(e,i,a)=>{let s=i.getOperations();for(let l=0;l<(null==e?void 0:e.length);l++){let n=e[l],r=i.findIndex(n.id,n.op,n.entity);if(-1!==a.findIndex(n.id,n.op,n.entity)){e=iT(e,l)[0];continue}if(s[r]){let e={...s[r],error:!0};a.addOperation(e,!1,!0)}}return e},aq=e=>{let{qid:i,aid:a,sortOrder:s=0,scaleId:l=0,languages:n=[],languageValue:r="",code:o=`A${iI(1,999)}`}=e;return a=a??`temp__${iI()}`,i=i??`temp__${iI()}`,{aid:a,tempId:a,qid:i,code:o,sortOrder:s,assessmentValue:0,scaleId:l,l10ns:n.reduce((e,i)=>(e[i]={aid:a,answer:r,language:i},e),{})}},aM=e=>{let{gid:i,qid:a,sid:s,parentQid:l=0,questionThemeName:n="longfreetext",type:r="T",sortOrder:o=1,scaleId:d=0,title:u=`Q${iI(1,999)}`,answers:c=[],subquestions:m=[],attributes:p=[],mandatory:h=!1,encrypted:g=!1,relevance:v="1",languages:x=[],scenarios:I=[]}=e;return{sid:s,qid:a=a??`temp__${iI()}`,tempId:a,gid:i,type:r,scaleId:d,sortOrder:o,questionThemeName:n,parentQid:l,title:u||`${l?"SQ":"Q"}${iI(1,999)}`,preg:null,other:!1,mandatory:h,encrypted:g,moduleName:null,sameDefault:null,relevance:v,sameScript:null,l10ns:x.reduce((e,i)=>(e[i]={qid:a,question:"",language:i},e),{}),attributes:p,answers:c,subquestions:m,scenarios:I}},aL=e=>(0,i_.cloneDeep)(e).map(e=>({[e.qid]:{sortOrder:e.sortOrder}})).reduce((e,i)=>Object.assign(e,i),{}),aD=e=>(0,i_.cloneDeep)(e).map((e,i)=>{let a=e.questions.map((e,i)=>({[e.qid]:{sortOrder:i+1}})).reduce((e,i)=>Object.assign(e,i),{});return{[e.gid]:{sortOrder:i+1,questions:a}}}).reduce((e,i)=>Object.assign(e,i),{});function aR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(a=>setTimeout(a,e*i))}let aP=(e,i)=>{if(Array.isArray(e))return e.filter(i);if("object"==typeof e&&null!==e)return Object.fromEntries(Object.entries(e).filter(a=>{let[s,l]=a;return i(l,s,e)}));throw TypeError("Input should be an array or an object")},ak=(e,i,a)=>{a||(a=e.language);let s=null==i?void 0:i.keyPath.split(".");return"languageSettings"===s[0]&&(s[0]=a),s.length>1?s.reduce((e,i)=>e&&"undefined"!==e[i]?e[i]:void 0,e)??"":null==e?void 0:e[null==i?void 0:i.keyPath]},aU=e=>{let i=document.createElement("span");return e?(i.innerHTML=e,i.textContent):""},aH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i="";return i&&"/"!==i||(i=window.location.protocol+"//"+window.location.host),i+e},aG=e=>"string"==typeof e&&e.includes("temp__"),aV=(e,i)=>{if("string"==typeof e)return aG(e);if("object"==typeof e&&null!==e){for(let a in e)if(a===i&&aG(e[a])||"object"==typeof e[a]&&aV(e[a],i))return!0}return!1};a(5127),a(65857),a(33676),a(97857),a(4810),a(60865),a(3101),a(39112),a(75516),a(2070),a(96030),a(92167),a(47786),a(19808),a(56059),a(78736),a(68121),a(79389),a(75927),a(72859),a(15441),a(16028),a(3182);let aY=()=>[{value:"{TOKEN:FIRSTNAME}",label:t("First name")},{value:"{TOKEN:LASTNAME}",label:t("Last name")},{value:"{TOKEN:EMAIL}",label:t("Email address")},{value:"{TOKEN:EMAILSTATUS}",label:t("Email status")},{value:"{TOKEN:TOKEN}",label:t("Access code")},{value:"{TOKEN:LANGUAGE}",label:t("Language code")},{value:"{TOKEN:SENT}",label:t("Invitation sent date")},{value:"{TOKEN:REMINDERSENT}",label:t("Last reminder sent date")},{value:"{TOKEN:REMINDERCOUNT}",label:t("Total numbers of sent reminders")},{value:"{TOKEN:USESLEFT}",label:t("Uses left")},{value:"{TOKEN:COMPLETED}",label:t("Completed")}],aQ=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];function s(e,l){i.includes(l)||("string"==typeof e?a.push(e):Array.isArray(e)?e.forEach(e=>s(e,l)):"object"==typeof e&&null!==e&&Object.entries(e).forEach(e=>{let[i,a]=e;return s(a,i)}))}return Array.isArray(e)?e.forEach(e=>s(e,null)):s(e,null),a},aB=e=>!!e&&new Date>new Date(e),aF=(e,i)=>e.reduce((e,a)=>{let s=a.match(/^([^\d]*)(\d+)$/);if(s){let[,a,l]=s,n=parseInt(l,10);return n>e.numeric?{numeric:n,prefix:a||i}:e}return e},{numeric:0,prefix:i}),az=(e,i)=>{if(e){for(let a of Object.values(e))if(a.question&&a.question.qid===i)return a.question}return null},a$=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=[];if(null==a&&(null!==i||void 0!==i)&&(null!==e||void 0!==e)){let a=az(e,i);s=((null==a?void 0:a.subquestions)??[]).map(e=>e.title).filter(Boolean)}else s.push(a.toString());let l=aF(s,"SQ"),n=l.numeric+1;return`${l.prefix}${n.toString().padStart(3,"0")}`},aW=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=[],l=null;(null!==e||void 0!==e)&&(null!==i||void 0!==i)&&(l=az(e,i)),l?s=(l.answers?l.answers:[]).map(e=>e.code).filter(Boolean):s.push(a.toString());let n=aF(s,"A"),r=n.numeric+1;return`${n.prefix}${r.toString().padStart(3,"0")}`},aZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,s=arguments.length>3?arguments[3]:void 0,l=(0,i_.cloneDeep)(e);if(l.splice(a,0,i),s)for(let e=a;e<l.length;e++)l[e][s]=e+1;return l},aK=()=>({SIMPLE:t("Simple"),GENERAL:t("General"),DISPLAY:t("Display"),LOGIC:t("Logic"),OTHER:t("Other"),INPUT:t("Input"),STATISTICS:t("Statistics"),TIMER:t("Timer"),LOCATION:t("Location"),SLIDER:t("Slider"),THEME_OPTIONS:t("Display theme options"),FILE_META_DATA:t("File metadata")}),aX=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?st("No answer"):t("No answer")};var aJ=a(37158);let a0=e=>{let{title:i,children:a,isDefaultOpen:s=!1,isAdvanced:l=!1,simpleSettings:n=!1}=e;return!l&&n||l&&" "===i?(0,m.jsx)(m.Fragment,{children:a}):l&&!n?(0,m.jsx)(aJ.A,{defaultActiveKey:"0",children:(0,m.jsxs)(aJ.A.Item,{eventKey:s?"0":"1",children:[(0,m.jsx)(aJ.A.Header,{children:i}),(0,m.jsx)(aJ.A.Body,{children:a})]})}):(0,m.jsx)(m.Fragment,{})};var a1=a(28520),a2=a(16885),a3=a(73013),a6=a(56424);let a4=e=>{let{labelText:i,defaultValue:a,update:s=()=>{},minDate:l=U("2000-04-17T15:30"),maxDate:n=U("2050-04-17T15:30"),noPermissionDisabled:r=!1,noAccessDisabled:o=!1,values:d=[],onValueChange:u=()=>{},participantMode:c=!1,closeOnSelect:p=!0}=e,g=null==d?void 0:d[0],[v]=j(en),[x,I]=(0,h.useState)(!1),[_,T]=(0,h.useState)(a?U(a):null),N=r&&!v||o,[b]=j(er),E=(null==b?void 0:b.timezone)?b.timezone:null;return(0,m.jsxs)("div",{"data-testid":"data-time-picker",children:[i&&(0,m.jsx)(a1.A.Label,{children:i}),(0,m.jsx)("div",{children:(0,m.jsx)(sx,{tip:ss().NO_PERMISSION,showTip:N,children:(0,m.jsx)(a3.$,{dateAdapter:a2.R,children:(0,m.jsx)(a6.K,{slotProps:{textField:{onClick:()=>I(!0),onChange:e=>{var i;let a=null==e||null==(i=e.target)?void 0:i.value;try{let e=U(a);e.isValid()&&(T(e),s(e.toJSON()))}catch(e){}I(!0)},inputProps:{readOnly:!1},className:"form-control",InputProps:{endAdornment:(0,m.jsxs)("div",{className:"settings-buttons position-absolute end-0 top-0 h-100 d-flex align-items-center",children:[_&&(0,m.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),s(null),T(null),I(!1)},className:"settings-button ps-3",children:(0,m.jsx)(tp,{className:"fill-current"})}),(0,m.jsx)("button",{type:"button",onClick:()=>I(!0),className:"settings-button ps-3 pe-3",children:(0,m.jsx)(tJ,{className:"fill-current"})})]})}}},ampm:!1,minDate:U(l),maxDate:U(n),defaultValue:U((null==g?void 0:g.value)||a),timezone:c?null:E,value:_,onAccept:e=>{u(U(e).format("YYYY-MM-DD HH:mm:ss"),null==g?void 0:g.key),e&&"function"==typeof e.toJSON&&(s(e.toJSON()),T(e))},onChange:e=>{if(e)s(e.toJSON()),T(e);else{s(null),u(null,null==g?void 0:g.key),T(null);return}u(U(e).format("YYYY-MM-DD HH:mm:ss"),null==g?void 0:g.key)},disabled:N,closeOnSelect:p,open:x,onOpen:()=>I(!0),onClose:()=>I(!1)})})})})]})},a5=()=>[{label:t("Normal"),value:"normal"},{label:t("Random"),value:"random"},{label:t("Alphabetical"),value:"alphabetical"},{label:t("Random A-Z/Z-A"),value:"random_alphabetical"}],a7=()=>({BUTTONS:{name:t("Buttons"),value:"0"},RADIO:{name:t("Radio"),value:"1"}}),a9=()=>[{label:t("Default"),value:"default"},{label:"8%",value:"1"},{label:"17%",value:"2"},{label:"25%",value:"3"},{label:"33%",value:"4"},{label:"41%",value:"5"},{label:"50%",value:"6"},{label:"58%",value:"7"},{label:"67%",value:"8"},{label:"75%",value:"9"},{label:"83%",value:"10"},{label:"92%",value:"11"},{label:"100%",value:"12"}],a8=()=>({CHECKED:{get label(){return t("Checkbox is checked")},value:"checked"},ALWAYS:{get label(){return t("No control on checkbox")},value:"allways"},UNCHECKED:{get label(){return t("Checkbox is unchecked")},value:"unchecked"}}),se=()=>({structure:{label:t("Structure"),panel:"structure",icon:tO},settings:{label:t("Settings"),panel:"settings",defaultMenu:eN,icon:tq},presentation:{label:t("Presentation"),panel:"presentation",defaultMenu:eE,icon:tH},menu:{label:t("Menu"),panel:"menu",icon:tk,getRedirectUrl:e=>aH(`/admin/tokens/sa/index/surveyid/${e}`)},permissions:{label:t("Permissions"),panel:"permissions",icon:tG,getRedirectUrl:e=>aH("/surveyPermissions/index?surveyid="+e)},quickTranslation:{label:t("Quick translation"),panel:"quickTranslation",icon:tU,getRedirectUrl:e=>aH(`/quickTranslation/index?surveyid=${e}`)}}),si="survey",sa="settings",ss=()=>({ACTIVE_DISABLED:t("Deactivate survey to edit"),DISABLE_FIRST:t("Can not be used with active survey."),NO_PERMISSION:t("You do not have permission"),SURVEY_NOT_ACTIVE:t("Survey is not active"),SURVEY_NOT_ACTIVE_NO_RESULTS:t("This survey has not been activated. There are no results to browse.")}),sl="boolean",sn="stringBoolean",sr="numeric",so="shortString",sd="longString",su=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,i=[];switch(e){case sl:i=[{name:t("Yes"),value:!0},{name:t("No"),value:!1}];break;case sn:i=[{name:t("Yes"),value:"true"},{name:t("No"),value:"false"}];break;case sr:i=[{name:t("Yes"),value:"1"},{name:t("No"),value:"0"}];break;case so:i=[{name:t("Yes"),value:"Y"},{name:t("No"),value:"N"}];break;case sd:i=[{name:t("Yes"),value:"yes"},{name:t("No"),value:"no"}];break;case"asOnOffString":i=[{name:t("Yes"),value:"on"},{name:t("No"),value:"off"}]}return i},sc="boolean",sm="numeric",sp="shortString",sh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm,i=[];switch(e){case sc:i=[{name:t("On"),value:!0},{name:t("Off"),value:!1}];break;case sm:i=[{name:t("On"),value:"1"},{name:t("Off"),value:"0"}];break;case sp:i=[{name:t("On"),value:"Y"},{name:t("Off"),value:"N"}]}return i};var sg=a(33784),sv=a(81692);let sx=e=>{let{children:i,offset:a=[0,10],tip:s,placement:l="top",showTip:n=!0}=e,r=(0,h.useId)(),o=(0,h.useMemo)(()=>(0,m.jsx)(sg.A,{id:`tooltip-${r}`,children:s}),[s]);return(0,m.jsx)(sv.A,{placement:l,offset:a,overlay:n&&s?o:(0,m.jsx)(m.Fragment,{}),children:(0,m.jsx)("span",{children:i})})};var sI=a(2800);let s_=e=>{let{value:i="",dataTestId:a,onChange:s=()=>{},onBlur:l=()=>{},inputRef:n=null,type:r="text",role:o="input",rows:d=1,placeholder:u=t("Enter here"),id:c="",Icon:p,leftIcons:g,labelText:v,paddinRight:x="40px",paddingLeft:I="40px",disabled:_=!1,max:T=1/0,min:N=-1/0,className:b="",iconClassName:E="",style:y={},errorMessage:S,inputClass:A="",labelClass:f="",showClassWhenValue:C=!1,update:O=()=>{},activeDisabled:w=!1,noPermissionDisabled:q=!1,noAccessDisabled:M=!1,autoComplete:L=!0,allowEmpty:D=!0,focus:R}=e,[P,k]=(0,h.useState)(!1),U=n||(0,h.useRef)(null);(0,h.useEffect)(()=>{try{(0,sI.jE)(),k(!0)}catch(e){k(!1)}},[]);let[H]=P?j(F):[!1],[G]=P?j(en):[!0],V=H&&w||_||!G&&q||M,Y=H&&w?ss().ACTIVE_DISABLED:!G&&q||M?ss().NO_PERMISSION:"";return(0,h.useEffect)(()=>{(null==U?void 0:U.current)&&(U.current.value=i)},[U,i]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a1.A.Group,{style:{position:p&&"relative",...y},className:`qe-input-group ${b}`,children:[g&&"string"==typeof g&&(0,m.jsx)("img",{style:{left:0,right:"100%"},src:g,className:"qe-input-icon-left",alt:"input icon"}),g&&"string"!=typeof g&&(0,m.jsx)("span",{className:"qe-input-icon-left",children:g}),v&&(0,m.jsx)(a1.A.Label,{className:`ui-label ${f}`,children:v}),(0,m.jsx)(sx,{tip:Y,showTip:V,children:(0,m.jsx)(a1.A.Control,{pattern:"[A-Z0-9]+",disabled:V,id:c,ref:U,"data-testid":a,placeholder:u,onChange:e=>{let i=e.target.value;""===i&&D?(s(e),O(e.target.value)):+i>T?e.target.value=T:+i<N?e.target.value=N:e.target.value=i,s(e),O(e.target.value)},defaultValue:i,type:r,role:o,rows:d,as:o,onBlur:e=>{l(e)},style:{paddingRight:p&&x,paddingLeft:g&&I},className:`form-control ${C?i?A:"":A}`,autoComplete:+!!L,autoFocus:R})}),p&&"string"==typeof p&&(0,m.jsx)("img",{src:p,className:`qe-input-icon-right ${E}`,alt:"input icon"}),p&&"string"!=typeof p&&(0,m.jsx)("span",{className:`qe-input-icon-right ${E}`,children:p})]}),S&&(0,m.jsx)("div",{className:"text-nowrap d-block m-1",children:(0,m.jsx)(a1.A.Text,{style:{fontSize:"14px",fontWeight:"500"},className:"text-danger",children:S})})]})};var sT=a(51153),sN=a.n(sT),sb=a(42088),sE=a(43582),sy=a.n(sE),sS=a(22003),sA=a(97673);let sf=e=>{let{id:i="code-mirror",value:a="",height:s="75vh",width:l="75vw",className:n="text-start",extensions:r=[(0,sA.qy)()],onChange:o=e=>{var a;null==(a=document.getElementById(i))||a.setAttribute("data-value",e)}}=e;return(0,h.useEffect)(()=>{var e;null==(e=document.getElementById(i))||e.setAttribute("data-value",a)},[i,a]),(0,m.jsx)(sS.Ay,{id:i,value:a,height:s,width:l,className:n,extensions:r,onChange:o})},sj=`<svg width="2" height="14" viewBox="0 0 2 14" fill="none">
<path fillRule="evenodd" clipRule="evenodd" d="M0 13.9999L9.13912e-08 11.9999L2 11.9999L2 13.9999L0 13.9999ZM-2.62268e-07 7.99988L-1.70877e-07 5.99988L2 5.99988L2 7.99988L-2.62268e-07 7.99988ZM-5.24537e-07 1.99988L-4.33146e-07 -0.00012207L2 -0.000122158L2 1.99988L-5.24537e-07 1.99988Z" fill="#1E1E1E"/>
</svg>
`,sC=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;e.ui.registry.addMenuButton("toolbarActions",{icon:"verticalThreeDots",type:"menubutton",fetch:o=>{let d=a.current,u=[];if(l){let e=Object.entries(d??{});for(let i=0;i<e.length;i++){var c;let[,{question:a}]=e[i];if(a.questionNumber>=l)continue;let s=iO(q({prop:"question",language:n,l10ns:a.l10ns}));(null==(c=a.subquestions)?void 0:c.length)&&a.subquestions.map((e,i)=>{let l=iO(q({prop:"question",language:n,l10ns:e.l10ns}))||`A${i}`;u.push({title:`${a.title}: [${l}] ${s}`,value:`{${a.title}_${e.title}.shown}`})}),u.push({title:`${a.title}: ${s}`,value:`{${a.title}.shown}`})}}let m=Object.entries(s.current??{}).map(i=>{let[a,s]=i;return{type:"menuitem",text:`Participant attribute: ${s.description?s.description:a}`,onAction:()=>e.insertContent(`{TOKEN:${a.toUpperCase()}}`)}}),p=(null==u?void 0:u.map(i=>{var a;let s;return{type:"menuitem",text:(a=i.title,(s=document.createElement("textarea")).innerHTML=a,s.value),onAction:()=>e.insertContent(`${i.value}`),tooltip:t("My custom button")}}))||[],h=r?[]:[{type:"menuitem",text:t("Question ID"),onAction:()=>e.insertContent("{QID} ")},{type:"menuitem",text:t("Question ID group"),onAction:()=>e.insertContent("{GID} ")}];o([{type:"separator",text:t("Font size"),postRerender:!0},{type:"menuitem",text:t("Small"),onAction:()=>e.execCommand("FormatBlock",!1,"h3")},{type:"menuitem",text:t("Medium"),onAction:()=>e.execCommand("FormatBlock",!1,"h2")},{type:"menuitem",text:t("Large"),onAction:()=>e.execCommand("FormatBlock",!1,"h1")},{type:"separator"},{type:"separator",text:t("Actions")},{text:t("Edit as HTML"),type:"menuitem",onAction:()=>{i.current()}},{text:t("Placeholder fields"),type:"nestedmenuitem",getSubmenuItems:()=>[{type:"menuitem",text:t("Email address participant"),onAction:()=>e.insertContent("{TOKEN:EMAIL} ")},{type:"menuitem",text:t("First name participant"),onAction:()=>e.insertContent("{TOKEN:FIRSTNAME} ")},{type:"menuitem",text:t("Last name participant"),onAction:()=>e.insertContent("{TOKEN:LASTNAME} ")},...m,...h,{type:"menuitem",text:t("Survey ID"),onAction:()=>e.insertContent("{SID} ")},{type:"menuitem",text:t("Survey expiration date"),onAction:()=>e.insertContent("{EXPIRY} ")},{text:t("Fields based on previous answers"),type:"separator"},...p]}])}})},sO=e=>{let{testId:i,disabled:a=!1,onBlur:s,onFocus:l,handleOnChange:n,placeholder:r,value:o="",focus:d,showToolbar:u=!1,questionNumber:c,codeToQuestion:p=[],attributeDescriptions:g={},surveyHeader:v=!1,language:x}=e,I=(0,h.useRef)(null),[_,T]=(0,h.useState)(!0),[N,b]=(0,h.useState)(a),[E,y]=(0,h.useState)(o.replace(/(\{[^{}]+\})/g,"<badge>$1</badge>")),[S,A]=(0,h.useState)(!1),f=(0,h.useRef)(p),j=(0,h.useRef)(g),C=(0,h.useRef)(E),O=(0,h.useRef)();O.current=()=>{let e=C.current,i=sy().html(e,{indent_size:2,wrap_line_length:120,preserve_newlines:!0});ig({title:t("Edit HTML"),html:(0,m.jsx)(sf,{value:i}),showCloseButton:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Save",cancelButtonText:"Cancel",width:"80vw"}).then(e=>{if(e.isConfirmed){let e=document.getElementById("code-mirror").dataset.value;y(e),n(e),C.current=e}})};let w=(0,h.useMemo)(()=>`${iI(0,99999)}-${iI(0,99999)}-${iI(0,99999)}`,[]),q=()=>{S||y(C.current.replace(/<badge>(\{[^{}]+\})<\/badge>/g,"$1"))},M=()=>{S||y(C.current.replace(/(\{[^{}]+\})/g,"<badge>$1</badge>"))};return(0,h.useEffect)(()=>{f.current=p,j.current=g},[p,g]),(0,h.useEffect)(()=>{I.current&&(_&&T(!1),d&&I.current.focus())},[I.current]),(0,m.jsx)(sb.K,{onInit:(e,a)=>{I.current=a,T(!1),a.getBody().setAttribute("data-testid",i)},tinymceScriptSrc:"/editor/tinymce/js/tinymce/tinymce.min.js",onEditorChange:e=>{_||a||!S||(n(e),C.current=e)},id:w,disabled:N,initialValue:E,onFocus:()=>{b(!1),A(!0),q(),l()},onBlur:()=>{b(a||!1),A(!1),M(),s()},onMouseEnter:q,onMouseLeave:M,init:{setup:e=>{e.ui.registry.addIcon("verticalThreeDots",sj),e.ui.registry.addIcon("boldIcon",'<svg  viewBox="0 0 24 24" width="24" height="24"  ><path  d="M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"></path></svg>'),e.ui.registry.addIcon("italicIcon",'<svg viewBox="0 0 24 24" width="24" height="24"><path d="M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"></path></svg>'),e.ui.registry.addToggleButton("customItalic",{icon:"italicIcon",onAction:i=>{e.execCommand("mceToggleFormat",!i.isActive(),"italic")},onSetup:i=>{i.setActive(e.formatter.match("italic"));let a=e.formatter.formatChanged("italic",e=>i.setActive(e));return()=>a.unbind()}}),e.ui.registry.addToggleButton("customBold",{icon:"boldIcon",onAction:i=>{e.execCommand("mceToggleFormat",i.isActive(),"bold")},onSetup:i=>{i.setActive(e.formatter.match("bold"));let a=e.formatter.formatChanged("bold",e=>i.setActive(e));return()=>a.unbind()}}),e.ui.registry.addMenuButton("alignmentMenu",{icon:"align-left",type:"menubutton",fetch:i=>{i([{type:"menuitem",text:t("Align text left"),icon:"align-left",onAction:()=>{let i=e.selection.getNode();i&&(i.classList.remove("text-start"),i.classList.remove("text-end"),i.classList.remove("text-center"),i.classList.add("text-start")),e.focus()}},{type:"menuitem",text:t("Align text center"),icon:"align-center",onAction:()=>{let i=e.selection.getNode();i&&(i.classList.remove("text-start"),i.classList.remove("text-end"),i.classList.remove("text-center"),i.classList.add("text-center")),e.focus()}},{type:"menuitem",text:t("Align text right"),icon:"align-right",onAction:()=>{let i=e.selection.getNode();i&&(i.classList.remove("text-start"),i.classList.remove("text-center"),i.classList.remove("text-end"),i.classList.add("text-end")),e.focus()}}])}}),sC(e,O,f,j,c,x,v)},placeholder:r,menubar:!1,branding:!1,inline:!0,license_key:"gpl",valid_elements:"*[*]",valid_styles:"*[*]",plugins:["link"],verify_html:!1,disabled:a,toolbar:!!u&&"alignmentMenu customBold customItalic link toolbarActions",selector:w,forced_root_block:"p"}})};var sw=a(72479),sq=a.n(sw);let sM=e=>{let{onFocus:i,onBlur:a,disabled:s,handleOnChange:l,value:n,placeholder:r,replaceVariables:o,focus:d=!1,onKeyDown:u,testId:c=""}=e,[p]=j(z,{}),[g,v]=(0,h.useState)(n),[x,I]=(0,h.useState)(!1),_=(0,h.useRef)(null);return(0,h.useEffect)(()=>{x||v(o?iP(n,p):n)},[n,p,x]),(0,h.useEffect)(()=>{if(d&&_.current){var e;null==(e=_.current)||e.focus()}},[_.current]),(0,m.jsx)(sq(),{onFocus:()=>{I(!0),i()},onBlur:()=>{I(!1),a()},innerRef:_,className:"content-editable",disabled:s,html:null==g?void 0:g.toString(),onChange:e=>{let i,{target:{value:a}}=e;v(i=iO(a,["br","p"])),l(i)},"data-placeholder":r,autoFocus:d,onKeyDown:u,"data-testid":c})},sL=e=>{let{value:i="",placeholder:a="",className:s="",update:l=()=>{},onFocus:n=()=>{},onBlur:r=()=>{},onClick:o=()=>{},setErrors:d=()=>{},onKeyDown:u=()=>{},style:c={},testValidation:p,id:g,focus:v=!1,disabled:x=!1,replaceVariables:I=!1,editorRef:_,noPermissionDisabled:T=!1,noAccessDisabled:N=!1,showToolTip:b=!0,toolTipPlacement:E="top",testId:y="content-editor",showToolbar:S=!1,...A}=e,[f]=j(en),C=x||!f&&T||N,[O,w]=(0,h.useState)(!iO(i).trim()),q=!f&&T||N?ss().NO_PERMISSION:"",M=e=>{n(e)},L=e=>{r(e),d(D(iO(i)))},D=e=>{if(!p)return[];let i=p(e);return null==i?void 0:i.error},R=e=>{w(!iO(i).trim()),d&&!v&&d(D(iO(e))),e!=i&&l(e)};return(0,h.useEffect)(()=>{!d||v||d(D(iO(i)))},[]),(0,m.jsx)("div",{ref:_,style:c,onClick:()=>{o()},className:`content-editor ${s}`,id:g,children:(0,m.jsx)(sx,{tip:q,showTip:C&&b,placement:E,children:S?(0,m.jsx)(sO,{testId:y,disabled:C,onBlur:L,onFocus:M,handleOnChange:R,placeholder:a,value:i,focus:v,showToolbar:S,...A}):(0,m.jsx)(sM,{testId:y,disabled:C,onBlur:L,onFocus:M,handleOnChange:R,placeholder:a,value:i,replaceVariables:I,focus:v,onKeyDown:u,showToolbar:S,valueIsEmpty:O})})})},sD=sL.name;a(61874),a(1633),a(9700);var sR=a(77231),sP=a(90278),sk=a(89931);let sU=a.p+"static/image/no-image-found.fa150679.jpg",sH=e=>{iv(e)},sG=e=>{let{fileService:i,onChange:a=()=>{},onLoading:s=()=>{},onChangePreview:l=()=>{},onDelete:n=()=>{},previewUrlInit:r=null,cleanPreviewOnInitValueChange:o=!1,isValidImg:d=!0,labelText:u="",labelCommentText:c,emptyZoneText:p=t("Drop image here"),previewMaxHeight:g="300px",previewMaxWidth:v="100%",dataTestId:x="dropzone",trashIconEnabled:I=!0,disabled:_=!1,previewCover:T=!0}=e,[N,b]=(0,h.useState)(!1),[E,y]=(0,h.useState)(null),[S,A]=(0,h.useState)(!1),f=e=>{s(e),A(e)};(0,h.useEffect)(()=>{(r||o)&&y(r)},[r]);let j=(0,h.useCallback)(e=>{y(e),l(e)},[y,l]),C=(0,h.useCallback)(e=>{e.forEach(e=>{e.errors.forEach(i=>{sH(e.file.name+": "+i.message)})})},[sH]),{getRootProps:O,getInputProps:w}=(0,sR.VB)({onDropAccepted:e=>{e.forEach(async e=>{f(!0),j(URL.createObjectURL(e)),E&&URL.revokeObjectURL(E);let s=new FormData;s.append("file",e,e.name);let l={};try{l=await i.uploadSurveyImage(s)}catch(e){j(E),f(!1),e.response?sH("Upload failed with status code: "+e.response.status):sH(e.message);return}a(l.uploaded.filePath),j(l.uploaded.previewUrl),f(!1)})},onDropRejected:C,onError:e=>{sH(e.message)},maxFiles:1,maxSize:0x3200000,accept:{"image/png":[".png"],"image/jpeg":[".jpg"],"image/gif":[".gif"]},disabled:_}),q=(0,m.jsx)("div",{className:`position-absolute file-loading-btn-wrapper ${S?"":"d-none"}`,children:(0,m.jsx)("div",{style:{width:24,height:24},className:"loader"})}),M=(0,m.jsxs)("div",{className:sN()("dropzone",{disabled:_}),children:[(0,m.jsx)(tL,{className:"icon"}),(0,m.jsx)("p",{className:"label",children:p})]}),L=(0,m.jsxs)("div",{onMouseOver:()=>b(I&&!0),onMouseLeave:()=>b(!1),className:"position-relative",style:{maxHeight:g},children:[q,(0,m.jsx)(sP.A,{src:d?E:sU,alt:"Image Select List",style:{height:g,width:v,objectFit:T?"cover":"container"}}),(0,m.jsx)("div",{className:`position-absolute image-handle-btn-wrapper ${!S&&N?"":"d-none"}`,children:(0,m.jsx)(sk.A,{variant:"outline-light",className:"image-handle-btn ms-1",size:"sm",onClick:e=>{b(!1),j(null),a(""),n(),e.stopPropagation()},children:(0,m.jsx)(tg,{className:"text-primary fill-current"})})})]});return(0,m.jsxs)("div",{style:{cursor:"pointer",minwidth:"200px"},"data-testid":x,...O(),children:[(0,m.jsx)("input",{...w()}),u.length?(0,m.jsxs)(a1.A.Label,{children:[u,c&&(0,m.jsxs)("span",{className:"fw-normal ps-1",children:["(",c,")"]})]}):(0,m.jsx)(m.Fragment,{}),E?L:M]})};a(91625);var sV=a(63790);let sY=e=>{let{labelText:i,options:a=[],className:s="",dataTestId:l="",onChange:n=()=>{},update:r=()=>{},value:o,activeDisabled:d=!1,noPermissionDisabled:u=!1,noAccessDisabled:c=!1,onMenuClose:p=()=>{},onMenuOpen:g=()=>{},isMultiselect:v=!1,defaultValue:x=a[0],menuStyle:I={},placeholder:_=t("Please choose..."),menuPlacement:T="bottom"}=e,[N,b]=(0,h.useState)(!1),[E,y]=(0,h.useState)(!1);(0,h.useEffect)(()=>{try{(0,sI.jE)(),y(!0)}catch(e){y(!1)}},[]);let[S]=E?j(F):[!0],[A]=E?j(en):[!0],f=S&&d||!A&&u||c,C=S&&d?ss().ACTIVE_DISABLED:ss().NO_PERMISSION;return null!=o&&!v&&(null==a?void 0:a.length)&&(o=a.find(e=>e.value===o)),null!=x&&!v&&(null==a?void 0:a.length)&&(x=a.find(e=>e.value===x)),(0,m.jsxs)("div",{className:sN()(`select-component ${s}`,{"select-component-open":N}),"data-testid":l,children:[i&&(0,m.jsx)(a1.A.Label,{htmlFor:"select",children:i}),(0,m.jsx)(sx,{tip:C,showTip:f,children:(0,m.jsx)(sV.Ay,{classNames:{control:()=>"select"},classNamePrefix:"select",defaultValue:x,value:o,onChange:e=>{n(e),v?r(e.map(e=>e.value)):r(e.value)},options:a,placeholder:_,isMulti:v,menuPlacement:T,components:{IndicatorSeparator:()=>null},theme:e=>({...e,colors:{...e.colors,primary:"#8146F6"}}),styles:{menuPortal:e=>({...e,zIndex:4}),dropdownIndicator:e=>({...e,color:"#6E748C",minWidth:"fit-content"}),control:e=>({...e,borderRadius:"4px",borderWidth:"2px",borderColor:" #6E748C",boxShadow:"none",fontWeight:400,fontSize:"0.9975rem","&:hover":{borderColor:" #6E748C"}}),option:e=>({...e,whiteSpace:"normal",wordWrap:"break-word",zIndex:9999}),menu:e=>({...e,...I,width:"100%",minWidth:"min-content",whiteSpace:"normal",wordWrap:"break-word"})},isDisabled:f,isClearable:!1,onMenuOpen:()=>{b(!0),g()},onMenuClose:()=>{b(!1),p()}})})]})},sQ=sY.name;var sB=a(91154),sF=a.n(sB),sz=a(192),s$=a(36212);let sW=e=>{let{labelText:i,min:a=0,max:s=100,step:l=1,value:n=0,onChange:r=()=>{},showInput:o=!0,direction:d=sz.Direction.Right,showMinMax:u=!1,reverseMinMax:c=!1,thumbType:p="0",customUnicode:g=""}=e,[v,x]=(0,h.useState)([n>=a?n:a]),[I,_]=(0,h.useState)(!1),[T,N]=(0,h.useState)(d===sz.Direction.Right||d===sz.Direction.Left),b=h.useRef(null),E=e=>{x([...e])};return(0,h.useEffect)(()=>{_(!1),setTimeout(()=>{I&&r(v),_(!0)},0)},[v[0]]),(0,h.useEffect)(()=>{N(d===sz.Direction.Right||d===sz.Direction.Left)},[d]),(0,m.jsxs)("div",{className:"input-range","data-testid":"input-range",children:[i&&(0,m.jsx)(a1.A.Label,{children:i}),(0,m.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,m.jsxs)("div",{className:sN()("w-100 position-relative",{"d-flex":u&&!T}),style:{minWidth:"250px"},children:[u&&T&&(0,m.jsxs)("div",{className:"d-flex justify-content-between w-100 my-2",children:[(0,m.jsx)("div",{className:"text-muted small",children:c?s:a}),(0,m.jsx)("div",{className:"text-muted small",children:c?a:s})]}),u&&!T&&(0,m.jsxs)("div",{className:"d-flex flex-column justify-content-between min-h-100 mx-2",children:[(0,m.jsx)("div",{className:"text-muted small",children:c?s:a}),(0,m.jsx)("div",{className:"text-muted small",children:c?a:s})]}),(0,m.jsx)(sz.Range,{values:v,step:l,min:a,max:s,direction:d,onChange:E,renderTrack:e=>{let{props:i,children:l}=e;return(0,m.jsx)("div",{className:"input-range-track"+(T?"":" vertical"),onMouseDown:i.onMouseDown,onTouchStart:i.onTouchStart,style:{...i.style},children:(0,m.jsx)("div",{className:"input-range-track-background",ref:i.ref,style:{background:(0,sz.getTrackBackground)({values:v,colors:["#8146F6","#DDDEE8"],min:a,max:s,direction:d})},children:l})})},renderThumb:e=>{let{props:i,isDragged:a}=e;return(0,h.createElement)("div",{className:`input-range-handle type-${p} ${a?"active":""}`,...i,key:i.key,type:i.type,style:dy(i.style,a,p),children:[(()=>{if("3"===p&&g){let e=String.fromCharCode(parseInt(g,16));return(0,m.jsx)("i",{className:"fa",style:{fontFamily:"FontAwesome"},children:e})}return null})(),(0,m.jsx)("div",{className:"input-range-value "+(a||v[0].toFixed(1)!==n.toFixed(1)?"d-block":"d-none")+(T?"":" vertical"),"data-testid":"input-range-value",style:{display:a||v[0].toFixed(1)!==n.toFixed(1)?"block":"none",position:"absolute",top:T?"-36px":"-10px",right:!T&&"-42px",color:"#fff",fontWeight:"400",fontSize:"11px",padding:"4px",borderRadius:"4px",backgroundColor:"#000",minWidth:T&&"36px",textAlign:"center"},children:v[0].toFixed(1)},`value-${v[0]}`)]})}})]}),o&&(0,m.jsx)("div",{className:"input-range-input ms-2",children:(0,m.jsx)(s_,{value:v[0],onChange:e=>{let{target:{value:i}}=e;return E([parseFloat(i)||a])},min:a,max:s,inputRef:b})})]})]})},sZ=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={borderRadius:`${e.imageRadius||0}px`,filter:""},s=e.imageBrightness||0;return(a.filter=`brightness(${(s+100)/100})`,i)?Object.entries(a).map(e=>{let[i,a]=e,s=i.replace(/([A-Z])/g,"-$1").toLowerCase();return`${s}: ${a};`}).join(" "):a},sK=e=>{let i=(null==e?void 0:e[""])||e,a=i;if("string"==typeof i&&""!==i)try{a=JSON.parse(i)}catch(e){a={}}let s=(null==a?void 0:a.image_align)||"left",l=(null==a?void 0:a.image_brightness)||0,n=(null==a?void 0:a.image_zoom)||1,r=(null==a?void 0:a.image_rotate)||0,o=(null==a?void 0:a.image_radius)||0,d=(null==a?void 0:a.image_position_x)||.5,u=(null==a?void 0:a.image_position_y)||.5,c=(null==a?void 0:a.image_alt_text)||"",m=(null==a?void 0:a.image_path)||"",p=""!==m,h={hasQuestionImage:p,hasQuestionImageAsBackground:p&&"center"===s,imageAlign:s,imageBrightness:l,imageZoom:n,imageRotate:r,imageRadius:o,imagePositionX:d,imagePositionY:u,imageAltText:c,imagePath:m,imagePreviewUrl:m?""+m:null};return h.imageStyles=sZ(h),h},sX=()=>({imagePath:"",imageAlign:"left",imageBrightness:0,imageRadius:0,imageAltText:"",imageStyles:""}),sJ=e=>{let{showModal:i,onClose:a,imageObject:s,onChange:l}=e,n=(0,h.useRef)(null),[r,o]=(0,h.useState)(null),[d,u]=(0,h.useState)(!1);return((0,h.useEffect)(()=>{s&&o({...s})},[s]),r)?(0,m.jsxs)(s$.A,{show:i,onHide:a,children:[(0,m.jsx)(s$.A.Header,{closeButton:!0,children:(0,m.jsx)(s$.A.Title,{children:t("LimeSurvey Image Editor")})}),(0,m.jsx)(s$.A.Body,{children:(0,m.jsxs)("div",{className:" ",style:{width:"900px"},children:[(0,m.jsx)("div",{className:"w-50",children:(0,m.jsx)(sF(),{ref:n,border:50,color:[255,255,255,.6],image:r.imagePreviewUrl,scale:r.imageZoom||1,rotate:r.imageRotate||0,borderRadius:r.imageRadius||0,position:{x:r.imagePositionX||.5,y:r.imagePositionY||.5},onPositionChange:e=>{o(i=>({...i,imagePositionX:e.x,imagePositionY:e.y}))},width:300,height:300})}),(0,m.jsxs)("div",{className:"w-50",children:[(0,m.jsx)("div",{children:(0,m.jsx)(sW,{onChange:e=>o(i=>({...i,imageZoom:e[0]})),labelText:t("Zoom"),min:1,step:.1,max:4,direction:sz.Direction.Right,value:r.imageZoom||1})}),(0,m.jsx)("div",{children:(0,m.jsx)(sW,{onChange:e=>o(i=>({...i,imageRotate:e[0]})),labelText:t("Rotate"),min:0,step:1,max:360,direction:sz.Direction.Right,value:r.imageRotate||0})}),(0,m.jsx)("div",{children:(0,m.jsx)(sW,{onChange:e=>o(i=>({...i,imageRadius:e[0]})),labelText:t("Radius"),min:0,step:1,max:100,direction:sz.Direction.Right,value:r.imageRadius||0})})]})]})}),(0,m.jsxs)(s$.A.Footer,{children:[(0,m.jsx)(sk.A,{variant:"secondary",onClick:a,children:t("Close")}),(0,m.jsx)(sk.A,{variant:"primary",onClick:()=>{u(!0);try{let e={...s,imageZoom:r.imageZoom||1,imageRotate:r.imageRotate||0,imageRadius:r.imageRadius||0,imagePositionX:parseFloat(r.imagePositionX.toFixed(2))||.5,imagePositionY:parseFloat(r.imagePositionY.toFixed(2))||.5};e.imageStyles=sZ(e),l(e),a()}catch(e){alert(t("Unable to save image settings. Please try again."))}finally{u(!1)}},disabled:d,children:d?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),t("Saving...")]}):t("Save changes")})]})]}):(0,m.jsx)(m.Fragment,{})};var s0=a(13785);let s1=e=>{let{children:i,onDragStart:a,onDragEnd:s,droppableId:l,className:n,direction:r="vertical",dataTestId:o="drag-and-drop",isDropDisabled:d=!1,surveyActiveDisable:u=!0}=e,[c]=j(F),[p]=j(en);return(0,m.jsx)("div",{"data-testid":o,children:(0,m.jsx)(s0.JY,{onDragStart:a,onDragEnd:e=>{(c&&u||!p)&&iv(c&&u?ss().ACTIVE_DISABLED:ss().NO_PERMISSION),s(e)},children:(0,m.jsx)(s0.gL,{isDropDisabled:c&&u||d||!p,direction:r,droppableId:l,children:e=>(0,m.jsxs)("div",{className:n,ref:e.innerRef,...e.droppableProps,...e.droppableProps,children:[i,e.placeholder]})},l)})})};var s2=a(35943);let s3=e=>{let{value:i,update:a,labelText:s}=e;return(0,m.jsxs)("div",{children:[s&&(0,m.jsx)(a1.A.Label,{"data-testid":"align-buttons-label-text",children:s}),(0,m.jsxs)("div",{className:"lime-align-btn-group d-flex",children:[(0,m.jsx)("div",{"data-testid":"option-3",children:(0,m.jsxs)(s2.A,{id:"option-3",type:"radio",variant:"outline-lime-alignment",checked:"right"===i,onChange:()=>a("right"),className:"d-flex me-2","data-testid":"right-align-btn",children:[(0,m.jsx)("div",{className:"left-side align-items-center d-flex",children:(0,m.jsx)(ta,{className:"fill-current"})}),(0,m.jsx)("div",{className:"right-side"})]})}),(0,m.jsx)("div",{"data-testid":"option-1",children:(0,m.jsxs)(s2.A,{id:"option-1",type:"radio",variant:"outline-lime-alignment",checked:"left"===i,onChange:()=>a("left"),className:"d-flex me-2","data-testid":"left-align-btn",children:[(0,m.jsx)("div",{className:"right-side"}),(0,m.jsx)("div",{className:"left-side align-items-center d-flex justify-content-end",children:(0,m.jsx)(tl,{className:"fill-current"})})]})}),(0,m.jsx)("div",{"data-testid":"option-2",children:(0,m.jsx)(s2.A,{id:"option-2",type:"radio",variant:"outline-lime-alignment center-side",checked:"center"===i,onChange:()=>a("center"),className:"d-flex","data-testid":"center-align-btn",children:(0,m.jsx)("div",{className:"center-side align-items-center d-flex justify-content-center",children:(0,m.jsx)(ts,{className:"icon fill-current"})})})})]})]})};var s6=a(62516);let s4=e=>{let{id:i,toggleOptions:a,value:s="",defaultValue:l,labelText:n,onOffToggle:r=!0,name:o,height:d,isSecondary:u=!1,onChange:c=()=>{},update:p=()=>{},activeDisabled:g=!1,noPermissionDisabled:v=!1,noAccessDisabled:x=!1,optionTextClassName:I="",disabled:_,overlayMessage:T}=e,[N,b]=(0,h.useState)(!1);(0,h.useEffect)(()=>{try{(0,sI.jE)(),b(!0)}catch(e){b(!1)}},[]);let[E,y]=(0,h.useState)([]),[S]=N?j(F):[!0],[A]=N?j(en):[!0],f=_||S&&g||!A&&v||x,C=T||(S&&g?ss().ACTIVE_DISABLED:ss().NO_PERMISSION);(0,h.useEffect)(()=>{a?y(a):r?y(sh(sc)):y([{name:"Yes",value:"1"},{name:"Maybe",value:"0"},{name:"No",value:"-1"}])},[r,a]);let O=e=>s===e.value||void 0===s&&!1===e.value||(""===s||void 0===s)&&l===e.value;return(0,m.jsx)(sx,{tip:C,showTip:f,children:(0,m.jsxs)("div",{className:sN()("lime-toggle-btn-group",{isSecondary:u}),children:[n&&(0,m.jsx)(a1.A.Label,{className:"ui-label",children:n}),(0,m.jsx)(s6.A,{id:i,children:E.map((e,a)=>(0,m.jsx)(s2.A,{"data-testid":`toggleButton-${i}-option-${a}`,id:`toggleButton-${i}-option-${a}`,name:o||i||n,variant:"outline-lime-toggle",value:e.value,checked:O(e),onClick:()=>{c(e.value),p(e.value)},className:"toggle-button",disabled:f||e.disabled,type:"radio",children:(0,m.jsxs)("div",{style:{height:d&&d},className:`d-flex gap-2 justify-content-center align-items-center ${I}`,children:[e.icon&&(0,m.jsx)(e.icon,{size:24,color:O(e)?"#6e748c":"white"}),e.name]})},`toggleButton-${i}-option-${a}`))})]})})},s5=h.forwardRef(function(e,i){let{onClick:a=()=>{},id:s="",text:l,name:n="",Icon:r,iconSize:o=24,children:d,className:u="",style:c={},disabled:p=!1,variant:h="success",testId:g="button",value:v="",href:x=null,active:I=!1,size:_=""}=e;return(0,m.jsxs)(sk.A,{name:n||s,variant:h,onClick:a,style:{...c},className:`button ${u}`,id:s,disabled:p,ref:i,"data-testid":g,value:v,href:x,active:I,size:_,children:[r&&(0,m.jsx)("div",{className:"button-icon ",children:(0,m.jsx)(r,{size:o})}),l&&(0,m.jsx)(sq(),{className:"button-text",disabled:!0,html:l}),d]})}),s7=e=>{let{id:i,className:a="",dataTestId:s="",activeDisabled:l=!1,noPermissionDisabled:n=!1,noAccessDisabled:r=!1,type:o,groupName:d="",value:u,label:c,checked:p=null,defaultChecked:h=!1,update:g=()=>{},sendValueOnUpdate:v=!1}=e,[x]=j(F),[I]=j(en),_=x&&l||!I&&n||r,T=x&&l?ss().ACTIVE_DISABLED:ss().NO_PERMISSION;return(0,m.jsx)(sx,{tip:T,showTip:_,children:(0,m.jsx)(a1.A.Check,{disabled:_,type:o,id:i,name:d,label:c,value:u,className:`form-check-ui-component ${a}`,"data-testid":s,defaultChecked:h||p,onChange:e=>g(v?u:e.target.checked)})})},s9=s7.name,s8=e=>{let{id:i,labelText:a="",options:s=[],className:l="",optionClassName:n="",dataTestId:r="",onChange:o=()=>{},update:d=()=>{},activeDisabled:u=!1,noPermissionDisabled:c=!1,noAccessDisabled:p=!1,isCheckbox:g=!0,groupName:v="",value:x,hasReset:I=!0}=e,[_]=j(F),[T,N]=(0,h.useState)(x),[b]=j(en),E=_&&u||!b&&c||p,y=_&&u?ss().ACTIVE_DISABLED:ss().NO_PERMISSION;return(0,m.jsxs)("div",{className:sN()(`checkbox-radio-component ${l}`),"data-testid":r,children:[a&&(0,m.jsx)(a1.A.Label,{htmlFor:"select",children:a}),(0,m.jsx)(sx,{tip:y,showTip:E,children:(0,m.jsxs)(a1.A,{id:i,className:sN()(`checkbox-radio-component-form ${n}`),onChange:e=>{let i={...T,[e.target.value]:e.target.checked};N(i),o(i),d(i)},children:[s.map((e,i)=>(0,m.jsx)(a1.A.Check,{disabled:E,type:g?"checkbox":"radio",id:`${e.value}-${i}`,name:v,label:e.label,value:e.value,checked:x[e.value]},`${e.value}-${i}`)),I&&(0,m.jsx)("span",{className:"reset",onClick:()=>{let e;return e={},void(Object.keys(T).forEach(i=>{e[i]=!1}),N(e),o(e),d(e))},children:t("Reset")})]})})]})};var le=a(28833);let lt=e=>{let{color:i,onChange:a}=e,s=(0,h.useRef)(),[l,n]=(0,h.useState)(!1),r=(0,h.useCallback)(()=>n(!1),[]),o=(0,h.useCallback)(()=>n(!0),[]);return dJ(s,r),(0,m.jsxs)("div",{className:"picker",children:[(0,m.jsxs)("div",{className:"swatch-container",onClick:o,children:[(0,m.jsx)("div",{className:"swatch",style:{backgroundColor:i}}),(0,m.jsx)(tB,{})]}),l&&(0,m.jsx)("div",{className:"popover",ref:s,children:(0,m.jsx)("section",{className:"custom-picker",children:(0,m.jsx)(le.jI,{color:i,onChange:a})})})]})},li=e=>{let{onChange:i=()=>{},update:a=()=>{},value:s}=e,[l,n]=(0,h.useState)(s),r=(0,h.useRef)(null),o=(0,h.useCallback)(e=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{i(e),a(e),r.current=null},400)},[i,a]),d=(0,h.useCallback)(e=>{n(e),o(e)},[o]);return(0,h.useEffect)(()=>{n(s)},[s]),(0,h.useEffect)(()=>()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),(0,m.jsx)(lt,{color:l,onChange:d})},la=e=>{let{OnPageNumberClick:i=()=>{},onNextPageClick:a=()=>{},onPrevPageClick:s=()=>{},onFirstPageClick:l=()=>{},onLastPageClick:n=()=>{},onPageSizeChange:r=()=>{},canGoNextPage:o=!1,canGoPrevPage:d=!1,currentPageIndex:u=0,totalPages:c=0,maxNumberOfButtons:p=5,pageSize:g=10}=e,v=(0,h.useMemo)(()=>{let e=Math.max(1,u+1-Math.floor(p/2)),i=Math.min(c,e+(p-1)),a=[];for(let s=e;s<=i;s++)a.push(s);return a},[u,c,p]);return(0,m.jsxs)("div",{className:"pagination-buttons",children:[(0,m.jsx)(s5,{className:`pagination-button arrows ${!d?"disabled":""}`,variant:"outline-dark",onClick:l,disabled:!d,children:(0,m.jsx)("div",{className:"rotate-180",children:(0,m.jsx)(tX,{})})}),(0,m.jsx)(s5,{className:`pagination-button arrows${!d?"disabled":""}`,variant:"outline-dark",onClick:s,disabled:!d,children:(0,m.jsx)("div",{className:"rotate-180",children:(0,m.jsx)(tK,{})})}),v.map(e=>(0,m.jsx)(s5,{onClick:()=>i(e-1),className:`pagination-button ${u+1===e?"active":""}`,variant:"outline-dark",children:e},`pagination-${e}`)),(0,m.jsx)(s5,{className:"pagination-button arrows",variant:"outline-dark",onClick:a,disabled:!o,children:(0,m.jsx)(tK,{})}),(0,m.jsx)(s5,{className:"pagination-button arrows",variant:"outline-dark",onClick:n,disabled:!o,children:(0,m.jsx)(tX,{})}),(0,m.jsxs)("span",{className:"ps-4",children:[" ",t("Rows per page")]}),(0,m.jsx)(sV.Ay,{options:[{value:10,label:10},{value:20,label:20},{value:50,label:50},{value:100,label:100}],defaultValue:{value:g,label:g},onChange:e=>{let{value:i}=e;return r(i)},className:"pagination-select",menuPlacement:"top",theme:e=>({...e,colors:{...e.colors,primary:"#8146F6"}}),components:{IndicatorSeparator:()=>null},styles:{control:e=>({...e,fontWeight:400,minHeight:24,minWidth:60,color:"$g-900",borderColor:"$g-700"}),indicatorsContainer:e=>({...e,minHeight:24}),dropdownIndicator:e=>({...e,padding:0,color:"$g-900"}),option:e=>({...e,whiteSpace:"normal",wordWrap:"break-word",zIndex:9999}),menu:e=>({...e,width:"100%",minWidth:"min-content",whiteSpace:"normal",wordWrap:"break-word",color:"$g-900",zIndex:99})}})]})};var ls=a(4113);let ll=e=>{let{menuItems:i=[],toggleSettings:a={iconClassName:"ri-more-fill",variant:"light",id:"",title:""}}=e;return(0,m.jsxs)(ls.A,{className:"lsr-dropdown",align:"end",children:[(0,m.jsxs)(ls.A.Toggle,{variant:a.variant,className:"button me-2",id:a.id,role:"menu",children:[(0,m.jsx)("i",{className:a.iconClassName}),a.title]}),(0,m.jsx)(ls.A.Menu,{children:i.map((e,i)=>{let{type:a,label:s,icon:l,url:n,onClick:r,disabled:o={}}=e;return(0,m.jsxs)(h.Fragment,{children:["header"===a&&(0,m.jsx)(ls.A.Header,{children:s}),"divider"===a&&(0,m.jsx)(ls.A.Divider,{}),("item"===a||!a)&&(0,m.jsx)(sx,{tip:o.tooltip,showTip:o.state&&o.tooltip,children:(0,m.jsxs)(ls.A.Item,{disabled:o.state,href:n||"#",onClick:r,children:[(0,m.jsx)("i",{className:l}),s]})})]},`${s}-dropdown-${a}-${i}`)})})]})};var ln=a(30976),lr=a(23493);let lo=e=>{var i,a,s,l;let{startDate:n=null,endDate:r=null,minDate:o=new Date("2000-04-17T15:30"),maxDate:d=new Date("2050-04-17T15:30"),onUpdate:u=()=>{},dateFormat:c="yyyy-MM-dd"}=e,[p,g]=(0,h.useState)([{startDate:n,endDate:r,key:"selection"}]),[v,x]=(0,h.useState)([{startDate:n,endDate:r,key:"selection"}]),[I,_]=(0,h.useState)(!1),T=(0,h.useRef)(null),[N,b]=(0,h.useState)({top:0,left:0}),E=dQ(()=>{_(!1)});return(0,m.jsxs)("div",{ref:T,className:"date-range-picker",children:[(0,m.jsxs)("div",{className:"date-range-placeholder",onClick:()=>{let e=T.current.getBoundingClientRect();b({top:e.bottom-120,left:e.left-120}),_(!0)},children:[(null==(i=p[0])?void 0:i.startDate)&&(0,lr.GP)(null==(a=p[0])?void 0:a.startDate,c)," —"," ",(null==(s=p[0])?void 0:s.endDate)&&(0,lr.GP)(null==(l=p[0])?void 0:l.endDate,c)]}),I&&(0,m.jsx)("div",{className:"date-range-container",style:{top:N.top,left:N.left},children:(0,m.jsxs)("div",{ref:E,className:"date-range-component",children:[(0,m.jsx)(ln.DateRangePicker,{editableDateInputs:!0,onChange:e=>{x([e.selection])},ranges:v,minDate:o,maxDate:d,scroll:{enabled:!0}}),(0,m.jsxs)("div",{className:"action-buttons",children:[(0,m.jsx)(s5,{variant:"outline-secondary",onClick:()=>{g([{startDate:null,endDate:null,key:"selection"}]),_(!1),u([{startDate:null,endDate:null,key:"selection"}])},children:t("Clear")}),(0,m.jsx)(s5,{variant:"outline-secondary",onClick:()=>{x(p),_(!1)},children:t("Cancel")}),(0,m.jsx)(s5,{variant:"outline-info",onClick:()=>{var e,i;g(v),u([{startDate:(0,lr.GP)(null==(e=v[0])?void 0:e.startDate,c),endDate:(0,lr.GP)(null==(i=v[0])?void 0:i.endDate,c)}]),_(!1)},children:t("Confirm")})]})]})})]})};var ld=a(41900);let lu=h.memo(e=>{let{height:i}=e;return(0,m.jsxs)("div",{style:{height:i},children:[(0,m.jsx)(ld.A,{height:"24px",width:"80%",style:{marginBottom:"5px"}}),(0,m.jsx)(ld.A,{height:"16px",count:3})]})});lu.displayName="QuestionSkeleton";let lc=()=>{let{showFeedbackForm:e}=d1();return(0,m.jsx)(sx,{offset:[0,20],placement:"top",tip:t("Help us with your feedback"),children:(0,m.jsx)("span",{className:"cursor-pointer",onClick:()=>e(),children:(0,m.jsx)(tP,{})})})},lm=()=>(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex gap-4 flex-column justify-content-center align-items-center",children:[(0,m.jsx)("h1",{children:"404"})," ",t("Page doesn't exist")]}),lp=()=>({HUGE_FREE_TEXT:{type:"U",theme:"hugefreetext",title:t("Huge text")},INPUT_ON_DEMAND:{type:"Q",theme:"inputondemand",title:t("Input on demand")},LANGUAGE_SWITCH:{type:"I",theme:"language",title:t("Language switch")},LIST_DROPDOWN_DEFAULT:{type:"!",theme:"list_dropdown",title:t("List dropdown")},ARRAY_FIVE_POINT:{type:"A",theme:"arrays/5point",title:t("Array five points")},ARRAY_TEN_POINT:{type:"B",theme:"arrays/10point",title:t("Array ten points")},ARRAY_INCREASE_SAME_DECREASE:{type:"E",theme:"arrays/increasesamedecrease",title:t("Array increase, same, and decrease")},ARRAY_YES_NO_UNCERTAIN:{type:"C",theme:"arrays/yesnouncertain",title:t("Array yes, no, and uncertain")}}),lh=()=>({ARRAY:{type:"F",theme:"arrays/array",title:t("Array (Point choice)")},ARRAY_TEXT:{type:";",theme:"arrays/texts",title:t("Array (Texts)")},ARRAY_NUMBERS:{type:":",theme:"arrays/multiflexi",title:t("Array (Numbers)")},ARRAY_COLUMN:{type:"H",theme:"arrays/column",title:t("Array by column")},ARRAY_DUAL_SCALE:{type:"1",theme:"arrays/dualscale",title:t("Array dual scale")},MULTIPLE_CHOICE:{type:"M",theme:"multiplechoice",title:t("Multiple choice")},MULTIPLE_CHOICE_WITH_COMMENTS:{type:"P",theme:"multiplechoice_with_comments",title:t("Multiple choice with comments")},MULTIPLE_SHORT_TEXTS:{type:"Q",theme:"multipleshorttext",title:t("Multiple short texts")},MULTIPLE_NUMERICAL_INPUTS:{type:"K",theme:"multiplenumeric",title:t("Multiple numerical inputs")},MULTIPLE_CHOICE_BUTTONS:{type:"M",theme:"bootstrap_buttons_multi",title:t("Multiple choice buttons")},MULTIPLE_CHOICE_IMAGE_SELECT:{type:"M",theme:"image_select-multiplechoice",title:t("Image select multiple choice")},SINGLE_CHOICE_LIST_RADIO:{type:"L",theme:"listradio",title:t("List (Radio)")},SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT:{type:"O",theme:"list_with_comment",title:t("List with comment (Radio)")},SINGLE_CHOICE_IMAGE_SELECT:{type:"L",theme:"image_select-listradio",title:t("List image select (Radio)")},SINGLE_CHOICE_BUTTONS:{type:"L",theme:"bootstrap_buttons",title:t("Single choice buttons")},SINGLE_CHOICE_DROPDOWN:{type:"!",theme:"bootstrap_dropdown",title:t("Dropdown")},SINGLE_CHOICE_FIVE_POINT_CHOICE:{type:"5",theme:"5pointchoice",title:t("5 point choice")},SHORT_TEXT:{type:"S",theme:"shortfreetext",title:t("Short text")},NUMERIC:{type:"N",theme:"numerical",title:t("Numerical input")},LONG_TEXT:{type:"T",theme:"longfreetext",title:t("Long text")},BROWSER_DETECTION:{type:"S",theme:"browserdetect",title:t("Map/browser detection")},QUESTION_GROUP:{type:"QG",theme:"QuestionGroup",title:t("Question group"),isQuestionType:!1},RATING:{type:"RT",theme:"rating",title:t("Rating"),hidden:!0},GENDER:{type:"G",theme:"gender",title:t("Gender")},YES_NO:{type:"Y",theme:"yesno",title:t("Yes/No")},DATE_TIME:{type:"D",theme:"date",title:t("Date/Time")},RANKING:{type:"R",theme:"ranking",title:t("Ranking")},RANKING_ADVANCED:{type:"R",theme:"ranking_advanced",title:t("Ranking advanced")},FILE_UPLOAD:{type:"|",theme:"file_upload",title:t("File upload")},TEXT_DISPLAY:{type:"X",theme:"boilerplate",title:t("Text display")},EQUATION:{type:"*",theme:"equation",title:t("Equation")},WELCOME_SCREEN:{type:"WS",theme:"WelcomeScreen",title:t("Welcome screen"),isQuestionType:!1},END_SCREEN:{type:"ES",theme:"EndScreen",title:t("End screen"),isQuestionType:!1}}),lg=[lh().SINGLE_CHOICE_LIST_RADIO.theme,lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme,lh().SINGLE_CHOICE_DROPDOWN.theme,lh().SINGLE_CHOICE_BUTTONS.theme,lh().SINGLE_CHOICE_IMAGE_SELECT.theme,lp().LANGUAGE_SWITCH.theme,lp().LIST_DROPDOWN_DEFAULT.theme],lv=e=>{let{question:i={},surveySettings:a={},values:s=[],participantMode:l=!1,onValueChange:n=()=>{}}=e,r=!(null==i?void 0:i.mandatory)&&(null==a?void 0:a.showNoAnswer),o=l?s[0]:{};return(0,m.jsxs)("div",{className:"d-flex gap-4 mb-3 flex-wrap question-body-content",children:[Object.values([1,2,3,4,5]).map((e,a)=>{var s;return(0,m.jsx)(s7,{type:"radio",label:(0,m.jsx)(sL,{className:"choice",value:e,disabled:!0}),name:`${i.qid}-five-point`,"data-testid":"five-point-choice-question-answer",value:e,className:"choice",defaultChecked:(null==o||null==(s=o.value)?void 0:s.toString())===(a+1).toString(),update:()=>n(a+1,o.key),groupName:o.key},`${i.qid}-five-point-${e}`)}),r&&(0,m.jsx)(s7,{type:"radio",label:aX(!0),name:`${i.qid}-five-point`,"data-testid":"five-point-choice-question-answer",value:"",className:"choice",update:()=>n(null,o.key),groupName:o.key,defaultChecked:!o.checked},`${i.qid}-five-point-empty`)]})},lx=e=>{let{attributes:i={},value:a,onValueChange:s}=e,l=aE(i.maximum_chars);return(0,m.jsx)(a1.A.Control,{onClick:e=>{e.stopPropagation()},placeholder:st("Enter your answer here."),as:"textarea",type:"textarea",role:"textarea",rows:4,maxLength:l||1/0,"data-testid":"text-question-answer-input",className:"long-text-answer",defaultValue:a,onChange:e=>s(e.target.value)})},lI=e=>{let{attributes:i={},value:a="",language:s="en",onValueChange:l}=e,n=aE(i.maximum_chars),r=iq(aE(i.numbers_only,s));return(0,m.jsx)("div",{className:"question-body-content",children:(0,m.jsx)("div",{className:"d-flex gap-2 align-items-center justify-content-center",children:(0,m.jsx)(a1.A.Group,{className:"flex-grow-1",children:(0,m.jsx)(a1.A.Control,{maxLength:n||1/0,type:"text",placeholder:st("Enter your answer here."),onKeyDown:e=>{let i=e.target.value;n&&"Backspace"!==e.key&&i.length>=n&&e.preventDefault(),n&&i.length>n&&(e.target.value="")},"data-testid":"text-question-answer-input",defaultValue:a,onChange:e=>{let{target:{value:i}}=e;r&&(i=dA(i)),l(i)}})})})})},l_=e=>{let{value:i,onValueChange:a}=e;return(0,m.jsx)("div",{className:"question-body-content",children:(0,m.jsx)("div",{className:"d-flex gap-2 align-items-center justify-content-center",children:(0,m.jsx)(a1.A.Group,{className:"flex-grow-1",children:(0,m.jsx)(a1.A.Control,{type:"text",placeholder:st("Enter your answer here."),"data-testid":"text-question-answer-input",defaultValue:i,onChange:e=>a(dA(e.target.value))})})})})};var lT=a(47436),lN=a.n(lT),lb=a(73627),lE=a(3096),ly=a(88548),lS=a(46854),lA=a(78429),lf=a.n(lA);let lj=()=>{let e=new(lf()).Icon({iconUrl:"https://unpkg.com/leaflet@1.5.1/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});return(0,m.jsxs)(lb.W,{center:[53.61422133647984,9.972816890552014],zoom:8,style:{height:"350px",width:"100%"},children:[(0,m.jsx)(lE.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,m.jsx)(ly.p,{icon:e,position:[53.61422133647984,9.972816890552014],children:(0,m.jsx)(lS.z,{children:t("You are here!")})})]})},lC=e=>{var i,a,s;let{attributes:l={}}=e,[n,r]=(0,h.useState)(!1),o=aE(l.location_mapservice);return(0,h.useEffect)(()=>{var e,i;let{browser:a,os:s}=lN().parse(window.navigator.userAgent);r((null==l||null==(i=l.add_platform_info)||null==(e=i[""])?void 0:e.value)==="yes"?`${a.name} (${a.version}) | ${s.name} (${s.versionName})`:`${a.name} (${a.version})`)},[null==l?void 0:l.add_platform_info]),(0,m.jsxs)("div",{className:"question-body-content",children:["0"===o&&(0,m.jsxs)("div",{className:"d-flex gap-2 align-items-center justify-content-center",children:[(null==(i=l.prefix)?void 0:i.value)&&(0,m.jsx)(sL,{disabled:!0,value:null==(a=l.prefix)?void 0:a.value}),(0,m.jsx)(a1.A.Group,{className:"flex-grow-1",children:(0,m.jsx)(a1.A.Control,{type:"text",placeholder:st("Enter your answer here."),"data-testid":"text-question-answer-input",value:n,disabled:!0})}),l.suffix&&(0,m.jsx)(sL,{disabled:!0,value:null==(s=l.suffix)?void 0:s.value})]}),"1"===o&&(0,m.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2366.8538614773024!2d9.968793577861623!3d53.61390947236818!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47b1892bf70bdec9%3A0xee50470c12b1ae5e!2sLimeSurvey%20GmbH!5e0!3m2!1sen!2sde!4v1751636509270!5m2!1sen!2sde",width:"100%",height:"450",loading:"lazy"}),"100"===o&&(0,m.jsx)(lj,{})]})},lO=e=>{let{question:{questionThemeName:i,attributes:a},values:s=[],onValueChange:l=()=>{}}=e,n=(null==s?void 0:s[0])||{},r=e=>{l(e,n.key)};return(0,m.jsxs)("div",{className:"question-body-content",children:[i===lh().NUMERIC.theme&&(0,m.jsx)(l_,{value:n.value,onValueChange:r}),(i===lh().LONG_TEXT.theme||i===lp().HUGE_FREE_TEXT.theme)&&(0,m.jsx)(lx,{attributes:a,value:n.value,onValueChange:r}),i===lh().SHORT_TEXT.theme&&(0,m.jsx)(lI,{attributes:a,value:n.value,onValueChange:r}),i===lh().BROWSER_DETECTION.theme&&(0,m.jsx)(lC,{attributes:a})]})},lw=e=>{var i,a,s;let{question:l,handleUpdate:n}=e,r=l&&l.answers?l.answers[0]:[],[o,d]=(0,h.useState)(-1),u=e=>{d(e)};return(0,m.jsx)("div",{className:"start-rating-question","data-testid":"rating-question",children:(0,m.jsx)(a1.A,{className:"py-2",children:(0,m.jsx)("div",{className:"flex-wrap question-body-content d-flex",children:Array(parseInt(null==l||null==(s=l.attributes)||null==(a=s.items_count)||null==(i=a[""])?void 0:i.value)||5).fill("-").map((e,i)=>{var a,s,d;return(0,m.jsx)("div",{onMouseOver:()=>u(i),onMouseLeave:()=>u(-1),onClick:()=>{n({answers:[{...r,value:i}]})},className:sN()("me-3"),"data-testid":"rate-question-star-div",children:(null==l||null==(d=l.attributes)||null==(s=d.items_type)||null==(a=s[""])?void 0:a.value)==="stars"?(0,m.jsx)(tC,{className:`fill-current cursor-pointer ${i<=(null==r?void 0:r.value)||i<=o?"text-primary":"text-secondary"}`}):(0,m.jsx)("p",{className:`text-center star-rating-counter cursor-pointer ${i<=(null==r?void 0:r.value)||i<=o?"text-primary":"text-secondary"}`,children:i+1})},`${null==l?void 0:l.qid}-rating-question-${i}`)})})})})},lq=e=>{let{id:i,idPrefix:a,index:s,inputType:l="checkbox",isFocused:n,update:r,value:o,isNoAnswer:d,errors:u,setErrors:c=()=>{}}=e,[p,g]=(0,h.useState)(!1),{fileService:v}=dU(),[x,I]=(0,h.useState)(o?""+o:null),_=(0,h.useMemo)(()=>0===String(i).indexOf("temp__"),[i]),T=/(<([^>]+)>)/i,N=(0,h.useMemo)(()=>!T.test(o),[o]),b=a+i+"-i"+s,E=(n||p)&&!_;return(0,h.useEffect)(()=>{I(o?""+o:null)},[o]),(0,h.useEffect)(()=>{let e=null;N||d||(e=(0,m.jsx)("div",{className:"error-message",children:(0,m.jsx)("a",{href:"https://www.limesurvey.org/manual/Image_Question_HTML_Image_Value",target:"_blank",rel:"noreferrer",children:t("This image is not valid. Click here for more info.")})})),c({invalidImage:e,...u})},[N,d]),(0,m.jsx)("div",{className:"pe-4",children:(0,m.jsxs)("div",{className:"d-flex gap-2",children:[!n&&(0,m.jsx)(s7,{type:l,className:"pointer-events-none",name:"image-choice-"+b,"data-testid":"image-choice-"+b,label:d?aX(!0):""}),n&&(0,m.jsx)("div",{children:"\xa0"}),!d&&!_&&(0,m.jsxs)("div",{className:"border border-3 border-secondary rounded",children:[(0,m.jsx)("div",{className:sN()({"d-none":E}),children:(0,m.jsx)(sP.A,{src:x&&N?x:sU,alt:"Image Select List",height:"100%",style:{maxHeight:"160px",backgroundSize:"cover"}})}),(0,m.jsx)("div",{className:sN()({"d-none":!E}),children:(0,m.jsx)(sG,{dataTestId:"dropzone-"+b,previewUrlInit:x,fileService:v,previewMaxHeight:"160px",onChange:e=>{r(encodeURI(e))},onChangePreview:e=>{I(e)},isValidImg:N,onLoading:e=>g(e)})})]}),n&&_&&!d&&(0,m.jsx)("div",{style:{width:44,height:44},className:"loader ms-4"})]})})},lM=e=>{let{attributes:i,text:a,defaultValue:s,onChange:l,participantMode:n=!1}=e,{slider_orientation:r,slider_min:o,slider_max:d,slider_accuracy:u,slider_reversed:c,slider_middlestart:p,slider_showminmax:h,slider_separator:g,slider_default:v,slider_default_set:x,slider_handle:I,slider_custom_handle:_}=i,T=aE(r)??"0",N="1"===aE(c),b="0"===T,E=b?N?sz.Direction.Left:sz.Direction.Right:N?sz.Direction.Up:sz.Direction.Down,y=aE(o)||0,S=aE(d)||100,A=aE(u)||1,f=s?+s:"1"===aE(p)?(+S+ +y)/2:+y,j=e=>e>+S?+S:e<+y?+y:e,C=j(f),O="1"===aE(x),w=aE(v),q=O&&w?j(+w):C,M="1"===aE(h),{leftText:L,rightText:D}=dE(a,aE(g)),R=N?D:L,P=N?L:D,k=aE(I),U=aE(_);return(0,m.jsxs)("div",{className:sN()({"d-flex":M,"d-flex flex-column":b,"d-flex flex-row":!b}),children:[!b&&(L||D)&&(0,m.jsxs)("div",{className:"d-flex flex-column justify-content-between min-h-100 me-2",children:[(0,m.jsx)("div",{className:"text-muted small",children:R}),(0,m.jsx)("div",{className:"text-muted small",children:P})]}),(0,m.jsx)(sW,{showInput:!1,direction:E||sz.Direction.Right,min:+y,max:+S,step:+A,value:n?Number(s)??q:q,showMinMax:M,reverseMinMax:N,thumbType:k,customUnicode:U,onChange:l}),b&&(L||D)&&(0,m.jsxs)("div",{className:"d-flex justify-content-between w-100 mt-2",children:[(0,m.jsx)("div",{className:"text-muted small",children:R}),(0,m.jsx)("div",{className:"text-muted small",children:P})]})]})},lL=e=>{let{onChange:i,attributes:a,childrenInfo:s,language:l,child:n,hasSliderLayout:r=!1,valueInfo:o={},participantMode:d=!1}=e;return r?(0,m.jsx)(lM,{attributes:a,text:q({prop:s.titleKey,language:l,l10ns:n.l10ns}),defaultValue:null==o?void 0:o.value,onChange:e=>{let[a]=e;i(a)},participantMode:d}):(0,m.jsx)(a1.A.Group,{children:(0,m.jsx)(a1.A.Control,{type:"text",placeholder:st("Enter your answer here."),"data-testid":"text-question-answer-input",defaultValue:d&&(null==o?void 0:o.value)?Number(null==o?void 0:o.value):void 0,onChange:e=>{let a=dA(e.target.value);i&&i(a)}})})};lh().SINGLE_CHOICE_DROPDOWN.theme,lp().LANGUAGE_SWITCH.theme,lp().LIST_DROPDOWN_DEFAULT.theme;var lD=a(64709);let lR=e=>{let{fileRejections:i}=e;return(0,m.jsx)("ul",{children:i.map(e=>{let{file:i,errors:a}=e;return(0,m.jsxs)("li",{children:[i.path," - ",(0,lD.format)(t("%s bytes"),i.size),(0,m.jsx)("ul",{children:a.map(e=>(0,m.jsx)("li",{className:"text-danger",children:e.message},e.code))})]},i.path)})})},lP=e=>{var i,a,s,l;let{file:n,index:r,onEdit:o,onDelete:d,onMetadataChange:u,question:c}=e,p=null==c||null==(a=c.attributes)||null==(i=a.showTitle)?void 0:i.value,h=null==c||null==(l=c.attributes)||null==(s=l.showComment)?void 0:s.value,g=n.title||"",v=n.comment||"";return(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("div",{className:"position-relative image-wrapper",style:{maxWidth:"300px",background:"rgba(0, 0, 0, 0.05)"},children:[(0,m.jsx)("img",{src:n.preview,alt:n.name,className:"bg-light",style:{width:"100%",minHeight:"100px",borderRadius:`${1.5*n.radius}px`}}),(0,m.jsxs)("div",{className:"position-absolute image-handle-btn-wrapper",children:[(0,m.jsx)(sk.A,{variant:"outline-light",className:"image-handle-btn ms-1",size:"sm",onClick:()=>o(r),children:(0,m.jsx)(tx,{className:"text-primary fill-current"})}),(0,m.jsx)(sk.A,{variant:"outline-light",className:"image-handle-btn ms-1",size:"sm",onClick:()=>d(r),children:(0,m.jsx)(tg,{className:"text-primary fill-current"})})]})]}),p&&(0,m.jsxs)("div",{children:[(0,m.jsx)(a1.A.Label,{children:t("Title")}),(0,m.jsx)(a1.A.Control,{placeholder:st("Enter your answer here"),"data-testid":"text-question-answer-input",value:g,onChange:e=>{u(r,"title",e.target.value)}})]}),h&&(0,m.jsxs)("div",{className:"mt-1",children:[(0,m.jsx)(a1.A.Label,{children:st("Comment")}),(0,m.jsx)(a1.A.Control,{placeholder:st("Enter your answer here"),as:"textarea",rows:4,maxLength:1/0,"data-testid":"text-question-answer-input",value:v,onChange:e=>{u(r,"comment",e.target.value)}})]})]})},lk=e=>{let{files:i,question:a,onValueChange:s}=e,l=(e,a,l)=>{let n=[...i];n[l]={...n[l],[a]:e},s(JSON.stringify(n),i[l].key)};return i.length?(0,m.jsx)(m.Fragment,{children:null==i?void 0:i.map((e,s)=>(0,m.jsxs)("div",{className:"w-50",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between my-2 align-items-center",children:[t("File name"),":",(0,m.jsx)(s_,{update:e=>l(e,"name",s),className:"w-75",value:e.name})]}),(0,m.jsxs)("div",{className:"d-flex justify-content-between my-2 align-items-center",children:[t("Title"),":",(0,m.jsx)(s_,{update:e=>l(e,"title",s),className:"w-75",value:e.title})]}),(0,m.jsxs)("div",{className:"d-flex justify-content-between my-2 align-items-center",children:[t("Comment"),":",(0,m.jsx)(s_,{update:e=>l(e,"comment",s),className:"w-75",value:e.comment})]}),(0,m.jsx)(sk.A,{disabled:e.isDeleted,href:`${location.protocol}//${location.hostname}/responses/downloadfile?surveyId=${a.sid}&responseId=${e.responseId}&qid=${a.qid}&index=${s}`,target:"_blank",rel:"noreferrer",variant:e.isDeleted?"outline-danger":"outline-info",children:e.isDeleted?"File has been deleted":(0,m.jsxs)(m.Fragment,{children:[t("Download file")," ",Math.max(e.approxFileSizeInMB,.1),t("MB")]})}),s!==i.length-1&&(0,m.jsx)("hr",{})]},`${e.size}-${s}`))}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("h1",{children:t("No files uploaded")})})},lU={jpg:"image/jpeg",jpeg:"image/jpeg",jfif:"image/jpeg",jpe:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",txt:"text/plain",csv:"text/csv",xml:"text/xml",json:"application/json",html:"text/html",htm:"text/html",css:"text/css",js:"application/javascript",md:"text/markdown",log:"text/plain",sql:"text/plain",py:"text/x-python",java:"text/x-java-source",c:"text/x-c",cpp:"text/x-c++",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},lH=e=>{var i,a,s,l;let{question:n,values:r=[],participantMode:o,onValueChange:d=()=>{}}=e,[u,c]=(0,h.useState)([]),[p,g]=(0,h.useState)(!1),[v,x]=(0,h.useState)(-1),[I,_]=(0,h.useState)(null),[T,N]=(0,h.useState)((0,i_.cloneDeep)(r)),b=function(e){if(!e)return{};let i=e.split(","),a={};return i.forEach(e=>{let i=e.trim(),s=lU[i];if(!s)return null;a[s]?a[s].push(`.${i}`):a[s]=[`.${i}`]}),a}(null==n||null==(a=n.attributes)||null==(i=a.allowedFileTypes)?void 0:i.value),E=null==n||null==(l=n.attributes)||null==(s=l.maximumFileSizeAllowed)?void 0:s.value,{getRootProps:y,getInputProps:S,fileRejections:A}=(0,sR.VB)({onDrop:e=>{c(i=>[...i,...e.map(e=>({...e,origin:URL.createObjectURL(e),preview:URL.createObjectURL(e),zoom:1,rotate:0,radius:0}))])},disabled:!0,accept:b,maxFiles:1,maxSize:E?1024*E:1024e6}),f=e=>{c(i=>{let a=[...i];return a.splice(e,1),a})},j=e=>{x(e),_(u[e]),g(!0)},C=(e,i,a)=>{c(s=>{let l=[...s];return l[e]&&(l[e]={...l[e],[i]:a}),l}),N(s=>{let l=[...s];l[e]||(l[e]={}),l[e]={...l[e],[i]:a};let n=l[e].key;return n&&d(JSON.stringify(l),n),l})};return o?(0,m.jsx)(lk,{files:T,question:n,onValueChange:d}):(0,m.jsxs)("div",{className:"disable-select","data-testid":"file-upload",children:[u.length>0&&u.map((e,i)=>(0,m.jsx)(lP,{file:e,index:i,onEdit:j,onDelete:f,onMetadataChange:C,question:n},i)),(0,m.jsx)(lR,{fileRejections:A}),(0,m.jsxs)("div",{style:{cursor:"pointer"},...y({className:"dropzone"}),children:[(0,m.jsx)("input",{...S()}),(0,m.jsx)("div",{className:"",children:(0,m.jsx)(tL,{className:"icon"})}),(0,m.jsx)("p",{className:"label",children:t("Choose file or drop image here")})]}),I&&(0,m.jsx)(sJ,{showModal:p,onClose:()=>{g(!1),_(null),x(-1)},onChange:e=>{c(i=>{let a=[...i];return a[v]={...e},a})},file:I})]})};var lG=a(29370);let lV=e=>{let{width:i,height:a,imageSrc:s,handleRemoveImage:l=()=>{},showControllers:n=!0,update:r}=e,[o,d]=(0,h.useState)(null),[u,c]=(0,h.useState)(!1);return(0,m.jsxs)("div",{className:"position-relative transition-all",style:{width:i||"100%",overflow:"hidden"},children:[(0,m.jsx)("img",{width:i||"100%",height:a||"100%",src:null==s?void 0:s.preview,alt:"welcome header",className:"transition-all",id:"sadlifetest",style:{borderRadius:`${null==s?void 0:s.radius}px`}}),n&&(0,m.jsxs)("div",{className:"position-absolute image-handle-btn-wrapper",children:[(0,m.jsx)(sk.A,{variant:"outline-light",className:"image-handle-btn ms-1",size:"sm",onClick:()=>{c(!0),d({...s,zoom:1,rotate:0,radius:0})},children:(0,m.jsx)(tx,{className:"text-primary fill-current"})}),(0,m.jsx)(sk.A,{variant:"outline-light",className:"image-handle-btn ms-1",size:"sm",onClick:l,children:(0,m.jsx)(tg,{className:"text-primary fill-current"})})]}),o&&(0,m.jsx)(sJ,{showModal:u,onClose:()=>c(!1),onChange:e=>r({...e}),file:o})]})},lY=e=>{let{answer:i,aid:a,onChange:s=()=>{},isFocused:l,provided:n={},handleRemovingAnswers:r}=e,o=e=>{s(e)};return(0,m.jsxs)("div",{className:"d-flex answer-item align-items-center position-relative remove-option-button-parent",children:[(0,m.jsx)("div",{style:{left:"-20px"},className:"cursor-pointer remove-option-button position-absolute ",onClick:()=>r(a),children:(0,m.jsx)(tm,{className:sN()("text-danger fill-current",{"d-none":!l})})}),(0,m.jsx)("div",{...n.dragHandleProps,className:sN()({"disabled opacity-0":!n.dragHandleProps}),children:(0,m.jsx)(tv,{className:"text-secondary fill-current me-2"})}),(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[!(null==i?void 0:i.preview)&&(0,i_.isString)(i)&&(0,m.jsx)(sL,{update:o,value:i,placeholder:t("Add text here...")}),l&&!i&&"",l&&!i.length&&!i.preview&&"",(null==i?void 0:i.preview)&&(0,m.jsx)(lV,{update:o,imageSrc:i,width:"200px",showControllers:l,handleRemoveImage:()=>o("")})]})]})},lQ=e=>{let{question:{answers:i=[]}={},isFocused:a,handleChildAdd:s,handleAnswerUpdate:l,handleOnDragEnd:n,handleRemovingAnswers:r}=e,[o]=j(ep);return(0,m.jsxs)(m.Fragment,{children:[a&&(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)("h5",{children:t("You can add texts or upload images")})}),(0,m.jsx)(s1,{onDragEnd:n,droppableId:"droppable",children:i.map((e,i)=>(0,m.jsx)(s0.sx,{draggableId:`ranking-${e.qid}-${e.aid}`,index:i,children:(s,n)=>(0,m.jsx)("div",{ref:s.innerRef,...s.draggableProps,style:{userSelect:"none",margin:"0 0 8px 0",...s.draggableProps.style},className:sN()({"focus-element":n.isDragging},"mb-2"),children:(0,m.jsx)(lY,{answer:q({l10ns:e.l10ns,language:o,prop:"answer"}),aid:e.aid,isFocused:a,index:i,onChange:e=>l(e,i),provided:s,handleRemovingAnswers:r})})},`ranking-${e.qid}-${e.aid}`))}),(0,m.jsx)("div",{children:(0,m.jsxs)(sk.A,{onClick:()=>s(i,iQ.answer),variant:"outline",className:sN()("text-primary add-choice-button px-0 mt-2",{"d-none disabled":!a}),"data-testid":"single-choice-add-answer-button",children:[(0,m.jsx)(lG.A,{})," ",t("Add answer")]})})]})},lB=e=>{let{question:{answers:i=[]}={},question:a={},handleUpdate:s=()=>{},isFocused:l,handleChildL10nsUpdate:n,handleChildAdd:r,handleChildDelete:o,handleOnChildDragEnd:d}=e;return(0,m.jsx)("div",{"data-testid":"ranking-question",children:(0,m.jsx)(lQ,{isFocused:l,handleChildAdd:r,handleAnswerUpdate:(e,a)=>{n(e,a,i,iQ.answer)},handleUpdate:s,question:a,handleRemovingAnswers:e=>{o(e,i,iQ.answer)},handleOnDragEnd:e=>{d(e,i,iQ.answer)}})})},lF=e=>{let{answers:i,answersHeight:a=[],answersValue:s=[],clearAnswer:l}=e;return(0,m.jsx)("div",{children:i.map((e,i)=>{let n=s[i],r=!!(null==n?void 0:n.value),o=null==n?void 0:n.answerTitle;return(0,m.jsx)(s0.gL,{droppableId:`${i}`,index:`ranked-advanced-placeholder-${i}`,children:(e,s)=>(0,m.jsx)("div",{"data-index":i,ref:e.innerRef,...e.draggableProps,children:(0,m.jsxs)("div",{className:"position-relative answer-item-placeholder p-1 ms-3 d-flex align-items-center",children:[(0,m.jsx)("div",{className:sN()("cursor-pointer position-absolute remove-option-button",{"d-none":!r}),onClick:()=>l(i),children:(0,m.jsx)(tm,{className:sN()("text-danger close-circle-fill-icon fill-current d-block")})}),(0,m.jsx)(sL,{value:r?o:i+1,placeholder:t("Answer option"),className:sN()("choice placeholder-content-editor text-center px-3",{"text-success":r}),style:{minHeight:a[i],outline:s.isDraggingOver&&"1px solid #14ae5c"},disabled:!0})]})})},`ranked-advanced-placeholder-${e.qid}-${i}`)})})},lz=e=>{let{handleAnswerUpdate:i=()=>{},handleRemoveAnswer:a=()=>{},isFocused:s,setAnswersHeight:l,answers:n=[],qid:r,language:o}=e,d=(0,h.useRef)(null);return(0,h.useEffect)(()=>{if(!l)return;let e=[],i=new ResizeObserver(()=>{d.current&&(d.current.querySelectorAll(".ranking-advanced-answer-content-editor").forEach((i,a)=>{e[a]=i.offsetHeight}),l([...e]))});return d.current&&(d.current.querySelectorAll(".ranking-advanced-answer-content-editor").forEach(e=>{i.observe(e)}),i.observe(d.current)),()=>{i.disconnect()}},[]),(0,m.jsx)("div",{children:n.map((e,l)=>(0,m.jsx)(s0.sx,{draggableId:`advanced-answer${e.qid}-${l}`,index:l,children:(n,d)=>(0,m.jsx)("div",{...n.draggableProps,ref:n.innerRef,children:(0,m.jsxs)("div",{className:sN()("position-relative ranking-advanced-answer w-100 ps-0 p-1 d-flex align-items-center question-body-content remove-option-button-parent"),children:[(0,m.jsx)("div",{className:sN()("cursor-pointer position-absolute remove-option-button",{"d-none disabled":!s}),onClick:()=>a(e),style:{left:-24},children:(0,m.jsx)(tm,{className:sN()("text-danger fill-current d-block"),style:{height:14}})}),(0,m.jsx)(sL,{value:q({l10ns:e.l10ns,language:o,prop:"answer"}),update:e=>i(e,l),placeholder:t("Answer option"),className:sN()("choice ranking-advanced-answer-content-editor w-100",{"focus-element":d.isDragging}),testId:"ranking-advanced-answer-content-editor"},`Ranking-Advanced-Answer-${r}`),(0,m.jsx)("div",{...n.dragHandleProps,style:{position:"absolute",right:"0",transform:"translate(-50%, -50%)",height:"14px",width:"14px"},onClick:e=>e.stopPropagation(),children:(0,m.jsx)(tv,{})})]})})},`advanced-answer${e.qid}-${l}`))})},l$="ranking-advanced-answers",lW=e=>{let{question:{answers:i=[],qid:a}={},isFocused:s,handleChildL10nsUpdate:l,handleChildAdd:n,handleChildDelete:r,handleOnChildDragEnd:o,values:d=[],participantMode:u,language:c,onValueChange:p=()=>{}}=e,[g,v]=(0,h.useState)([]),[x,I]=(0,h.useState)((0,i_.cloneDeep)(d)),_=e=>{let i=dS(x[e]);x[e][i.key]="",x[e]={...x[e],aid:"",value:"",answerTitle:"",subquestionTitle:""},I([...x]),p("",x[e].key)},T=(e,a)=>{l(e,a,i,iQ.answer)},N=e=>{r(e.aid,i,iQ.answer)};return(0,m.jsxs)(s0.JY,{onDragEnd:e=>{var a;let s,l,n,r;u?(s=+(a=e).source.index,l=+a.destination.droppableId,n={...i[s]},r=!1,(x.forEach(e=>{e.aid===n.aid&&(r=!0)}),r)?ix({message:t("Answer already exists"),position:"bottom-center",duration:3e3}):(x[l]={...x[l],aid:n.aid,value:n.code,answerTitle:n.l10ns[c].answer,subquestionTitle:n.code},I([...x]),p(n.code,x[l].key))):o(e,i,iQ.answer)},children:[(0,m.jsxs)("div",{"data-testid":"ranking-advanced-question",className:"ranking-advanced-question d-flex flex-row",children:[(0,m.jsx)(s0.gL,{droppableId:l$,children:e=>(0,m.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[(0,m.jsx)(lz,{isFocused:s,handleAnswerUpdate:T,handleRemoveAnswer:N,answers:i,qid:a,setAnswersHeight:v,language:c}),e.placeholder]})},l$),(0,m.jsx)(s0.gL,{droppableId:"ranking-advanced-placeholders",children:e=>(0,m.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[!s&&(0,m.jsx)(lF,{isFocused:s,answers:i,answersHeight:g,answersValue:x,clearAnswer:_}),e.placeholder]})})]}),(0,m.jsx)("div",{children:(0,m.jsxs)(sk.A,{onClick:()=>n(i,iQ.answer),variant:"outline",className:sN()("text-primary add-choice-button px-0 mt-2",{"d-none disabled":!s}),"data-testid":"single-choice-add-answer-button",children:[(0,m.jsx)(lG.A,{})," ",t("Add answer")]})})]})},lZ=e=>{let{values:i=[],onValueChange:a,participantMode:s}=e,l=null==i?void 0:i[0];return s?(0,m.jsx)(sL,{value:l.value,update:e=>a(e,l.key)}):null};var lK=a(49871),lX=a(37807);let lJ=[{label:t("Month"),value:"month"},{label:t("Jan"),value:"jan"},{label:t("Feb"),value:"feb"},{label:t("Mar"),value:"mar"},{label:t("Apr"),value:"apr"},{label:t("May"),value:"may"},{label:t("Jun"),value:"jun"},{label:t("Jul"),value:"jul"},{label:t("Aug"),value:"aug"},{label:t("Sep"),value:"sep"},{label:t("Oct"),value:"oct"},{label:t("Nov"),value:"nov"},{label:t("Dec"),value:"dec"}],l0=[{label:t("Month"),value:"month"},{label:t("January"),value:"jan"},{label:t("February"),value:"feb"},{label:t("March"),value:"mar"},{label:t("April"),value:"apr"},{label:t("May"),value:"may"},{label:t("June"),value:"jun"},{label:t("July"),value:"jul"},{label:t("August"),value:"aug"},{label:t("September"),value:"sep"},{label:t("October"),value:"oct"},{label:t("November"),value:"nov"},{label:t("December"),value:"dec"}],l1=[{label:t("Month"),value:"month"},...Array(12).fill("-").map((e,i)=>i<9?{label:`0${i+1}`,value:`0${i+1}`}:{label:`${i+1}`,value:`${i+1}`})],l2=[{label:t("Day"),value:"day"},...Array(31).fill("-").map((e,i)=>i<9?{label:`0${i+1}`,value:`0${i+1}`}:{label:`${i+1}`,value:`${i+1}`})],l3=[{label:t("Hour"),value:"hour"},...Array(24).fill("-").map((e,i)=>i<9?{label:`0${i+1}`,value:`0${i+1}`}:{label:`${i+1}`,value:`${i+1}`})],l6=[{label:t("Year"),value:"year"},...Array(300).fill("-").map((e,i)=>({label:1900+i,value:1900+i}))],l4={short:lJ,full:l0,numbers:l1},l5=e=>{var i,a,s,l;let{question:n}=e,[r,o]=(0,h.useState)(""),[d,u]=(0,h.useState)(""),[c,p]=(0,h.useState)(""),[g,v]=(0,h.useState)(""),[x,I]=(0,h.useState)([]),[_,T]=(0,h.useState)(""),N=(null==(i=n.attributes.dateTimeFormat)?void 0:i.value.split(" "))||["YYYY-MM-DD"],b=N[0].includes("-")?"-":"/";return(0,h.useEffect)(()=>{var e,i;let a=[...function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=e;s<1&&(s=1);let l=[],n=i;for(;n<=a;)l.push(n),n+=s;return l}(parseInt((null==n||null==(i=n.attributes)||null==(e=i.minuteStepInterval)?void 0:e.value)||1),0,59)];I([{label:t("Min"),value:"min"},...a.map(e=>e<10?{label:`0${e}`,value:`0${e}`}:{label:`${e}`,value:`${e}`})])},[null==n||null==(s=n.attributes)||null==(a=s.minuteStepInterval)?void 0:a.value]),(0,m.jsx)(a3.$,{dateAdapter:a2.R,children:(0,m.jsx)(lK.j,{components:["DatePicker"],children:(0,m.jsx)("div",{className:"w-100","data-testid":"date-time",children:(null==(l=n.attributes.dropdownBox)?void 0:l.value)?(0,m.jsxs)("div",{className:"d-flex align-items-center w-100",children:[N[0].split(b).map((e,i)=>{if(["YYYY","YY"].includes(e))return(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[0!==i&&(0,m.jsx)("span",{className:"mx-1",children:b}),(0,m.jsx)(l8,{setSelectedYear:u,selectedYear:d,question:n})]},i);if(["MM"].includes(e)){var a;return(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[0!==i&&(0,m.jsx)("span",{className:"mx-1",children:b}),(0,m.jsx)(nt,{setSelectedMonth:o,selectedMonth:r,selectedType:(null==(a=n.attributes.monthDisplay)?void 0:a.value)||"short"})]},i)}return["DD"].includes(e)?(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[0!==i&&(0,m.jsx)("span",{className:"mx-1",children:b}),(0,m.jsx)(ne,{setSelectedDay:T,selectedDay:_,question:n})]},i):(0,m.jsx)(m.Fragment,{})}),N[1]&&(0,m.jsxs)("div",{className:"ms-2 d-flex align-items-center",children:[(0,m.jsx)(l7,{selectedHour:c,setSelectedHour:p}),(0,m.jsx)("span",{className:"mx-1",children:":"}),(0,m.jsx)(l9,{minuteOptions:x,selectedMinute:g,setSelectedMinute:v})]})]}):(0,m.jsx)("div",{className:"w-50",children:(0,m.jsx)(lX.l,{})})})})})},l7=e=>{let{selectedHour:i,setSelectedHour:a}=e;return(0,m.jsx)(sY,{options:l3,onChange:e=>{let{target:{value:i}}=e;a(i)},selectedOption:{label:l3.find(e=>(null==e?void 0:e.value)===i),value:i}})},l9=e=>{let{minuteOptions:i,selectedMinute:a,setSelectedMinute:s}=e;return(0,m.jsx)(sY,{options:i,onChange:e=>{let{target:{value:i}}=e;s(i)},selectedOption:{label:i.find(e=>(null==e?void 0:e.value)===a),value:a}})},l8=e=>{let{setSelectedYear:i,selectedYear:a}=e;return(0,m.jsx)(sY,{options:l6,onChange:e=>{let{target:{value:a}}=e;i(a)},selectedOption:{label:l6.find(e=>(null==e?void 0:e.value)===a),value:a}})},ne=e=>{let{setSelectedDay:i,selectedDay:a}=e;return(0,m.jsx)(sY,{options:l2,onChange:e=>{let{target:{value:a}}=e;i(a)},selectedOption:{label:l2.find(e=>(null==e?void 0:e.value)===a),value:a}})},nt=e=>{var i;let{selectedType:a,setSelectedMonth:s,selectedMonth:l}=e;return(0,m.jsx)(sY,{options:l4[a],onChange:e=>{let{target:{value:i}}=e;s(i)},selectedOption:{label:null==(i=l4[a])?void 0:i.find(e=>(null==e?void 0:e.value)===l),value:l}})};var ni=a(6622),na=a(5788),ns=a.n(na),nl=a(62986),nn=a.n(nl),nr=a(14123),no=a.n(nr);let nd=e=>{let{question:i,surveySettings:a,values:s=[],onValueChange:l=()=>{}}=e,n=(null==s?void 0:s[0])||{},[r,o]=(0,h.useState)(2),d=[{icon:ns(),name:st("Female"),value:"F"},{icon:nn(),name:st("Male"),value:"M"}];(0,h.useEffect)(()=>{let e=n.value;d.map((i,a)=>{e===i.value&&o(a)})},[s]);let u=(e,i,a)=>{l(e,i),o(a)},c=aE(i.attributes.display_type);return!iq(i.mandatory)&&a.showNoAnswer&&d.push({icon:no(),name:aX(!0),value:null}),(0,m.jsxs)("div",{className:"gender-question d-flex align-items-center gap-3",style:{maxWidth:400},"data-testid":"gender-question",children:[c===a7().RADIO.value&&(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,m.jsx)(ni.A,{value:"F",type:"radio",label:st("Female"),name:`${i.qid}-gender-question-radio-list`,"data-testid":"gender-question-option",defaultChecked:0===r,onClick:()=>u("F",n.key,0)}),(0,m.jsx)(ni.A,{value:"M",type:"radio",label:st("Male"),name:`${i.qid}-gender-question-radio-list`,"data-testid":"gender-question-option",defaultChecked:1===r,onClick:()=>u("M",n.key,1)}),!iq(i.mandatory)&&(0,m.jsx)(ni.A,{value:"no answer",type:"radio",label:aX(!0),name:`${i.qid}-gender-question-radio-list`,"data-testid":"gender-question-option",defaultChecked:2===r,onClick:()=>u(null,n.key,2)})]}),(0,m.jsx)("div",{className:"gender-buttons d-flex align-items-center gap-3",children:c!==a7().RADIO.value&&(0,m.jsx)(m.Fragment,{children:d.map((e,a)=>(0,m.jsx)(s5,{className:sN()("button-question gender-question-button",{"btn-success text-light border-success":r===a}),id:`${i.qid}-gender-question`,Icon:e.icon,name:e.name,text:e.name,iconSize:32,variant:"outline-success",testId:"gender-question-option",active:r===a,onClick:()=>u(e.value,n.key,a)},`gender-question-button-${a}`))})})]})};var nu=a(23263),nc=a.n(nu),nm=a(63198),np=a.n(nm);let nh=e=>{let{question:i,surveySettings:a,values:s=[],onValueChange:l=()=>{}}=e,n=(null==s?void 0:s[0])||{},[r,o]=(0,h.useState)(2),d=[{icon:nc(),name:st("Yes"),value:"Y"},{icon:np(),name:st("No"),value:"N"}];(0,h.useEffect)(()=>{let e=n.value;d.map((i,a)=>{e===i.value&&o(a)})},[s]);let u=aE(i.attributes.display_type);!iq(i.mandatory)&&a.showNoAnswer&&d.push({icon:no(),name:aX(!0),value:null});let c=(e,i,a)=>{l(e,i),o(a)};return(0,m.jsxs)("div",{className:"yes-no-question d-flex align-items-center gap-3",style:{maxWidth:400},"data-testid":"yes-no-question",children:[u===a7().RADIO.value&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ni.A,{value:"Y",type:"radio",label:st("Yes"),name:`${i.qid}-yes-no-question-radio-list`,"data-testid":"yes-no-question-answer",defaultChecked:0===r,onClick:()=>c("Y",n.key,0)}),(0,m.jsx)(ni.A,{value:"N",type:"radio",label:st("No"),name:`${i.qid}-yes-no-question-radio-list`,"data-testid":"yes-no-question-answer",defaultChecked:1===r,onClick:()=>c("N",n.key,1)}),!iq(i.mandatory)&&(0,m.jsx)(ni.A,{value:null,type:"radio",label:aX(!0),name:`${i.qid}-yes-no-question-radio-list`,"data-testid":"yes-no-question-answer",defaultChecked:2===r,onClick:()=>c(null,n.key,2)})]}),u!==a7().RADIO.value&&(0,m.jsx)(m.Fragment,{children:d.map((e,a)=>(0,m.jsx)(s5,{className:sN()("button-question yes-no-question-button",{"btn-success text-light border-success":r===a}),id:`${i.qid}-yes-no-question`,Icon:e.icon,name:e.name,text:e.name,testId:"yes-no-question-answer",value:e.value,iconSize:32,variant:"outline-success",onClick:()=>c(e.value,n.key,a)},`yes-no-question-button-${a}`))})]})},ng=()=>({IMAGE_SETTINGS:{component:nY,attributePath:"attributes.image",props:{}},PAGE_BREAK_IN_PRINTABLE_VIEW:{component:s4,attributePath:"attributes.page_break",props:{id:"insert-page-break-in-printable-view",labelText:t("Page break in printable view"),toggleOptions:su(),defaultValue:"0"}},INPUT_ON_DEMAND:{component:s4,attributePath:"attributes.input_on_demand",props:{labelText:t("Input on demand"),id:"input-on-demand",toggleOptions:sh(),defaultValue:"0"},hidden:!0},USE_SLIDER_LAYOUT:{component:sY,attributePath:"attributes.slider_rating",props:{dataTestId:"use_slider_layout",labelText:t("Use slider layout"),options:[{label:t("Off"),value:"0"},{label:t("Stars"),value:"1"},{label:t("Slider with emoticon"),value:"2"}]}},DISPLAY_TYPE:{component:s4,attributePath:"attributes.display_type",props:{labelText:t("Display type"),id:"display-type",toggleOptions:Object.values(a7()),defaultValue:"0"}},MAXIMUM_DATE:{component:s_,attributePath:"attributes.date_max",props:{type:"date",labelText:t("Max date"),id:"maximum-date",inputClass:"selected",showClassWhenValue:!0}},MINIMUM_DATE:{component:s_,attributePath:"attributes.date_min",props:{type:"date",labelText:t("Min date"),id:"minimum-date",inputClass:"selected",showClassWhenValue:!0}},MONTH_DISPLAY_STYLE:{component:s4,attributePath:"attributes.dropdown_dates_month_style",props:{labelText:t("Month display style"),id:"month-display-style",toggleOptions:[{name:t("Short"),value:"0"},{name:t("Full"),value:"1"},{name:t("Numbers"),value:"2"}],defaultValue:"0"}},DISPLAY_DROPDOWN_BOXES:{component:s4,attributePath:"attributes.dropdown_dates",props:{labelText:t("Display dropdown boxes"),id:"display-dropdown-boxes",toggleOptions:sh(),defaultValue:"0"}},SHOW_PLATFORM_INFORMATION:{component:s4,attributePath:"attributes.add_platform_info",props:{labelText:t("Show platform information"),id:"show-platform-information",toggleOptions:su(sd),defaultValue:"no"}},MINIMUM_VALUE:{component:s_,attributePath:"attributes.multiflexible_min",props:{labelText:t("Minimum value"),id:"minimum-value"}},MAXIMUM_VALUE:{component:s_,attributePath:"attributes.multiflexible_max",props:{labelText:t("Maximum value"),id:"maximum-value"}},ANSWER_OPTIONS_ORDER:{component:sY,attributePath:"attributes.answer_order",props:{dataTestId:"answer-options-order",labelText:t("Answer options order"),options:a5()}},SUBQUESTION_OPTIONS_ORDER:{component:sY,attributePath:"attributes.subquestion_order",props:{dataTestId:"subquestions-order",labelText:t("Subquestions order"),options:a5()}},KEEP_CODE_ORDER:{component:s_,attributePath:"attributes.keep_codes_order",props:{dataTestId:"keep-code-order",labelText:t("Keep codes at original positions"),helpText:t("Semicolon-separated list of codes that keep their original database position when items are randomized.")}},VISUALIZATION:{component:sY,attributePath:"attributes.visualize",props:{labelText:t("Visualization"),dataTestId:"visualization",options:[{label:t("List"),value:"list"},{label:t("Block"),value:"blocks"},{label:t("Buttons"),value:"buttons"}]},hidden:!0},SAME_HEIGHT_FOR_ALL_ANSWER_OPTIONS:{component:s4,attributePath:"attributes.samechoiceheight",props:{id:"same-height-for-all-answer-options",labelText:t("Same height for all answer options"),toggleOptions:su(),defaultValue:"1"}},SAME_HEIGHT_FOR_LIST:{component:s4,attributePath:"attributes.samelistheight",props:{id:"same-height-for-lists",labelText:t("Same height for lists"),toggleOptions:su(),defaultValue:"1"}},ANSWER_PREFIX:{component:s_,attributePath:"attributes.prefix",props:{dataTestId:"answer-prefix",labelText:t("Answer prefix")}},ANSWER_SUFFIX:{component:s_,attributePath:"attributes.suffix",props:{dataTestId:"answer-suffix",labelText:t("Answer suffix")}},CHOICE_COLUMN_WIDTH:{component:sY,attributePath:"attributes.choice_input_columns",props:{dataTestId:"choice-column-width",labelText:t("Choice column width"),options:a9()}},REVERSE_ANSWER_ORDER:{component:s4,attributePath:"attributes.reverse",props:{id:"reverse-answer-order",labelText:t("Reverse answer order"),toggleOptions:sh(),defaultValue:"0"}},SHOW_JAVASCRIPT_ALERT:{component:s4,attributePath:"attributes.showpopups",props:{id:"show-javascript-alert",labelText:t("Show javascript alert"),toggleOptions:sh(),defaultValue:"1"}},SHOW_HANDLE:{component:s4,attributePath:"attributes.show_handle",props:{id:"show-handle",name:"show-handle",labelText:t("Show handle"),toggleOptions:su(sd),defaultValue:"no"}},SHOW_NUMBER:{component:s4,attributePath:"attributes.show_number",props:{id:"show-number",name:"show-number",labelText:t("Show number"),toggleOptions:su(sd),defaultValue:"no"}},WITHOUT_REORDER:{component:s4,attributePath:"attributes.only_pull",props:{id:"without-reorder",name:"without-reorder",labelText:t("Without reorder"),toggleOptions:su(sd),defaultValue:"no"}},FIX_WIDTH:{component:s_,attributePath:"attributes.fix_width",props:{type:"number",dataTestId:"fix-width",labelText:t("Fix width")}},FIX_HEIGHT:{component:s_,attributePath:"attributes.fix_height",props:{type:"number",dataTestId:"fix-height",labelText:t("Fix height")}},CROP_OR_RESIZE:{component:s4,attributePath:"attributes.crop_or_resize",props:{id:"crop-or-resize",labelText:t("Crop or resize"),toggleOptions:[{name:t("Crop"),value:"crop"},{name:t("Resize"),value:"resize"}],defaultValue:"resize"}},KEEP_ASPECT_RATIO:{component:s4,attributePath:"attributes.keep_aspect",props:{id:"keep-aspect-ratio",labelText:t("Keep aspect ratio"),toggleOptions:su(sd),defaultValue:"no"}},HORIZONTAL_SCROLL:{component:s4,attributePath:"attributes.horizontal_scroll",props:{id:"horizontal-scroll",labelText:t("Horizontal scroll"),toggleOptions:su(sd),defaultValue:"no"}},CATEGORY_SERARATOR:{component:s_,attributePath:"attributes.category_separator",props:{id:"category-separator",labelText:t("Category separator")}},PREFIX_FOR_LIST_ITEMS:{component:s4,attributePath:"attributes.dropdown_prefix",props:{id:"prefix-for-list-items",labelText:t("Prefix for list items"),toggleOptions:[{name:t("None"),value:"0"},{name:t("Order - like 3)"),value:"1"}],defaultValue:"0"}},HEIGHT_OF_DROPDOWN:{component:s_,attributePath:"attributes.dropdown_size",props:{id:"category-separator",labelText:t("Height of dropdown"),dataTestId:"height-of-dropdown"}},LABEL_FOR_OTHER_OPTIONS:{component:s_,attributePath:"attributes.other_replace_text",languageBased:!0,props:{id:"category-separator",labelText:t("Label for 'Other:' option"),dataTestId:"label-for-other-option"}},POSITION_FOR_OTHER_OPTION:{component:sY,attributePath:"attributes.other_position",props:{labelText:t("Position for 'Other:' option"),dataTestId:"position-for-other-option",options:[{label:t("At beginning"),value:"beginning"},{label:t("At end"),value:"end"},{label:t("After specific answer option"),value:"specific"}]}},SUBQUESTION_TITLE:{component:s_,attributePath:"attributes.other_position_code",props:{dataTestId:"sub-question-title",labelText:t("Subquestion title for 'After specific subquestion'")}},RANDOM_ORDER:{component:sY,attributePath:"attributes.random_order",props:{id:"random-order",labelText:t("Answer order"),options:[{label:t("Normal"),value:"0"},{label:t("Random"),value:"1"}],defaultValue:{label:t("Normal"),value:"0"}}},ANSWER_CODE:{component:s_,attributePath:"attributes.other_position_code",props:{dataTestId:"answer-code",labelText:t("Answer code for 'After specific answer option'")}},SUBQUESTION_WIDTH:{component:s_,attributePath:"attributes.answer_width",props:{type:"number",dataTestId:"sub-question-width",labelText:t("(Sub-)question width"),max:100,min:0}},REPEAT_HEADERS:{component:s_,attributePath:"attributes.repeat_headings",props:{type:"number",dataTestId:"repeat-headers",labelText:t("Repeat headers")}},GET_ORDER_FROM_PREVIEW_QUESTION:{component:s_,attributePath:"attributes.parent_order",props:{dataTestId:"get-order-from-preview-question",labelText:t("Get order from previous question")}},HIDE_TIP:{component:s4,attributePath:"attributes.hide_tip",props:{id:"hide-tip",labelText:t("Hide tip"),toggleOptions:su(),defaultValue:"0"}},SCALE_HEADER_A:{component:s_,attributeName:"dualscale_headerA",attributePath:"attributes.dualscale_headerA",props:{dataTestId:"header-a-attribute-input",labelText:t("Header A")}},SCALE_HEADER_B:{component:s_,attributeName:"dualscale_headerB",attributePath:"attributes.dualscale_headerB",props:{dataTestId:"header-B-attribute-input",labelText:t("Header B")}},ALWAYS_HIDE_THIS_QUESTION:{component:s4,attributePath:"attributes.hidden",props:{id:"always-hide-this-question",labelText:t("Always hide this question"),toggleOptions:su(),defaultValue:"0"}},CSS_CLASSES:{component:s_,attributePath:"attributes.cssclass",props:{dataTestId:"css-classes-attribute-input",labelText:t("CSS class(es)")}},CONDITION_HELP_FOR_PRINTABLE_SURVEY:{component:s_,attributePath:"attributes.printable_help",languageBased:!0,props:{dataTestId:"condition-help-for-printable-survey",labelText:t("Condition help for printable survey")}},TEXT_INPUT_WIDTH:{component:sY,attributePath:"attributes.text_input_width",props:{dataTestId:"text-input-width",labelText:t("Text input box width"),options:a9()}},TEXT_INPUT_COLUMNS:{component:sY,attributePath:"attributes.text_input_columns",props:{dataTestId:"text-input-columns",labelText:t("Text input box width"),options:a9()}},TEXT_INPUT_BOX_SIZE:{component:s_,attributePath:"attributes.input_size",props:{type:"number",dataTestId:"text-input-box-size",labelText:t("Text input box size")}},DISPLAY_ROWS:{component:s_,attributePath:"attributes.display_rows",props:{type:"number",dataTestId:"display-rows",labelText:t("Display rows")}},LABEL_WRAPPER_WIDTH:{component:sY,attributePath:"attributes.label_input_columns",props:{labelText:t("Label wrapper width"),options:[{label:t("Default"),value:"default"},{label:t("Hidden"),value:"hidden"},{label:"8%",value:"1"},{label:"17%",value:"2"},{label:"25%",value:"3"},{label:"33%",value:"4"},{label:"41%",value:"5"},{label:"50%",value:"6"},{label:"58%",value:"7"},{label:"67%",value:"8"},{label:"75%",value:"9"},{label:"83%",value:"10"},{label:"92%",value:"11"},{label:"100%",value:"12"}]}},ANSWER_COLUMN_WIDTH:{component:s_,attributePath:"attributes.answer_column_width",props:{dataTestId:"answer-column-width",labelText:t("Answer column width")}},USE_DROPDOWN_PRESENTATION:{component:s4,attributePath:"attributes.use_dropdown",props:{id:"use-dropdown-presentation",labelText:t("Use dropdown presentation"),toggleOptions:sh(),defaultValue:"0"}},DISPLAY_COLUMNS:{component:s_,attributePath:"attributes.display_columns",props:{type:"number",dataTestId:"display-columns",labelText:t("Display columns"),min:1}},TEXT_INPUTS:{component:s4,attributePath:"attributes.input_boxes",props:{id:"text-inputs",labelText:t("Text inputs"),toggleOptions:sh(),defaultValue:"0"}},STEP_VALUE:{component:s_,attributePath:"attributes.multiflexible_step",props:{type:"number",dataTestId:"step-value",labelText:t("Step value")}},PLACEHOLDER_ANSWER:{component:s_,attributePath:"attributes.placeholder",props:{dataTestId:"placeholder-answer",labelText:t("Placeholder answer")}},CHECKBOX_LAYOUT:{component:s4,attributePath:"attributes.multiflexible_checkbox",props:{id:"checkbox-layout",labelText:t("Checkbox layout"),name:"checkbox-layout",toggleOptions:sh(),defaultValue:"0"}},DROPDOWN_PREFIX_SUFFIX:{component:s_,attributePath:"attributes.dropdown_prepostfix",props:{dataTestId:"dropdown-prefix-suffix",labelText:t("Dropdown prefix/suffix")}},DROPDOWN_SEPARATOR:{component:s_,attributePath:"attributes.dropdown_separators",props:{dataTestId:"dropdown-separator",labelText:t("Dropdown separator")}}});var nv=a(7570),nx=a(16646),nI=a(33611),n_=a(91261);let nT=()=>({value:lh().QUESTION_GROUP.type,label:lh().QUESTION_GROUP.title,theme:lh().QUESTION_GROUP.theme}),nN=e=>{let{callBack:i,disableAddingQuestions:a=!1,attributeTypeSelector:s=!1}=e,[l,n]=(0,h.useState)(""),[r,o]=(0,h.useState)(-1),d=(0,h.useRef)(null),u=(0,h.useRef)(null),c=(0,h.useRef)(null),[p,g]=(0,h.useState)([]),v=[{title:t("Single choice"),icon:(0,m.jsx)(tS,{}),items:[{value:lh().SINGLE_CHOICE_LIST_RADIO.type,label:lh().SINGLE_CHOICE_LIST_RADIO.title,theme:lh().SINGLE_CHOICE_LIST_RADIO.theme},{value:lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.type,label:lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.title,theme:lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme},{value:lh().SINGLE_CHOICE_IMAGE_SELECT.type,label:lh().SINGLE_CHOICE_IMAGE_SELECT.title,theme:lh().SINGLE_CHOICE_IMAGE_SELECT.theme},{value:lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.type,label:lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.title,theme:lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme},{value:lh().SINGLE_CHOICE_DROPDOWN.type,label:lh().SINGLE_CHOICE_DROPDOWN.title,theme:lh().SINGLE_CHOICE_DROPDOWN.theme},{value:lh().SINGLE_CHOICE_BUTTONS.type,label:lh().SINGLE_CHOICE_BUTTONS.title,theme:lh().SINGLE_CHOICE_BUTTONS.theme}]},{title:t("Multiple choice"),icon:(0,m.jsx)(tE,{}),items:[{value:lh().MULTIPLE_CHOICE.type,label:lh().MULTIPLE_CHOICE.title,theme:lh().MULTIPLE_CHOICE.theme},{value:lh().MULTIPLE_CHOICE_WITH_COMMENTS.type,label:lh().MULTIPLE_CHOICE_WITH_COMMENTS.title,theme:lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme},{value:lh().MULTIPLE_CHOICE_BUTTONS.type,label:lh().MULTIPLE_CHOICE_BUTTONS.title,theme:lh().MULTIPLE_CHOICE_BUTTONS.theme},{value:lh().MULTIPLE_CHOICE_IMAGE_SELECT.type,label:lh().MULTIPLE_CHOICE_IMAGE_SELECT.title,theme:lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme}]},{title:t("Ranking & Rating"),icon:(0,m.jsx)(tf,{}),items:[{value:lh().RANKING.type,label:lh().RANKING.title,theme:lh().RANKING.theme,hidden:!0},{value:lh().RANKING_ADVANCED.type,label:lh().RANKING_ADVANCED.title,theme:lh().RANKING_ADVANCED.theme},{value:lh().RATING.type,label:lh().RATING.title,theme:lh().RATING.theme,hidden:!0},{value:lh().GENDER.type,label:lh().GENDER.title,theme:lh().GENDER.theme},{value:lh().YES_NO.type,label:lh().YES_NO.title,theme:lh().YES_NO.theme}]},{title:t("Dates & data"),icon:(0,m.jsx)(tb,{}),items:[{value:lh().BROWSER_DETECTION.type,label:lh().BROWSER_DETECTION.title,theme:lh().BROWSER_DETECTION.theme},{value:lh().DATE_TIME.type,label:lh().DATE_TIME.title,theme:lh().DATE_TIME.theme},{value:lh().FILE_UPLOAD.type,label:lh().FILE_UPLOAD.title,theme:lh().FILE_UPLOAD.theme}]},{title:t("Text"),icon:(0,m.jsx)(tA,{}),items:[{value:lh().SHORT_TEXT.type,label:lh().SHORT_TEXT.title,theme:lh().SHORT_TEXT.theme},{value:lh().LONG_TEXT.type,label:lh().LONG_TEXT.title,theme:lh().LONG_TEXT.theme},{value:lh().MULTIPLE_SHORT_TEXTS.type,label:lh().MULTIPLE_SHORT_TEXTS.title,theme:lh().MULTIPLE_SHORT_TEXTS.theme}]},{title:t("Number"),icon:(0,m.jsx)(ty,{}),items:[{value:lh().NUMERIC.type,label:lh().NUMERIC.title,theme:lh().NUMERIC.theme},{value:lh().MULTIPLE_NUMERICAL_INPUTS.type,label:lh().MULTIPLE_NUMERICAL_INPUTS.title,theme:lh().MULTIPLE_NUMERICAL_INPUTS.theme},{value:lh().TEXT_DISPLAY.type,label:lh().TEXT_DISPLAY.title,theme:lh().TEXT_DISPLAY.theme},{value:lh().EQUATION.type,label:lh().EQUATION.title,theme:lh().EQUATION.theme}]},{title:t("Array"),icon:(0,m.jsx)(tM,{}),items:[{value:lh().ARRAY.type,label:lh().ARRAY.title,theme:lh().ARRAY.theme},{value:lh().ARRAY_TEXT.type,label:lh().ARRAY_TEXT.title,theme:lh().ARRAY_TEXT.theme},{value:lh().ARRAY_NUMBERS.type,label:lh().ARRAY_NUMBERS.title,theme:lh().ARRAY_NUMBERS.theme},{value:lh().ARRAY_COLUMN.type,label:lh().ARRAY_COLUMN.title,theme:lh().ARRAY_COLUMN.theme},{value:lh().ARRAY_DUAL_SCALE.type,label:lh().ARRAY_DUAL_SCALE.title,theme:lh().ARRAY_DUAL_SCALE.theme}]}].reduce((e,i)=>{let a=i.items.filter(e=>e.label.toLowerCase().includes(l.toLowerCase()));return a.length&&e.push({title:i.title,icon:i.icon,items:a}),e},[]);return(0,h.useEffect)(()=>{d.current.focus({preventScroll:!0});let e=v.reduce((e,i)=>e+i.items.length,0),a=a=>{if("ArrowUp"===a.key)o(e=>Math.max(e-1,-1));else if("ArrowDown"===a.key)o(i=>Math.min(i+1,e-1));else if("Enter"===a.key){let e=0;for(let a=0;a<v.length;a++){let s=v[a].items;for(let a=0;a<s.length;a++){let n=s[a];if(e===r){let e=[...p];e.length>4&&e.shift(),e.push(l),g([...e]),i({type:n.value,questionThemeName:n.theme})}e++}}}};if(u.current&&c.current){let e=u.current.getBoundingClientRect(),i=c.current.getBoundingClientRect();i.bottom>e.bottom?u.current.scrollTop+=i.bottom-e.bottom+10:i.top<e.top&&(u.current.scrollTop-=e.top-i.top)}return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[r,v,i]),(0,m.jsxs)("div",{className:"question-type-selector border border-primary rounded border-2 shadow-sm position-relative",children:[(0,m.jsx)("div",{className:"search",style:{marginBottom:26,height:52},children:(0,m.jsx)(s_,{value:l,placeholder:t("Search for a question type"),id:"question-type-search",inputRef:d,dataTestId:"question-type-search",Icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPGcgaWQ9Ikljb24iPgo8cGF0aCBpZD0iU2hhcGUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNDk5NyAxMS41QzE3LjQ5OTcgMTMuNzA5MSAxNS43MDg5IDE1LjUgMTMuNDk5NyAxNS41QzExLjI5MDYgMTUuNSA5LjQ5OTc0IDEzLjcwOTEgOS40OTk3NCAxMS41QzkuNDk5NzQgOS4yOTA4NiAxMS4yOTA2IDcuNSAxMy40OTk3IDcuNUMxNS43MDg5IDcuNSAxNy40OTk3IDkuMjkwODYgMTcuNDk5NyAxMS41Wk0xOC45OTk3IDExLjVDMTguOTk5NyAxNC41Mzc2IDE2LjUzNzMgMTcgMTMuNDk5NyAxN0MxMi4xMDI4IDE3IDEwLjgyNzUgMTYuNDc5MiA5Ljg1NzM3IDE1LjYyMTFMNi40OTM2MiAxOC41NjQ0TDUuNTA1ODYgMTcuNDM1Nkw4Ljg3ODkxIDE0LjQ4NDFDOC4zMjI2NyAxMy42MjQ2IDcuOTk5NzQgMTIuNiA3Ljk5OTc0IDExLjVDNy45OTk3NCA4LjQ2MjQzIDEwLjQ2MjIgNiAxMy40OTk3IDZDMTYuNTM3MyA2IDE4Ljk5OTcgOC40NjI0MyAxOC45OTk3IDExLjVaIiBmaWxsPSIjMUUxRTFFIi8+CjwvZz4KPC9zdmc+Cg==",onChange:e=>{n(e.target.value),o(-1)},inputClass:"question-inserter-search",className:"h-100",autoComplete:!1})}),(0,m.jsxs)("div",{ref:u,className:"list d-flex",children:[(0,m.jsx)("div",{style:{width:"25%",minHeight:"300px"},className:sN()("d-flex flex-column justify-content-between",{"d-none":s}),children:(0,m.jsxs)("div",{children:[(0,m.jsx)(nx.A,{variant:"flush",children:(0,m.jsxs)(nx.A.Item,{className:"add-question-group",children:[(0,m.jsx)(te,{className:"text-primary fill-current ms-1"}),(0,m.jsx)("span",{className:"text-primary label-s ms-1",onClick:()=>i({type:nT().value,questionThemeName:nT().theme}),children:t("Add question group")})]})}),"",(0,m.jsx)(nx.A,{className:"my-2",variant:"flush",children:null==p?void 0:p.map((e,i)=>(0,m.jsx)("span",{className:"text-primary text-normal cursor-pointer",onClick:()=>n(e),children:e},`${i}-searched-text`))})]})}),(0,m.jsx)(T.A,{children:(e=>{let n=[];for(let o=0;o<e.length;o+=3){let d=0,u=(3===e.slice(o,o+3).length?e.slice(o,o+3):[...e.slice(o,o+3),{items:[]}]).map((e,s)=>{let n=(d+=e.items.length)-e.items.length;return(0,m.jsxs)(n_.A,{children:[(0,m.jsxs)("div",{className:"d-flex gap-2  align-items-center",children:[e.icon,(0,m.jsx)("span",{className:"fw-bold m-0 label-s",children:e.title})]}),(0,m.jsx)(nx.A,{className:"my-2",variant:"flush",children:null==e?void 0:e.items.map((e,s)=>(0,m.jsx)(nx.A.Item,{onClick:()=>{if(e.hidden||a)return;let s=[...p];s.push(l),g([...s]),i({type:e.value,questionThemeName:e.theme})},className:sN()("px-2",{"focus-element":r===n+s,disabled:a,"d-none":e.hidden}),ref:r===n+s?c:null,"data-testid":`question-type-${e.theme}`,id:`question-type-${e.theme}-item`,children:(0,m.jsx)("span",{"data-testid":"question-type-selector-label",className:"text-primary label-s",id:`question-type-${e.theme}-item-span`,children:e.label})},"list-item"+s))})]},s+e.title+"question-type-selector")});n.push((0,m.jsx)(nI.A,{className:sN()("mb-4",{"flex-column":s}),children:u},o))}return n})(v)})]})]})},nb=e=>{var i;let{value:a,update:s,activeDisabled:l=!1}=e,[n,r]=(0,h.useState)(!1),[o]=j(F),[d]=j(en),u=(0,m.jsx)(nv.A,{id:"question-type-selector-popover",bsPrefix:"question-type-attribute-selector-container",children:(0,m.jsx)(nN,{callBack:e=>s({type:e.type,questionThemeName:e.questionThemeName}),attributeTypeSelector:!0})}),c=Object.keys(lh()).find(e=>lh()[e].theme===a),p=null==(i=lh()[c])?void 0:i.title;return(0,m.jsxs)("div",{className:"question-type-general-settings","data-testid":"question-type",children:[(0,m.jsx)(a1.A.Label,{className:"d-block attribute-label",children:t("Type")}),(0,m.jsx)(sv.A,{trigger:"click",offset:[0,4],placement:"bottom",overlay:u,show:n,onToggle:e=>{r(e)},rootClose:!0,children:(0,m.jsxs)(sk.A,{variant:"outline-dark w-100 d-flex align-items-center justify-content-between overlay-trigger-button",disabled:o&&l||!d,children:[(0,m.jsx)("div",{className:"text-start",children:p}),(0,m.jsx)("div",{children:(0,m.jsx)(tn,{})})]})})]})},nE=iy().object({code:iy().string().pattern(/^[A-Z0-9]+$/)});var ny=a(63056);let nS=e=>{let{value:i,update:a}=e,[s]=j(z,{}),[l,n]=(0,h.useState)(""),[r,o]=(0,h.useState)(i),{focused:d}=dH();(0,h.useEffect)(()=>{o(i),u(i)},[null==d?void 0:d.qid]);let u=e=>{let i,{question:a}=s&&s[e]?s[e]:{question:null},l=(null==a?void 0:a.title)!==(null==d?void 0:d.title),r=a&&l;e&&n((i=e.toUpperCase(),nE.validate({code:i})).error?t("Only letters and numbers are allowed."):""),r&&n(t("Question codes must be unique."))};return(0,m.jsxs)("div",{children:[(0,m.jsxs)(a1.A.Group,{className:"d-flex qe-input-group align-content-center align-items-center",children:[(0,m.jsx)("div",{className:"ui-label w-50 flex-grow-1",children:t("Question code")}),(0,m.jsx)("div",{children:(0,m.jsx)(ny.A,{onChange:e=>{let{target:{value:i}}=e;o(i.toUpperCase()),u(i),""===l&&a(r)},value:r,errorMessage:l,dataTestId:"question-code",labelText:"Question code",labelClass:"text-nowrap d-block m-1",inputClass:"d-block w-100",className:"d-flex justify-content-between align-items-center w-100",noPermissionDisabled:!0,update:a},`${null==d?void 0:d.qid}-question-code-attribute`)})]}),l&&(0,m.jsx)("div",{className:"text-nowrap d-block m-1",children:(0,m.jsx)(a1.A.Text,{style:{fontSize:"14px",fontWeight:"500"},className:"text-danger",children:l})})]})};var nA=a(68978);let nf=[{value:"numbers",label:t("Numbers")},{value:"stars",label:t("Stars")}],nj=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"}],nC=e=>{let{itemsCount:i,itemsType:a,update:s,activeDisabled:l=!1}=e;return(0,m.jsxs)("div",{children:[(0,m.jsx)(a1.A.Label,{htmlFor:"select",children:t("Rating items")}),(0,m.jsxs)("div",{className:" d-flex align-items-center justify-content-between",children:[(0,m.jsx)(sY,{labelText:"",selectedOption:null==nj?void 0:nj.find(e=>e.value===((null==i?void 0:i.value)||"5")),options:nj,onChange:e=>{s({items_count:{"":{...i,value:e.value}}})},activeDisabled:l}),(0,m.jsx)(sY,{selectedOption:null==nf?void 0:nf.find(e=>(null==e?void 0:e.value)===((null==a?void 0:a.value)||"numbers")),options:nf,onChange:e=>{s({items_type:{"":{...a,value:e.value}}})},placeholder:"",components:{IndicatorSeparator:()=>null,Option:e=>(0,m.jsx)(nA.c.Option,{...e,children:(0,m.jsxs)("div",{className:" flex align-items-center",children:["stars"===e.data.value?(0,m.jsx)("i",{className:"ri-star-fill me-1"}):(0,m.jsx)("i",{className:"ri-list-ordered me-1"}),e.data.label]})}),Control:e=>{let{children:i,...a}=e;return(0,m.jsxs)(nA.c.Control,{...a,children:[a.getValue().length>0&&("stars"===a.getValue()[0].value?(0,m.jsx)("i",{className:"ri-star-fill me-1"}):(0,m.jsx)("i",{className:"ri-list-ordered me-1"})),i]})}},theme:e=>({...e,colors:{...e.colors,primary:"#8146F6"}}),styles:{dropdownIndicator:e=>({...e,color:"#6E748C"}),control:e=>({...e,borderRadius:"4px",borderWidth:"2px",borderColor:" #6E748C",paddingLeft:"0.5rem",boxShadow:"none",fontWeight:400,fontSize:"0.9975rem",width:"155px","&:hover":{borderColor:" #6E748C"}})},activeDisabled:l})]})]})},nO=()=>({QUESTION_CODE:{component:nS,attributePath:"title",props:{},returnValues:["title"]},QUESTION_TYPE:{component:nb,attributePath:"questionThemeName",props:{},returnValues:["type","questionThemeName"]},MANDATORY:{component:s4,attributePath:"mandatory",props:{labelText:t("Mandatory"),id:"mandatory",toggleOptions:[{name:t("On"),value:!0},{name:t("Soft"),value:"S"},{name:t("Off"),value:!1}],defaultValue:!1},returnValues:["mandatory"]},NUMBERS_ONLY:{component:s4,attributePath:"attributes.numbers_only",props:{labelText:t("Numbers only"),id:"numbers-only-attribute-question-settings",toggleOptions:sh(),defaultValue:"0"}},MAX_CHARACTERS:{component:s_,attributePath:"attributes.maximum_chars",props:{labelText:t("Max characters"),id:"maximum-characters",allowEmpty:!0,placeholder:500,type:"number"}},ENCRYPTED:{component:s4,attributePath:"encrypted",props:{labelText:t("Store answers encrypted"),id:"general-encrypted",toggleOptions:su(sl),defaultValue:!1},returnValues:["encrypted"]},SAVE_AS_DEFAULT:{component:s4,attributePath:"attributes.save_as_default",props:{labelText:t("Save as default values"),id:"save-as-default-values",toggleOptions:su(so),defaultValue:"N"}},CLEAR_DEFAULT_VALUES:{component:s4,attributePath:"attributes.clear_default",props:{labelText:t("Clear default values"),id:"clear-default-values",toggleOptions:sh(sp)}},OTHER:{component:s4,attributePath:"other",props:{labelText:t("Other"),id:"general-other",toggleOptions:sh(sc),defaultValue:!1},returnValues:["other"]},INPUT_VALIDATION:{component:s_,attributePath:"preg",props:{labelText:t("Input validation")},returnValues:["preg"]},LOGIC:{component:s_,attributePath:"relevance",props:{labelText:t("Logic")},returnValues:["relevance"],hidden:!0},RATING_ITEMS:{component:nC,attributePath:"",props:{labelText:t("Rating items")}}}),nw=()=>({DATE_FORMAT:{component:sY,attributePath:"attributes.date_format",props:{labelText:t("Date/Time Format"),dataTestId:"date-time-format",options:[{label:"yyyy-mm-dd",value:"yyyy-mm-dd"},{label:"yyyy/mm/dd",value:"yyyy/mm/dd"},{label:"mm-dd-yyyy",value:"mm-dd-yyyy"},{label:"mm/dd/yyyy",value:"mm/dd/yyyy"},{label:"dd-mm-yyyy",value:"dd-mm-yyyy"},{label:"dd/mm/yyyy",value:"dd/mm/yyyy"},{label:"yyyy-mm-dd HH:MM",value:"yyyy-mm-dd HH:MM"},{label:"yyyy/mm/dd HH:MM",value:"yyyy/mm/dd HH:MM"},{label:"mm-dd-yyyy HH:MM",value:"mm-dd-yyyy HH:MM"},{label:"mm/dd/yyyy HH:MM",value:"mm/dd/yyyy HH:MM"},{label:"dd-mm-yyyy HH:MM",value:"dd-mm-yyyy HH:MM"},{label:"dd/mm/yyyy HH:MM",value:"dd/mm/yyyy HH:MM"}]}},MINUTE_STEP_INTERVAL:{component:s_,attributePath:"attributes.dropdown_dates_minute_step",props:{labelText:t("Minute step interval"),dataTestId:"minute-step-interval",max:30,min:0,type:"number"}},MINIMUM_VALUE:{component:s_,attributePath:"attributes.min_num_value_n",props:{labelText:t("Minimum value"),dataTestId:"minimum-value"}},EQUAL_SUM_VALUE:{component:s_,attributePath:"attributes.equals_num_value",props:{labelText:t("Equals sum value")}},INTEGER_ONLY:{component:s4,attributePath:"attributes.num_value_int_only",props:{labelText:t("Integer only"),id:"integer-only",toggleOptions:su(),defaultValue:"0"}},MAXIMUM_SUM_VALUE:{component:s_,attributePath:"attributes.max_num_value",props:{labelText:t("Maximum sum value")}},MINIMUM_SUM_VALUE:{component:s_,attributePath:"attributes.min_num_value",props:{labelText:t("Minimum sum value")}},MAXIMUM_VALUE:{component:s_,attributePath:"attributes.max_num_value_n",props:{labelText:t("Maximum value"),dataTestId:"maximum-value"}},VALUE_RANGE_ALLOWS_MISSING:{component:s4,attributePath:"attributes.value_range_allows_missing",props:{labelText:t("Value range allows missing"),id:"value-range-allows-missing",toggleOptions:su(),defaultValue:"0"}}}),nq=()=>({USE_MAPPING_SERVICE:{component:s4,attributePath:"attributes.location_mapservice",props:{id:"use-mapping-service",labelText:t("Use mapping service"),optionTextClassName:"text-sm",toggleOptions:[{name:t("Google Maps"),value:"1"},{name:t("OpenStreetMap"),value:"100"},{name:t("Off"),value:"0"}],defaultValue:"100"}},MAP_POSITION:{component:s3,attributePath:"attributes.location_mapposition",props:{id:"map-position",labelText:t("Map position"),dataTestId:"map-position",value:"center"}},IP_AS_DEFAULT_LOCATION:{component:s4,attributePath:"attributes.location_nodefaultfromip",props:{id:"ip-as-default-location",labelText:t("IP as default location"),toggleOptions:su(),defaultValue:"1"}},SAVE_COUNTRY:{component:s4,attributePath:"attributes.location_country",props:{labelText:t("Save country"),id:"save-country",toggleOptions:su(),defaultValue:"0"}},SAVE_STATE:{component:s4,attributePath:"attributes.location_state",props:{labelText:t("Save state"),id:"save-state",toggleOptions:su(),defaultValue:"0"}},SAVE_CITY:{component:s4,attributePath:"attributes.location_city",props:{id:"save-city",labelText:t("Save city"),toggleOptions:su(),defaultValue:"0"}},SAVE_POSTAL_CODE:{component:s4,attributePath:"attributes.location_postal",props:{id:"save-postal-code",labelText:t("Save postal code"),toggleOptions:su(),defaultValue:"0"}},ZOOM_LEVEL:{component:s_,attributePath:"attributes.location_mapzoom",props:{id:"zoom-level",type:"number",labelText:t("Zoom level")}},DEFAULT_POSITION:{component:s_,attributePath:"attributes.location_defaultcoordinates",props:{dataTestId:"default-position",labelText:t("Default position")}}}),nM=a8(),nL=()=>({MINIMUM_ANSWERS:{component:s_,attributePath:"attributes.min_answers",props:{labelText:t("Minimum answers"),dataTestId:"minimum-answers"}},MAXIMUM_ANSWERS:{component:s_,attributePath:"attributes.max_answers",props:{labelText:t("Maximum answers"),dataTestId:"maximum-answers"}},COMMENT_ONLY_WHEN:{component:sY,attributePath:"attributes.commented_checkbox",props:{labelText:t("Comment only when"),dataTestId:"comment-only-when",options:[{label:nM.CHECKED.label,value:nM.CHECKED.value},{label:nM.ALWAYS.label,value:nM.ALWAYS.value},{label:nM.UNCHECKED.label,value:nM.UNCHECKED.value}]}},EQUATION:{component:s_,attributePath:"attributes.equation",props:{labelText:t("Equation"),className:"textarea",type:"textarea",role:"textarea",rows:3}},ARRAY_FILTER_EXCLUSION:{component:s_,attributePath:"attributes.array_filter_exclude",props:{labelText:t("Array filter exclusion"),dataTestId:"array-filter-exclusion"}},ARRAY_FILTER:{component:s_,attributePath:"attributes.array_filter",props:{labelText:t("Array filter"),dataTestId:"array-filter"}},ARRAY_FILTER_STYLE:{component:s4,attributePath:"attributes.array_filter_style",props:{labelText:t("Array filter style"),dataTestId:"array-filter-style",toggleOptions:[{name:t("Hidden"),value:"0"},{name:t("Disabled"),value:"1"}]}},NUMBERS_ONLY_FOR_OTHER:{component:s4,attributePath:"attributes.other_numbers_only",props:{labelText:t("Numbers only for 'Other'"),id:"numbers-only-for-other",toggleOptions:sh(),defaultValue:"0"}},REMOVE_TEXT_OR_UNCHECK_CHECKBOX_AUTOMATICALLY:{component:s4,attributePath:"attributes.commented_checkbox_auto",props:{labelText:t("Remove text or uncheck checkbox automatically"),id:"remove-text-or-uncheck-checkbox-automatically",toggleOptions:sh(),defaultValue:"0"}},ASSESSMENT_VALUE:{component:s_,attributePath:"attributes.assessment_value",props:{labelText:t("Assessment value"),dataTestId:"assessment-value"}},EXCLUSIVE_OPTIONS:{component:s_,attributePath:"attributes.exclude_all_others",props:{labelText:t("Exclusive option"),dataTestId:"exclusive-option"}},RANDOMIZATION_GROUP_NAME:{component:s_,attributePath:"attributes.random_group",props:{labelText:t("Randomization group name"),dataTestId:"randomization-group-name"}},QUESTION_VALIDATION_EQUATION:{component:s_,attributePath:"attributes.em_validation_q",props:{labelText:t("Question validation equation")}},COMMENT_MANDATORY:{component:s4,attributePath:"attributes.other_comment_mandatory",props:{labelText:t("'Other:' comment mandatory"),id:"comment-mandatory",toggleOptions:sh(),defaultValue:"0"}},SUBQUESTION_VALIDATION_EQUATION:{component:s_,attributePath:"attributes.em_validation_sq",props:{labelText:t("Subquestion validation equation")}},SUBQUESTION_VALIDATION_TIP:{component:s_,attributePath:"attributes.em_validation_sq_tip",props:{labelText:t("Question validation tip")}},QUESTION_VALIDATION_TIP:{component:s_,attributePath:"attributes.em_validation_q_tip",languageBased:!0,props:{labelText:t("Question validation tip")}},MAXIMUM_COLUMNS_FOR_ANSWERS:{component:s_,attributePath:"attributes.max_subquestions",props:{labelText:t("Maximum columns for answers"),dataTestId:"maximum-columns-for-answers",type:"number"}}}),nD=()=>({MIN_NUMBER_FILES:{component:s_,attributePath:"attributes.min_num_of_files",props:{labelText:t("Min number of files"),dataTestId:"min-number-of-files",type:"number",defaultValue:"1"}},ALLOWED_FILE_TYPES:{component:s_,attributePath:"attributes.allowed_filetypes",props:{labelText:t("Allowed file types"),dataTestId:"allowed-file-types",defaultValue:"png, gif, doc, odt, jpg, jpeg"}},MAXIMUM_FILE_SIZE_ALLOWED:{component:s_,attributePath:"attributes.max_filesize",props:{labelText:t("Max file size (kB)"),dataTestId:"maximum-file-size-allowed",type:"number",min:1,max:0x40000000,defaultValue:"1024"}},MAX_NUMBER_FILES:{component:s_,attributePath:"attributes.max_num_of_files",props:{labelText:t("Max number of files"),dataTestId:"max-number-of-files",type:"number",min:1,defaultValue:"1"}},CHOICE_HEADER:{component:s_,attributePath:"attributes.choice_title",props:{labelText:t("Choice header"),dataTestId:"choice-header"}},RANK_HEADER:{component:s_,attributePath:"attributes.rank_title",props:{labelText:t("Rank header"),dataTestId:"rank-header"}},SHOW_GRAND_TOTAL:{component:s4,attributePath:"attributes.show_grand_total",props:{labelText:t("Show grand total"),dataTestId:"show-grand-total",toggleOptions:sh(),defaultValue:"0"}},SHOW_TOTALS_FOR:{component:sY,attributePath:"attributes.show_totals",props:{id:"use-slider-layout",labelText:t("Show totals for"),dataTestId:"show-totals-for",options:[{label:t("Off"),value:"X"},{label:t("Rows"),value:"R"},{label:t("Columns"),value:"C"},{label:t("Rows & columns"),value:"B"}]}},INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW:{component:s4,attributePath:"attributes.page_break",props:{id:"insert-page-break-in-printable-view",labelText:t("Insert page break in printable view"),toggleOptions:su(),defaultValue:"0"}},SPSS_EXPORT_SCALE_TYPE:{component:sY,attributePath:"attributes.scale_export",props:{labelText:t("SPSS export scale type"),options:[{label:t("Default"),value:"0"},{label:t("Nominal"),value:"1"},{label:t("Ordinal"),value:"2"},{label:t("Scale"),value:"3"}]}}}),nR=()=>({USE_SLIDER_LAYOUT:{component:s4,attributePath:"attributes.slider_layout",props:{id:"use-slider-layout",labelText:t("Use slider layout"),toggleOptions:su(),defaultValue:"0"}},ORIENTATION:{component:s4,attributePath:"attributes.slider_orientation",props:{id:"orientation",labelText:t("Orientation"),toggleOptions:[{name:t("Horizontal"),value:"0"},{name:t("Vertical"),value:"1"}],defaultValue:"0"}},SLIDER_MINIMUM_VALUE:{component:s_,attributePath:"attributes.slider_min",props:{id:"slider-minimum-value",labelText:t("Slider minimum value"),type:"number"}},SLIDER_MAXIMUM_VALUE:{component:s_,attributePath:"attributes.slider_max",props:{id:"slider-maximum-value",labelText:t("Slider maximum value"),type:"number"}},SLIDER_ACCURACY:{component:s_,attributePath:"attributes.slider_accuracy",props:{id:"slider-accuracy",labelText:t("Step value"),value:1,type:"number"}},DISPLAY_SLIDER_MIN_AND_MAX_VALUE:{component:s4,attributePath:"attributes.slider_showminmax",props:{id:"display-slider-min-and-max-value",labelText:t("Display min and max value"),toggleOptions:su(),defaultValue:"0"}},SLIDER_LEFT_RIGHT_TEXT_SEPARATOR:{component:s_,attributePath:"attributes.slider_separator",props:{id:"slider-left-right-text-separator",labelText:t("Slider left/right text separator")}},SLIDER_STARTS_AT_THE_MIDDLE_POSITION:{component:sY,attributePath:"attributes.slider_middlestart",props:{id:"slider-starts-at-the-middle-position",labelText:t("Start value"),options:[{label:t("Center position"),value:"1"},{label:t("Initial value"),value:"0"}],defaultValue:{label:t("Initial value"),value:"0"}}},SLIDER_INITIAL_VALUE:{component:s_,attributePath:"attributes.slider_default",props:{id:"slider-initial-value",labelText:t("Slider initial value"),type:"number"}},SLIDER_INITIAL_VALUE_SET_AT_STARTS:{component:s4,attributePath:"attributes.slider_default_set",props:{id:"slider-initial-value-set-at-starts",labelText:t("Use initial value as answer"),toggleOptions:su(),defaultValue:"1"}},ALLOW_SLIDER_RESET:{component:s4,attributePath:"attributes.slider_reset",props:{id:"allow-slider-reset",labelText:t("Allow slider reset"),toggleOptions:su(),defaultValue:"0"}},REVERSE_THE_SLIDER_DIRECTION:{component:s4,attributePath:"attributes.slider_reversed",props:{name:"reverse-the-slider-direction",id:"reverse-the-slider-direction",labelText:t("Slider direction"),toggleOptions:[{name:t("Default"),value:"0"},{name:t("Reverse"),value:"1"}],defaultValue:"0"}},HANDLE_SHAPE:{component:sY,attributePath:"attributes.slider_handle",props:{id:"handle-shape",labelText:t("Handle shape"),options:[{label:t("Circle"),value:"0"},{label:t("Square"),value:"1"},{label:t("Triangle"),value:"2"},{label:t("Custom"),value:"3"}]}},CUSTOM_HANDLE_UNICODE_CODE:{component:s_,attributePath:"attributes.slider_custom_handle",props:{id:"custom-handle-unicode-code",labelText:t("Custom handle Unicode code"),dataTestId:"custom-handle-unicode-code"}}}),nP=e=>{let{active:i,payload:a}=e;if(i&&a&&a.length){var s,l;return(0,m.jsxs)("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg",children:[(0,m.jsxs)("p",{className:"text-blue-600",children:[t("Label"),": ",`${null==(l=a[0])||null==(s=l.payload)?void 0:s.title}`]}),(0,m.jsxs)("p",{children:[t("Count"),": ",a[0].value]}),(0,m.jsxs)("p",{className:"text-blue-600",children:[t("Percentage"),": ",a[0].payload.percentage]})]})}return null},nk=["#FFBA68","#FF9AA2","#25003E","#8146F6","#7FF409","#FFE872","#A3C8FF"],nU=e=>(null==e?void 0:e.data)?[...e.data].map((i,a)=>({...i,percentage:(i.value/(e.total||1)*100).toFixed(1),fill:nk[a%nk.length]})):[],nH=()=>({SHOW_IN_STATISTICS:{component:sY,attributePath:"attributes.statistics_graphtype",props:{labelText:t("Show in statistics"),dataTestId:"display-chart",options:[{label:t("Don't show"),value:-1},{label:t("Bar chart"),value:0},{label:t("Pie chart"),value:1},{label:t("Radar"),value:2},{label:t("Line"),value:3},{label:t("Polar area"),value:4}],value:"0"}},SHOW_IN_PUBLIC_STATISTICS:{component:s4,attributePath:"attributes.public_statistics",props:{labelText:t("Show in public statistics"),id:"show-in-pubic-statistics",toggleOptions:sh(),defaultValue:"0"}}}),nG=()=>({TIME_LIMIT_TIMER_CSS_STYLE:{component:s_,attributePath:"attributes.time_limit_timer_style",props:{labelText:t("Time limit timer CSS style"),dataTestId:"minimum-value"}},TIME_LIMIT_EXPIRY_MESSAGE_DISPLAY_TIME:{component:s_,attributePath:"attributes.time_limit_message_delay",props:{labelText:t("Expiry message display time"),dataTestId:"time-limit-expiry-message-display-time",rightInputText:"sec",type:"number"}},TIME_LIMIT_EXPIRY_MESSAGE:{component:s_,attributePath:"attributes.time_limit_message",languageBased:!0,props:{labelText:t("Expiry message"),as:"textarea",type:"textarea",role:"textarea",rows:"4"}},TIME_LIMIT_MESSAGE_CSS_STYLE:{component:s_,attributePath:"attributes.time_limit_message_style",props:{labelText:t("Time limit message CSS style")}},FIRST_TIME_LIMIT:{component:s4,attributePath:"attributes.use_first_limit_warning",props:{labelText:t("1st time limit warning"),id:"1st-time-limit",dataTestId:"1st-time-limit",toggleOptions:su(),defaultValue:"0"}},FIRST_TIME_LIMIT_WARNING_TIMER:{component:s_,attributePath:"attributes.time_limit_warning",get dependsOn(){return nG().FIRST_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("1st time limit warning timer"),rightInputText:"sec",type:"number"}},FIRST_TIME_LIMIT_WARNING_DISPLAY_TIMER:{component:s_,attributePath:"attributes.time_limit_warning_display_time",get dependsOn(){return nG().FIRST_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("1st time limit display timer"),dataTestId:"first-time-limit-warning-timer",rightInputText:"sec",type:"number"}},FIRST_TIME_LIMIT_WARNING_MESSAGE:{component:s_,attributePath:"attributes.time_limit_warning_message",languageBased:!0,get dependsOn(){return nG().FIRST_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("1st time limit message")}},FIRST_TIME_LIMIT_TIMER_CSS_STYLE:{component:s_,attributePath:"attributes.time_limit_warning_style",get dependsOn(){return nG().FIRST_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("1st time limit message CSS style")}},SECOND_TIME_LIMIT:{component:s4,attributePath:"attributes.use_second_limit_warning",props:{labelText:t("2nd time limit warning"),dataTestId:"second-time-limit-warning",id:"second-time-limit-warning",toggleOptions:su(),defaultValue:"0"}},SECOND_TIME_LIMIT_WARNING_TIMER:{component:s_,attributePath:"attributes.time_limit_warning_2",get dependsOn(){return nG().SECOND_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("2nd time limit warning timer"),dataTestId:"second-time-limit-warning-timer",rightInputText:"sec",type:"number"}},SECOND_TIME_LIMIT_WARNING_DISPLAY_TIMER:{component:s_,attributePath:"attributes.time_limit_warning_2_display_time",get dependsOn(){return nG().SECOND_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("2nd time limit display timer"),dataTestId:"second-time-limit-warning-timer",rightInputText:"sec",type:"number"}},SECOND_TIME_LIMIT_WARNING_MESSAGE:{component:s_,attributePath:"attributes.time_limit_warning_2_message",languageBased:!0,get dependsOn(){return nG().SECOND_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("2nd time limit message"),as:"textarea",type:"textarea",role:"textarea",rows:"4"}},SECOND_TIME_LIMIT_TIMER_CSS_STYLE:{component:s_,attributePath:"attributes.time_limit_warning_2_style",get dependsOn(){return nG().SECOND_TIME_LIMIT},onDependsToggle:{onFalse:""},props:{labelText:t("2nd time limit message CSS style")}},TIME_LIMIT:{component:s_,attributePath:"attributes.time_limit",props:{labelText:t("Time limit"),dataTestId:"time-limit",rightInputText:"sec",type:"number"}},TIME_LIMIT_ACTION:{component:sY,attributePath:"attributes.time_limit_action",props:{labelText:t("Time limit action"),options:[{label:t("Warn and move on"),value:"1"},{label:t("Move on without warning"),value:"2"},{label:t("Disable only"),value:"3"}]}},TIME_LIMIT_DISABLE_NEXT:{component:s4,attributePath:"attributes.time_limit_disable_next",props:{labelText:t("Time limit disable next"),id:"time-limit-disable-next",toggleOptions:sh(),defaultValue:"0"}},TIME_LIMIT_DISABLE_PREV:{component:s4,attributePath:"attributes.time_limit_disable_prev",props:{labelText:t("Time limit disable prev"),id:"time-limit-disable-prev",toggleOptions:sh(),defaultValue:"0"}},TIME_LIMIT_COUNTDOWN_MESSAGE:{component:s_,attributePath:"attributes.time_limit_countdown_message",languageBased:!0,props:{labelText:t("Time limit countdown message"),as:"textarea",type:"textarea",role:"textarea",rows:"4"}}}),nV=()=>({BUTTON_SIZE:{component:sY,attributePath:"attributes.button_size",props:{labelText:t("Button size"),id:"button-size",options:[{label:t("Default"),value:"default"},{label:t("Large"),value:"lg"},{label:t("Small"),value:"sm"},{label:t("Extra small"),value:"xs"}]}},MAXIMUM_NUMBER_OF_BUTTONS_IN_A_ROW:{component:sY,attributePath:"attributes.max_buttons_row",props:{id:"maximum-number-of-buttons-in-a-row",labelText:t("Maximum number of buttons in a row"),options:[{label:t("Default"),value:"default"},{label:"1",value:"col-md-12"},{label:"2",value:"col-md-6"},{label:"3",value:"col-md-4"},{label:"4",value:"col-md-3"},{label:"6",value:"col-md-2"},{label:"12",value:"col-md-1"}]}},ALLOW_SEARCHING_DROPDOWN:{component:s4,attributePath:"attributes.show_search",props:{labelText:t("Allow searching of dropdown"),id:"search-of-dropdown",toggleOptions:su(sn),defaultValue:"false"}},DISPLAY_TICK_SELECTED_ITEM:{component:s4,attributePath:"attributes.show_tick",props:{labelText:t("Display tick on selected item"),id:"display-tick",toggleOptions:su(sn),defaultValue:"false"}},WIDTH_DROPDOWN_SELECTED_ENTRY:{component:sY,attributePath:"attributes.width_entry",props:{labelText:t("Width of dropdown"),id:"width-dropdown-selected-entry",options:[{label:t("Current selected entry"),value:"true"},{label:t("Longest entry"),value:"false"}],value:"false"}}}),nY=e=>{let{update:i,value:a={},isSimpleSettings:s=!1}=e,[l,n]=(0,h.useState)(!1),[r,o]=(0,h.useState)(125),[d,u]=(0,h.useState)({}),[c,p]=(0,h.useState)(null),[g,v]=(0,h.useState)(0),{fileService:x}=dU();(0,h.useEffect)(()=>{var e;let i=sK(a);u(i),o(125-((null==(e=i.imageAltText)?void 0:e.length)||0)),i&&i.imagePath?p(i.imagePreviewUrl):p(null)},[a]),(0,h.useEffect)(()=>{d.imagePath&&v(e=>e+1)},[d.imagePath]);let I=e=>{let a={...d,...e};(void 0!==e.imageBrightness||void 0!==e.imageRadius)&&(a.imageStyles=sZ(a)),u(a),i(JSON.stringify({image_path:a.imagePath||"",image_align:a.imageAlign||"left",image_brightness:a.imageBrightness||0,image_radius:a.imageRadius||0,image_alt_text:a.imageAltText||"",image_styles:sZ(a,!0)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"mb-3",children:[s&&(0,m.jsx)("hr",{className:"mb-3"}),(0,m.jsx)(sG,{previewUrlInit:c,onChangePreview:e=>{p(e)},fileService:x,onChange:e=>{I({imagePath:encodeURI(e)})},labelText:t("Add image"),image:c,dataTestId:"add-image-or-video",trashIconEnabled:!1},`dropzone-${c?"with-image":"empty"}`),c&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"mt-3 d-flex align-items-center justify-content-between","data-testid":"image-or-video-edit-delete",children:[(0,m.jsx)("span",{}),(0,m.jsxs)("div",{children:[(0,m.jsx)(sk.A,{className:"d-none",onClick:()=>n(!0),variant:"secondary",children:(0,m.jsx)(tx,{className:" fill-current"})}),(0,m.jsx)(sk.A,{onClick:()=>{I(sX()),p(null)},variant:"secondary",className:"ms-2",children:(0,m.jsx)(tg,{className:"fill-current"})})]})]}),(0,m.jsx)("div",{className:"qe-input-group mt-3",children:(0,m.jsx)(s3,{update:e=>{I({imageAlign:e})},labelText:t("Alignment"),value:d.imageAlign})}),(0,m.jsx)("div",{className:"qe-input-group mt-3 image-attributes-range",children:(0,m.jsx)(sW,{onChange:e=>{I({imageBrightness:e[0]})},labelText:t("Brightness"),min:-100,max:100,value:d.imageBrightness,step:1,direction:sz.Direction.Right},`brightness-${g}`)}),(0,m.jsx)("div",{className:"qe-input-group mt-3 image-attributes-range",children:(0,m.jsx)(sW,{onChange:e=>{I({imageRadius:e[0]})},labelText:t("Radius"),min:0,max:50,value:d.imageRadius,step:1,direction:sz.Direction.Right},`radius-${g}`)}),(0,m.jsxs)("div",{className:"qe-input-group mt-3",children:[(0,m.jsx)(a1.A.Label,{children:t("Alt text")}),(0,m.jsxs)("div",{className:" position-relative",children:[(0,m.jsx)(a1.A.Control,{value:d.imageAltText,className:"textarea",maxLength:125,placeholder:t("Image description"),as:"textarea",rows:6,"data-testid":"alt-text",onChange:e=>{o(125-e.target.value.length),I({imageAltText:e.target.value})}}),(0,m.jsxs)("p",{className:"bottom-0 position-absolute",style:{right:"10px",color:nQ(r,125)},children:[r,"/",125]})]})]}),(0,m.jsx)(sJ,{showModal:l,onClose:()=>n(!1),onChange:e=>{I({imageZoom:e.imageZoom,imageRotate:e.imageRotate,imageRadius:e.imageRadius,imagePositionX:e.imagePositionX,imagePositionY:e.imagePositionY,imageStyles:e.imageStyles})},imageObject:d})]})]})})},nQ=(e,i)=>{let a=e/i;return a>=.2?"#1A7A47":a>=.06?"#8F5A00":a>=0||a<0?"#D12323":void 0},nB=e=>{let{isFocused:i,removeItem:a,dragIconSize:s,provided:l={},highestHeight:n,index:r,title:o,handleUpdateL10ns:d,placeholder:u="Answer option",itemsKey:c,isNoAnswer:p=!1,entity:h}=e,[g]=j(F),v="answers"===c?"code":"title",{surveyId:x}=(0,_.g)(),{survey:I}=dV(x),T=I.showQNumCode;return(0,m.jsxs)("div",{className:sN()("d-flex array-question-item position-relative remove-option-button-parent"),children:[(0,m.jsx)("div",{...l.dragHandleProps,className:sN()({"disabled opacity-0":!l.dragHandleProps},"d-flex align-items-center"),style:{position:"absolute",top:"50%",left:"10px",transform:"translate(-50%, -50%)"},children:i&&(0,m.jsx)(tv,{className:"text-secondary fill-current"})}),!(g&&"subquestions"===c)&&(0,m.jsx)("div",{className:"cursor-pointer remove-option-button remove-item-button",onClick:()=>a(r),style:{position:"absolute",top:"-10px",left:"50%",transform:"translate(-50%, -50%)"},"data-testid":"remove-horizontal-option-button",children:(0,m.jsx)(tm,{className:sN()("text-danger fill-current",{"d-none disabled":!i||p})})}),(0,m.jsx)("div",{children:i&&(null==T?void 0:T.showNumber)&&h&&h[v]&&(0,m.jsx)("div",{className:"question-code-tag",style:{marginLeft:"20px"},children:h[v]})}),(0,m.jsx)("div",{style:{minHeight:n,paddingLeft:i&&(null==T?void 0:T.showNumber)?0:s,paddingRight:i&&(null==T?void 0:T.showNumber)?0:s,marginLeft:p&&i?"40px":0},children:(0,m.jsx)(sL,{className:sN()("text-start choice array-answer-content-editor"),placeholder:u,value:o,update:e=>d(e,r),disabled:p})})]})},nF=e=>{var i;let{question:{answers:a=[],subquestions:s=[],attributes:l={},qid:n,questionThemeName:r}={},onDragEndCallback:o,highestSubquestionWidth:d,isFocused:u,arrayAnswersWidth:c,setArrayAnswersWidth:p,dragIconSize:g,scaleId:v,highestHeight:x,setHighestHeight:I=()=>{},setNumberOfHorizontalEntities:T,setHorizontalInfo:N=()=>{},handleUpdateL10ns:b=()=>{},removeItem:E=()=>{},handleHeaderUpdate:y=()=>{},isArrayDualScale:S=!1,handleHeaderHeightChange:A=()=>{},headersHeight:f,showNoAnswer:C=!1}=e,[O,w]=(0,h.useState)(!1),[M,L]=(0,h.useState)(""),{surveyId:D}=(0,_.g)(),R=(0,h.useRef)(null),[P]=j(ep),{survey:k}=dV(D),U=r===lh().ARRAY_COLUMN.theme,H=r===lh().ARRAY_TEXT.theme,G=r===lh().ARRAY_NUMBERS.theme,V=r===lh().ARRAY.theme,Y=k.showQNumCode;(0,h.useEffect)(()=>{L(aE(l[0===v?ng().SCALE_HEADER_A.attributeName:ng().SCALE_HEADER_B.attributeName],P))},[P]);let Q=(0,h.useMemo)(()=>{let e={};return e=H||G||U?{items:Array.isArray(s)?s.filter(e=>1===e.scaleId||U):[],itemsKey:"subquestions",idKey:"qid",sortKey:"sortOrder",titleKey:"question",rowName:"subquestion",placeholder:t("Subquestion"),scaleId:U?void 0:1,entity:iQ.subquestion}:{items:r===lh().ARRAY_DUAL_SCALE.theme?a.filter(e=>e.scaleId===v):a,itemsKey:"answers",idKey:"aid",sortKey:"sortOrder",titleKey:"answer",rowName:"answer option",placeholder:t("Answer option"),scaleId:v||0,entity:iQ.answer},setTimeout(()=>{var i;T((null==(i=e.items)?void 0:i.length)||0),N(e)},0),e},[a,s,H,G,U,r]),B=()=>{let e=0;if(R.current){if(R.current.querySelectorAll(".array-answer-content-editor").forEach((i,a)=>{let s=i.offsetHeight;c[a]=i.clientWidth,s>e&&(e=s)}),S){let e=R.current.querySelector(".array-dual-scale-header-input");A(null==e?void 0:e.clientHeight,v)}p([...c]),I(e,v)}};return(0,h.useEffect)(()=>{let e=new ResizeObserver(()=>{B()});return R.current&&(R.current.querySelectorAll(".array-answer-content-editor, .array-dual-scale-header-input").forEach(i=>{e.observe(i)}),e.observe(R.current)),()=>{e.disconnect()}},[]),(0,m.jsx)("div",{ref:R,children:(0,m.jsxs)(s1,{onDragEnd:e=>{w(!1),o(e,Q),setTimeout(()=>{B()},1)},onDragStart:()=>{w(!0)},droppableId:"droppable-subquestions-answers",className:sN()("d-flex"),direction:"horizontal",children:[(0,m.jsx)("div",{style:{minWidth:0===v?d+g+(u&&(null==Y?void 0:Y.showNumber)?80:0):0}}),(0,m.jsxs)("div",{style:{marginTop:"20px"},children:[S&&(0,m.jsx)("div",{style:{minHeight:(0,i_.max)(f)},className:"d-flex justify-content-center",children:(0,m.jsx)(sL,{placeholder:`Header ${v+1}`,value:M,update:e=>{L(e),y(e,v)},style:{width:"max-content"},className:"array-dual-scale-header-input"})}),(0,m.jsxs)("div",{className:"d-flex position-relative",children:[null==Q||null==(i=Q.items)?void 0:i.map((e,i)=>(0,m.jsx)(s0.sx,{draggableId:`${e[Q.idKey]}-${n}-${i}-subQuestionAnswerTitle`,index:i,children:(a,s)=>(0,m.jsx)("div",{ref:a.innerRef,...a.draggableProps,style:{userSelect:"none",...a.draggableProps.style},className:sN()("text-center text-secondary",{"focus-element":s.isDragging||O,"bg-grey":!(i%2)&&U}),children:(0,m.jsx)(nB,{dragIconSize:g,removeItem:()=>E(Q,e),highestHeight:x,index:i,isFocused:u,provided:a,title:q({prop:Q.titleKey,language:P,l10ns:e.l10ns}),handleUpdateL10ns:(e,i)=>b(e,Q,i),placeholder:Q.placeholder,itemsKey:Q.itemsKey,entity:e})})},`${e[Q.idKey]}-${n}-${i}-subQuestionAnswerTitle`)),C&&(S||V)&&(0,m.jsx)("div",{className:sN()("question-body-content"),children:(0,m.jsx)(nB,{dragIconSize:g,removeItem:()=>{},highestHeight:x,index:a.length,isFocused:u,title:aX(!0),handleUpdateL10ns:()=>{},itemsKey:Q.itemsKey,isNoAnswer:!0})})]})]})]})})},nz=e=>{let{subQuestionindex:i,subQuestionsHeight:a=[],arrayAnswersWidth:s=[],dragIconSize:l=1,index:n,showBackgroundUnderSubQuestion:r=!1,qid:o,isFocused:d}=e,{surveyId:u}=(0,_.g)(),{survey:c}=dV(u),p=c.showQNumCode;return(0,m.jsx)(ni.A,{onClick:e=>{e.stopPropagation()},type:"radio",className:sN()("mb-0 array-question-item  d-flex align-items-center justify-content-center",{"bg-grey":r}),style:{width:`${s[n]+(d&&(null==p?void 0:p.showNumber)?80:2*l)}px`,minHeight:(a[i]||50)+10},name:`array-subquestion-radio-answers-${i}${o}`})},n$=e=>{let{subQuestionindex:i,subQuestionsHeight:a=[],arrayAnswersWidth:s=[],dragIconSize:l=1,index:n,showBackgroundUnderSubQuestion:r=!1,isFocused:o}=e,{surveyId:d}=(0,_.g)(),{survey:u}=dV(d),c=u.showQNumCode;return(0,m.jsx)("div",{className:sN()("array-question-item d-flex align-items-center py-1",{"bg-grey":r}),style:{minHeight:(a[i]||50)+10,cursor:"not-allowed"},children:(0,m.jsx)(s_,{disabled:!0,style:{width:`${s[n]+(o&&(null==c?void 0:c.showNumber)?80:2*l)}px`,padding:"0 10px"},className:"disabled"})})},nW=e=>{let{index:i,subQuestionindex:a,subQuestionsHeight:s=[],arrayAnswersWidth:l=[],dragIconSize:n=1,showBackgroundUnderSubQuestion:r=!1,isFocused:o}=e,{surveyId:d}=(0,_.g)(),{survey:u}=dV(d),c=u.showQNumCode,p=[{value:"...",label:"..."},...Array(10).fill("-").map((e,i)=>({label:`${i+1}`,value:`${i+1}`}))];return(0,m.jsx)("div",{className:sN()("array-question-item d-flex align-items-center justify-content-center py-1",{"bg-grey":r}),style:{minHeight:(s[a]||0)+10,width:`${l[i]+(o&&(null==c?void 0:c.showNumber)?80:2*n)}px`},children:(0,m.jsx)("span",{onClick:e=>e.stopPropagation(),style:{width:`${l[i]+(o&&(null==c?void 0:c.showNumber)?60:n)}px`},children:(0,m.jsx)(sY,{options:p})})})},nZ=e=>{let{questionThemeName:i,isFocused:a,highestWidth:s,subQuestionsHeight:l,arrayAnswersWidth:n,dragIconSize:r,provided:o={},index:d,handleUpdateL10ns:u,removeItem:c,showContentEditor:p,showQuestionCode:g,titleValue:v="",numberOfHorizontalEntities:x,qid:I,placeholder:T="Subquestion",itemsKey:N,isNoAnswer:b=!1,entity:E,scaleId:y}=e,{surveyId:S}=(0,_.g)(),[A]=j(F),{survey:f}=dV(S),C=f.showQNumCode,O="answers"===N?"code":"title",w=i===lh().ARRAY_COLUMN.theme;return(0,m.jsxs)("div",{className:sN()("position-relative d-flex align-items-center array-question-item text-secondary remove-option-button-parent",{"bg-grey":!(d%2)&&!w}),children:[!(A&&"subquestions"===N)&&(0,m.jsx)("div",{className:"cursor-pointer remove-option-button",onClick:c,style:{zIndex:10,position:"absolute",top:"50%",left:"-16px",transform:"translate(-50%, -50%)"},"data-testid":"remove-vertical-option-button",children:(0,m.jsx)(tm,{className:sN()("text-danger fill-current",{"d-none disabled":!a||!p||b})})}),(0,m.jsx)("div",{children:a&&g&&(null==C?void 0:C.showNumber)&&E&&E[O]&&y<1&&(0,m.jsx)("div",{className:"question-code-tag",style:{marginLeft:"20px"},children:E[O]})}),(0,m.jsx)(sx,{showTip:A,tip:ss().ACTIVE_DISABLED,children:(0,m.jsx)("div",{style:{position:"absolute",top:"50%",left:"4px",transform:"translate(-50%, -50%)"},className:sN()({"cursor-not-allowed":A}),children:(0,m.jsx)("div",{...o.dragHandleProps,className:sN()({"d-none":!a||!p||b,disabled:A}),children:(0,m.jsx)(tv,{className:"text-secondary fill-current"})})})}),(0,m.jsx)("div",{style:{minWidth:p?s+r+(b&&a&&(null==C?void 0:C.showNumber)?80:0):"100px",maxWidth:!p&&"100px",display:p?"flex":"none"},className:"ps-3 flex-row justify-content-start",children:(0,m.jsx)(sL,{placeholder:T,value:v,update:e=>u(iO(e),d),className:"array-subquestion-content-editor choice",style:{width:"fit-content"},disabled:b})}),(0,m.jsx)("div",{className:"d-flex",children:Array(x).fill(1).map((e,s)=>(0,m.jsxs)(h.Fragment,{children:[i===lh().ARRAY.theme&&(0,m.jsx)(nz,{subQuestionindex:d,arrayAnswersWidth:n,dragIconSize:r,subQuestionsHeight:l,index:s,qid:I,isFocused:a}),i===lh().ARRAY_TEXT.theme&&(0,m.jsx)(n$,{arrayAnswersWidth:n,dragIconSize:r,subQuestionindex:s,subQuestionsHeight:l,index:s,isFocused:a}),i===lh().ARRAY_NUMBERS.theme&&(0,m.jsx)(nW,{arrayAnswersWidth:n,dragIconSize:r,subQuestionindex:s,subQuestionsHeight:l,index:s,isFocused:a}),i===lh().ARRAY_COLUMN.theme&&(0,m.jsx)(nz,{qid:I,arrayAnswersWidth:n,dragIconSize:r,subQuestionindex:s,subQuestionsHeight:l,index:s,subQuestionIndex:d,showBackgroundUnderSubQuestion:!(s%2)&&w,isFocused:a}),i===lh().ARRAY_DUAL_SCALE.theme&&(0,m.jsx)(nz,{qid:I,arrayAnswersWidth:n,dragIconSize:r,subQuestionindex:s,subQuestionsHeight:l,index:s,isFocused:a})]},`array-verticalTitle${s}${I}`))})]})},nK=e=>{var i;let{onDragEndCallback:a,question:{questionThemeName:s,answers:l=[],subquestions:n=[],qid:r}={},language:o,handleUpdate:d,isFocused:u,highestWidth:c,setHighestWidth:p,arrayAnswersWidth:g,dragIconSize:v,showContentEditor:x=!0,showQuestionCode:I=!0,scaleId:_,subQuestionsHeight:T,setSubQuestionsHeight:N,numberOfHorizontalEntities:b=0,removeItem:E=()=>{},handleUpdateL10ns:y=()=>{},setVerticalEntitiesInfo:S,showNoAnswer:A=!1}=e,f=(0,h.useRef)(null),j=s===lh().ARRAY_COLUMN.theme,C=s===lh().ARRAY_TEXT.theme,O=s===lh().ARRAY_NUMBERS.theme,w=(0,h.useMemo)(()=>{let e,i="qid",a="subquestions",s="sortOrder",r="question",o="subquestion",d="Subquestion",u=iQ.subquestion;C||O?e=Array.isArray(n)?n.filter(e=>e.scaleId===_):[]:j?(e=l,i="aid",a="answers",s="sortOrder",r="answer",o="answer option",d="Answer option",u=iQ.answer):e=n??[];let c={items:e,idKey:i,itemsKey:a,sortKey:s,titleKey:r,rowName:o,placeholder:d,scaleId:_,entity:u};return setTimeout(()=>{S(c)},0),c},[l,n,s,S]),M=e=>{let i=[...n];i.splice(e,1);for(let a=e;a<i.length;a++)i[a].sortOrder--;d({subquestions:i})};return(0,h.useEffect)(()=>{if(!N)return;let e=new ResizeObserver(()=>{let e=90;f.current&&(f.current.querySelectorAll(".array-subquestion-content-editor").forEach((i,a)=>{let s=i.clientWidth;T[a]=i.offsetHeight,s>e&&(e=s)}),N([...T]),p(e))});return f.current&&(f.current.querySelectorAll(".array-subquestion-content-editor").forEach(i=>{e.observe(i)}),e.observe(f.current)),()=>{e.disconnect()}},[]),A&&s===lh().ARRAY_DUAL_SCALE.theme&&T.push(T[0]),(0,m.jsxs)("div",{className:"array-vertical-titles",ref:f,children:[(0,m.jsx)(s1,{onDragEnd:e=>a(e,w),droppableId:"droppable-subquestions",children:null==(i=w.items)?void 0:i.map((e,i)=>(0,m.jsx)(s0.sx,{draggableId:`${e[w.idKey]}${i}-subquestion`,index:i,children:(a,l)=>(0,m.jsx)("div",{...a.draggableProps,ref:a.innerRef,style:{userSelect:"none",minWidth:"fit-content",...a.draggableProps.style},className:sN()({"focus-element":l.isDragging}),children:(0,m.jsx)(nZ,{questionThemeName:s,isFocused:u,highestWidth:c,subQuestionsHeight:T,arrayAnswersWidth:g,dragIconSize:v,provided:a,index:i,handleUpdateL10ns:(e,i)=>y(e,w,i),handleRemovingSubQuestion:M,showContentEditor:x,titleValue:q({prop:w.titleKey,language:o,l10ns:e.l10ns}),numberOfHorizontalEntities:b,qid:r,removeItem:()=>E(w,e),placeholder:w.placeholder,itemsKey:w.itemsKey,entity:e,scaleId:_,showQuestionCode:I})})},`${e[w.idKey]}${i}-subquestion`))}),A&&j&&(0,m.jsx)("div",{className:sN()("question-body-content"),children:(0,m.jsx)(nZ,{questionThemeName:s,isFocused:u,highestWidth:c,subQuestionsHeight:T,arrayAnswersWidth:g,dragIconSize:v,index:l.length,handleUpdateL10ns:()=>{},handleRemovingSubQuestion:()=>{},showContentEditor:x,titleValue:aX(!0),numberOfHorizontalEntities:b,qid:r,removeItem:()=>{},itemsKey:w.itemsKey,isNoAnswer:!0})})]})},nX=e=>{let{question:i,handleUpdate:a,language:s,isFocused:l,surveySettings:n,handleChildL10nsUpdate:r,handleChildAdd:o,handleChildDelete:d,handleOnChildDragEnd:u}=e,{addToBuffer:c}=dF(),[p,g]=(0,h.useState)(0),[v,x]=(0,h.useState)(0),[I,_]=(0,h.useState)({}),[T,N]=(0,h.useState)({}),[b,E]=(0,h.useState)([]),[y,S]=(0,h.useState)(0),[A,f]=(0,h.useState)([]),[C,O]=(0,h.useState)([]),[w,q]=(0,h.useState)({}),[M,L]=(0,h.useState)([0,0]),[D,R]=(0,h.useState)(0),[P,k]=(0,h.useState)(0),[U]=j(F),H=(0,h.useMemo)(()=>p>v?p:v,[p,v]),G=(e,i)=>{0===i?g(e):x(e)},V=i.questionThemeName===lh().ARRAY_DUAL_SCALE.theme,Y=i.questionThemeName===lh().ARRAY_COLUMN.theme,Q=i.questionThemeName===lh().ARRAY.theme,B=(Y||V||Q)&&!iq(i.mandatory)&&n.showNoAnswer,z=[lh().ARRAY_NUMBERS.theme,lh().ARRAY_TEXT.theme,lh().ARRAY_COLUMN.theme].includes(i.questionThemeName)?"subquestion":"answer option",$=(e,a)=>{if(!e.destination)return;let{itemsKey:s,scaleId:l,entity:n}=a;u(e,i[s],n,{scaleId:l})},W=e=>{let{itemsKey:a,entity:s}=e;o(i[a]?[...i[a]]:[],s,{scaleId:e.scaleId})},Z=(e,a,s)=>{let{items:l,itemsKey:n,idKey:o,entity:d}=a,u=[...i[n]];r(e,i[n].findIndex(e=>l[s][o]===e[o]),u,d)},K=(e,a)=>{let{itemsKey:s,entity:l,idKey:n}=e,r=[...i[s]];d(a[n],r,l)},X=(e,i)=>{M[i]=e,L(M)},J=(e,l)=>{let n=0===l?ng().SCALE_HEADER_A.attributeName:ng().SCALE_HEADER_B.attributeName;i.attributes[n]={...i.attributes[n]||{},[s]:e},c(iJ(i.qid).questionAttribute().update({[n]:{[s]:e}})),a(i)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"array-question d-flex gap-5","data-testid":"array-question",children:[(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(nF,{question:i,onDragEndCallback:$,highestSubquestionWidth:y,isFocused:l,arrayAnswersWidth:A,setArrayAnswersWidth:f,dragIconSize:22,isArrayDualScale:V,scaleId:0,highestHeight:H,setHighestHeight:G,setNumberOfHorizontalEntities:R,setHorizontalInfo:_,handleUpdateL10ns:Z,removeItem:K,handleHeaderUpdate:J,handleHeaderHeightChange:X,headersHeight:M,showNoAnswer:B&&Q}),(0,m.jsx)(nK,{onDragEndCallback:$,language:s,question:i,isFocused:l,highestWidth:y,setHighestWidth:S,handleUpdate:a,arrayAnswersWidth:A,dragIconSize:22,scaleId:0,subQuestionsHeight:b,setSubQuestionsHeight:E,numberOfHorizontalEntities:B&&Q?D+1:D,removeItem:K,handleUpdateL10ns:Z,setVerticalEntitiesInfo:q,showNoAnswer:B})]}),(0,m.jsx)("div",{className:sN()("pb-1 ms-2 me-4",{"d-none":!l}),style:{position:"sticky",right:"0"},children:(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:U&&"subquestion"===z,placement:"left",children:(0,m.jsx)(s5,{onClick:()=>W(I),style:{height:"100%",width:"50px"},disabled:U&&"subquestion"===z,className:"add-item-button",testId:"add-vertical-item-button",children:(0,m.jsx)(te,{})})})})]}),V&&(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(nF,{question:i,handleUpdate:a,onDragEndCallback:$,highestSubquestionWidth:y,isFocused:l,arrayAnswersWidth:C,setArrayAnswersWidth:O,dragIconSize:22,isArrayDualScale:V,scaleId:1,highestHeight:H,setHighestHeight:G,setNumberOfHorizontalEntities:k,setHorizontalInfo:N,removeItem:K,handleUpdateL10ns:Z,handleHeaderUpdate:J,handleHeaderHeightChange:X,headersHeight:M,showNoAnswer:B}),(0,m.jsx)(nK,{onDragEndCallback:$,language:s,question:i,isFocused:l,highestWidth:y,setHighestWidth:S,handleUpdate:a,arrayAnswersWidth:C,dragIconSize:22,showContentEditor:!1,showQuestionCode:!1,scaleId:0,subQuestionsHeight:b,numberOfHorizontalEntities:B?P+1:P,removeItem:K,handleUpdateL10ns:Z,setVerticalEntitiesInfo:q})]}),(0,m.jsx)("div",{className:sN()("pb-1 ms-2 me-4",{"d-none":!l}),children:(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:U&&"subquestion"===z,placement:"left",children:(0,m.jsx)(s5,{onClick:()=>W(T),style:{height:"100%",width:"50px"},disabled:U&&"subquestion"===z,className:"add-item-button",testId:"add-vertical-item-button2",children:(0,m.jsx)(te,{})})})})]})]}),(0,m.jsx)("div",{style:{marginLeft:y+22},className:sN()("mt-2 array-question array-question-footer",{"d-none":!l}),children:(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:U&&"subquestion"===w.rowName,placement:"left",children:(0,m.jsx)(s5,{className:sN()("add-item-button add-horizontal-item w-100"),onClick:()=>W(w),disabled:U&&"subquestion"===w.rowName,testId:"add-horizontal-item-button",children:(0,m.jsx)(te,{})})})})]})},nJ=[lh().SINGLE_CHOICE_IMAGE_SELECT.theme,lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme],n0=e=>{let{question:{questionThemeName:i,qid:a}={},handleChildL10nsUpdate:s,isFocused:l,handleChildAdd:n,handleOnChildDragEnd:r,handleChildDelete:o,language:d,_children:u=[],isTitleFocused:c}=e,{surveyId:p}=(0,_.g)(),{survey:g}=dV(p),v=lg.includes(i),x=nJ.includes(i),I={idKey:v?"aid":"qid",titleKey:v?"answer":"question",entity:v?iQ.answer:iQ.subquestion},[T]=j(F),N=x?lq:sL,b=(0,h.useMemo)(()=>aV(a),[]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(s1,{className:"children-parent",onDragEnd:e=>{r(e,u,I.entity)},droppableId:"droppable",children:null==u?void 0:u.map((e,i)=>(0,m.jsx)(s0.sx,{draggableId:`${e.qid}-choice-${i}`,index:i,children:(n,r)=>{var p;return(0,m.jsxs)("div",{ref:n.innerRef,...n.draggableProps,style:{userSelect:"none",...n.draggableProps.style},className:sN()("child",{"focus-element":r.isDragging}),"data-testid":"child-option",children:[(0,m.jsx)("div",{onClick:()=>o(e[I.idKey],u,I.entity),"data-testid":"remove-subquestion-button",className:"remove-option-button-parent",children:(0,m.jsx)(tm,{className:sN()("text-danger fill-current cursor-pointer edit-mode-remove-option remove-option-button",{"d-none":!l||T})})}),(0,m.jsx)("div",{style:{height:28},...n.dragHandleProps,children:(0,m.jsx)(tv,{className:sN()("text-secondary fill-current",{"d-none":!l})})}),(null==(p=g.showQNumCode)?void 0:p.showNumber)&&(0,m.jsx)("div",{className:"question-code-tag",children:v?e.code:e.title}),(0,m.jsx)("div",{"data-testid":"child-ui-component",className:"child-ui-component",children:(0,m.jsx)(N,{placeholder:v?"Answer option":"Subquestion",className:"text-secondary choice",value:q({prop:I.titleKey,language:d,l10ns:e.l10ns}),update:e=>s(e,i,u,I.entity),index:i,isFocused:!0,idPrefix:v?"a":"q",id:e[I.idKey],focus:aV(e[I.idKey])&&!b&&!c},`uicomponent-${a}-${i}-questionmode`)})]})}},`${e.qid}-choice-${i}`))}),(0,m.jsx)("div",{className:"add-child-button-container mt-4",children:(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:T,children:(0,m.jsx)("div",{children:(0,m.jsxs)(sk.A,{onClick:()=>n(u,I.entity),variant:"outline",className:"text-primary d-flex add-choice-button align-items-center p-0 gap-2 border-none","data-testid":"add-child-button",disabled:T,children:[(0,m.jsx)(lG.A,{}),v?t("Add answer"):t("Add subquestion")]})})})})]})},n1=[lh().SINGLE_CHOICE_DROPDOWN.theme,lp().LANGUAGE_SWITCH.theme,lp().LIST_DROPDOWN_DEFAULT.theme],n2=a8(),n3=e=>{var i,a,s;let{question:{questionThemeName:l,qid:n,gid:r,attributes:o,mandatory:d}={},language:u,_children:c=[],onValueChange:p=()=>{},values:g=[],participantMode:v=!1}=e,x=(null==g?void 0:g[0])||{},[I,_]=(0,h.useState)(-1),{commented_checkbox:T,slider_layout:N,slider_separator:b}=o,E=(0,h.useMemo)(()=>n1.includes(l),[l]),y=(0,h.useMemo)(()=>lg.includes(l),[l]),S=(0,h.useMemo)(()=>l===lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme,[l]),A=(0,h.useMemo)(()=>l===lh().MULTIPLE_SHORT_TEXTS.theme,[l,T]),f=(0,h.useMemo)(()=>l===lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme,[l,T]),j=(0,h.useMemo)(()=>l===lh().MULTIPLE_NUMERICAL_INPUTS.theme,[l]),C=(0,h.useMemo)(()=>"1"===aE(N,u),[N,u]),O={idKey:y?"aid":"qid",titleKey:y?"answer":"question",codeKey:y?"code":"title",entity:y?iQ.answer:iQ.subquestion},w={[lh().SINGLE_CHOICE_LIST_RADIO.theme]:s7,[lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme]:s7,[lh().SINGLE_CHOICE_DROPDOWN.theme]:sY,[lp().LANGUAGE_SWITCH.theme]:sY,[lp().LIST_DROPDOWN_DEFAULT.theme]:sY,[lh().SINGLE_CHOICE_BUTTONS.theme]:s5,[lh().SINGLE_CHOICE_IMAGE_SELECT.theme]:lq,[lh().MULTIPLE_CHOICE.theme]:s7,[lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme]:s7,[lh().MULTIPLE_CHOICE_BUTTONS.theme]:s5,[lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme]:lq,[lh().MULTIPLE_SHORT_TEXTS.theme]:sL,[lh().MULTIPLE_NUMERICAL_INPUTS.theme]:sL}[l]||s7,M=(0,h.useMemo)(()=>{let e=(0,i_.cloneDeep)(c);return E?[{options:null==e?void 0:e.map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{l10ns:{}};return{label:q({prop:O.titleKey,language:u,l10ns:e.l10ns}),value:e[O.codeKey]}})}]:(!d&&y&&e.push({l10ns:{[u]:{answer:t("No answer")}},aid:-999,code:""}),e)},[c]),L=e=>{let i=q({prop:O.titleKey,language:u,l10ns:e});if(j&&C){let{value:e}=dE(i,aE(b)||"|");return e}return i};(0,h.useEffect)(()=>{if(w.name===sQ){var e;null==(e=M[0])||e.options.map((e,i)=>{e.value===(null==x?void 0:x.aid)&&_(i)})}else M.map((e,i)=>{e[O.idKey]===(null==x?void 0:x.aid)&&_(i)})},[M]);let D=f&&aE(T)===n2.ALWAYS.value||aE(T)===n2.CHECKED.value,R=(0,h.useMemo)(()=>{if(!v)return[];let e=[];if(y)return e.push(x),e;for(let i=0;i<M.length;i++){let a=M[i];e.push(null==g?void 0:g.find(e=>e[O.idKey]==a[O.idKey]))}return e},[M.length]);return!v||w.name!==sQ||(null==(a=M[0])||null==(i=a.options)?void 0:i.length)?(0,m.jsxs)("div",{className:"children-parent",children:[null==M?void 0:M.map((e,i)=>{var a;let s=y?R[0]:R[i];return(0,m.jsxs)("div",{className:"child","data-testid":"child-option",children:[(0,m.jsx)(w,{value:w.name===sQ?e.options[I]:L(e.l10ns),defaultValue:w.name===sQ?e.options[I]:L(e.l10ns),text:L(e.l10ns),variant:"outline-success",update:i=>{p(y&&w.name!==sQ?e[O.codeKey]:i,null==s?void 0:s.key)},onClick:()=>{_(i),p(y?e[O.codeKey]:L(e.l10ns),null==s?void 0:s.key)},className:"child-ui-component",label:(0,m.jsx)(sL,{placeholder:y?"Answer option":"Subquestion",className:"choice",value:L(e.l10ns),disabled:!0}),index:i,type:y?"radio":"checkbox",inputType:y?"radio":"checkbox",isFocused:!1,idPrefix:y?"a":"q",id:e[O.idKey],hasReset:!1,options:e.options,defaultChecked:y?e[O.idKey]===(null==s?void 0:s.aid):null==s?void 0:s.checked,groupName:`${r}X${n}`,active:I===i,disabled:w.name===sD},`uicomponent-${n}-${i}-questionmode`),D&&(0,m.jsx)(s_,{onClick:e=>{e.stopPropagation()},value:null==s||null==(a=s.comment)?void 0:a.value,placeholder:st("Enter your answer here."),rows:1,maxLength:1/0,className:`w-100 d-block ${!v?"comment-input":""}`,dataTestId:"multiple-choice-comment-input",type:"textarea",update:e=>{var i;return p(e,null==s||null==(i=s.comment)?void 0:i.key)}}),A&&(0,m.jsx)(s_,{onClick:e=>{e.stopPropagation()},value:null==s?void 0:s.value,placeholder:st("Enter your answer here."),maxLength:1/0,className:`w-100 d-block ${!v?"comment-input":""}`,dataTestId:"multiple-choice-comment-input",update:e=>p(e,null==s?void 0:s.key)}),j&&(0,m.jsx)("div",{className:"ms-auto",children:(0,m.jsx)(lL,{onChange:e=>p(e,null==s?void 0:s.key),hasSliderLayout:C,attributes:o,child:e,childrenInfo:O,language:u,valueInfo:s,participantMode:v})})]},`view-mode-child-${i}-${e[O.idKey]}`)}),S&&(0,m.jsx)("div",{className:"flex-1 w-50",children:(0,m.jsx)(s_,{onClick:e=>{e.stopPropagation()},value:null==x||null==(s=x.comment)?void 0:s.value,update:e=>{var i;return p(e,null==x||null==(i=x.comment)?void 0:i.key)},placeholder:st("Enter your comment here."),rows:1,maxLength:1/0,dataTestId:"multiple-choice-comment-input"})})]}):null},n6=()=>(0,m.jsx)(m.Fragment,{}),n4=lh(),n5=[n4.SINGLE_CHOICE_BUTTONS.theme,n4.SINGLE_CHOICE_DROPDOWN.theme,n4.SINGLE_CHOICE_FIVE_POINT_CHOICE.theme,n4.SINGLE_CHOICE_IMAGE_SELECT.theme,n4.SINGLE_CHOICE_LIST_RADIO.theme,n4.SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme],n7=lh(),n9=[n7.MULTIPLE_CHOICE.theme,n7.MULTIPLE_CHOICE_BUTTONS.theme,n7.MULTIPLE_CHOICE_WITH_COMMENTS.theme,n7.MULTIPLE_CHOICE_IMAGE_SELECT.theme,n7.MULTIPLE_NUMERICAL_INPUTS.theme,n7.MULTIPLE_SHORT_TEXTS.theme],n8={[lh().SINGLE_CHOICE_LIST_RADIO.theme]:n3,[lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme]:n3,[lh().SINGLE_CHOICE_DROPDOWN.theme]:n3,[lh().SINGLE_CHOICE_BUTTONS.theme]:n3,[lh().SINGLE_CHOICE_IMAGE_SELECT.theme]:n3,[lh().MULTIPLE_CHOICE.theme]:n3,[lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme]:n3,[lh().MULTIPLE_CHOICE_BUTTONS.theme]:n3,[lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme]:n3,[lh().MULTIPLE_SHORT_TEXTS.theme]:n3,[lh().MULTIPLE_NUMERICAL_INPUTS.theme]:n3,[lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme]:lv,[lh().SHORT_TEXT.theme]:lO,[lh().NUMERIC.theme]:lO,[lh().BROWSER_DETECTION.theme]:lO,[lh().LONG_TEXT.theme]:lO,[lh().ARRAY.theme]:nX,[lh().ARRAY_NUMBERS.theme]:nX,[lh().ARRAY_TEXT.theme]:nX,[lh().ARRAY_COLUMN.theme]:nX,[lh().ARRAY_DUAL_SCALE.theme]:nX,[lh().RATING.theme]:lw,[lh().FILE_UPLOAD.theme]:lH,[lh().RANKING.theme]:lB,[lh().RANKING_ADVANCED.theme]:lW,[lh().EQUATION.theme]:lZ,[lh().DATE_TIME.theme]:l5,[lh().GENDER.theme]:nd,[lh().YES_NO.theme]:nh,[lh().TEXT_DISPLAY.theme]:n6},re={[lh().SINGLE_CHOICE_LIST_RADIO.theme]:n0,[lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme]:n0,[lh().SINGLE_CHOICE_DROPDOWN.theme]:n0,[lh().SINGLE_CHOICE_BUTTONS.theme]:n0,[lh().SINGLE_CHOICE_IMAGE_SELECT.theme]:n0,[lh().MULTIPLE_CHOICE.theme]:n0,[lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme]:n0,[lh().MULTIPLE_CHOICE_BUTTONS.theme]:n0,[lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme]:n0,[lh().MULTIPLE_SHORT_TEXTS.theme]:n0,[lh().MULTIPLE_NUMERICAL_INPUTS.theme]:n0,[lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme]:lv,[lh().SHORT_TEXT.theme]:lO,[lh().NUMERIC.theme]:lO,[lh().BROWSER_DETECTION.theme]:lO,[lh().LONG_TEXT.theme]:lO,[lh().ARRAY.theme]:nX,[lh().ARRAY_NUMBERS.theme]:nX,[lh().ARRAY_TEXT.theme]:nX,[lh().ARRAY_COLUMN.theme]:nX,[lh().ARRAY_DUAL_SCALE.theme]:nX,[lh().RATING.theme]:lw,[lh().FILE_UPLOAD.theme]:lH,[lh().RANKING.theme]:lB,[lh().RANKING_ADVANCED.theme]:lW,[lh().EQUATION.theme]:lZ,[lh().DATE_TIME.theme]:l5,[lh().GENDER.theme]:nd,[lh().YES_NO.theme]:nh,[lh().TEXT_DISPLAY.theme]:n6};var rt=a(87395);let ri=function(e,i,a,s,l){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0;if(![lh().ARRAY.theme,lh().ARRAY_DUAL_SCALE.theme,lp().ARRAY_FIVE_POINT.theme,lp().ARRAY_TEN_POINT.theme,lp().ARRAY_YES_NO_UNCERTAIN.theme,lp().ARRAY_INCREASE_SAME_DECREASE.theme].includes(r))return!1;let d=n[s]==e,u=n[l]==i;return[lh().ARRAY.theme,lh().ARRAY_DUAL_SCALE.theme].includes(r)?d&&u:!![lp().ARRAY_FIVE_POINT.theme,lp().ARRAY_TEN_POINT.theme,lp().ARRAY_YES_NO_UNCERTAIN.theme,lp().ARRAY_INCREASE_SAME_DECREASE.theme].includes(r)&&(o==n.value||n.value==a)},ra=e=>{let{language:i,question:{subquestions:a,questionThemeName:s,answers:l,mandatory:n,attributes:{multiflexible_max:r,multiflexible_min:o,multiflexible_step:d}={}},values:u={},onValueChange:c=()=>{}}=e,p=(0,h.useRef)([]),g=s===lh().ARRAY_COLUMN.theme,v=s===lh().ARRAY_TEXT.theme,x=s===lh().ARRAY_NUMBERS.theme,I=s===lh().ARRAY_DUAL_SCALE.theme,_=s===lp().ARRAY_FIVE_POINT.theme,T=s===lp().ARRAY_TEN_POINT.theme,N=s===lp().ARRAY_YES_NO_UNCERTAIN.theme,b=s===lp().ARRAY_INCREASE_SAME_DECREASE.theme,E=(0,h.useMemo)(()=>v?"text":x?"select":"radio",[s]),y={[lh().ARRAY.theme]:s7,[lh().ARRAY_COLUMN.theme]:s7,[lh().ARRAY_DUAL_SCALE.theme]:s7,[lh().ARRAY_NUMBERS.theme]:sY,[lh().ARRAY_TEXT.theme]:s_,[lp().ARRAY_FIVE_POINT.theme]:s7,[lp().ARRAY_TEN_POINT.theme]:s7}[s]||s7,S=(0,h.useMemo)(()=>{let e={},s=0;if(v||x||g){let i=(0,i_.cloneDeep)(a),l=Array.isArray(i)?i.filter(e=>1===e.scaleId||g):[];s=g?void 0:1,e={items:l,itemsKey:"subquestions",idKey:"qid",sortKey:"sortOrder",titleKey:"question",rowName:"subquestion",codeKey:"title",placeholder:t("Subquestion"),scaleId:g?void 0:1,entity:iQ.subquestion}}else e=_||T?{items:Array.from({length:_?5:10}).map((e,a)=>dD(`${a+1}`,[i],{code:a+1})),itemsKey:"answers",idKey:"aid",sortKey:"sortOrder",titleKey:"answer",rowName:"answer option",placeholder:t("Answer option"),codeKey:"code",scaleId:0,entity:iQ.answer}:N||b?{items:[N?dD(t("Yes"),[i],{code:"Y"}):dD(t("Increase"),[i],{code:"I"}),N?dD(t("No"),[i],{code:"N"}):dD(t("Same"),[i],{code:"S"}),N?dD(t("Uncertain"),[i],{code:"U"}):dD(t("Decrease"),[i],{code:"D"})],itemsKey:"answers",idKey:"aid",sortKey:"sortOrder",titleKey:"answer",rowName:"answer option",placeholder:t("Answer option"),codeKey:"code",scaleId:0,entity:iQ.answer}:{items:(0,i_.cloneDeep)(l),itemsKey:"answers",idKey:"aid",sortKey:"sortOrder",titleKey:"answer",rowName:"answer option",placeholder:t("Answer option"),codeKey:"code",scaleId:0,entity:iQ.answer};return n||y.name!==s9||g||e.items.push({l10ns:{[i]:{[e.entity===iQ.subquestion?"question":"answer"]:"No answer"}},scaleId:I?void 0:s}),e},[l,a]),A=(0,h.useMemo)(()=>{let e,s="qid",r="subquestions",o="sortOrder",d="question",u="subquestion",c="title",m="Subquestion",p=iQ.subquestion,h=(0,i_.cloneDeep)(a);return v||x?e=Array.isArray(h)?h.filter(e=>0===e.scaleId):[]:g?(e=(0,i_.cloneDeep)(l),s="aid",r="answers",o="sortOrder",d="answer",u="answer option",m="Answer option",c="code",p=iQ.answer):e=h??[],!n&&y.name===s9&&g&&e.push({l10ns:{[i]:{answer:"No answer"}}}),{items:e,idKey:s,itemsKey:r,sortKey:o,titleKey:d,rowName:u,placeholder:m,SCALE_1:0,codeKey:c,entity:p}},[l,a]),f=(0,h.useMemo)(()=>{if(y.name!==sQ)return[];let e=+(null==o?void 0:o[""])||0,i=+(null==r?void 0:r[""])||10,a=+(null==d?void 0:d[""])||1,s=[];for(let l=e;l<=i;l+=a)s.push({label:l.toString(),value:l.toString()});return n||s.push({label:t("No answer"),value:""}),s},[u,A,S]),j=(0,h.useMemo)(()=>(0,i_.cloneDeep)(u).map(e=>(y.name===sQ&&(e.value={label:e.value,value:e.value}),{...e})),[u,f,A,S]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(rt.A,{className:"array-temp",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{}),S.items.map((e,a)=>(0,m.jsx)("th",{className:"text-center choice",children:q({prop:S.titleKey,language:i,l10ns:e.l10ns})},`${a}-${S.titleKey}-th`))]})}),(0,m.jsx)("tbody",{children:A.items.map((e,a)=>(0,m.jsxs)("tr",{ref:e=>p.current.push(e),children:[(0,m.jsx)("td",{className:"choice",children:q({prop:A.titleKey,language:i,l10ns:e.l10ns})}),S.items.map((i,l)=>{var r,o,d,u,h,v;let x,_,T=null==(r=j[a*(null==S||null==(o=S.items)?void 0:o.length)+l])?void 0:r.value;return T=y.name===s9?g?e[A.codeKey]:i[S.codeKey]:T,(0,m.jsx)("td",{className:"text-center choice",children:(0,m.jsx)(y,{groupName:`${g?i[S.idKey]:e[A.idKey]}${i.scaleId}`,type:E,options:f,value:T||"",defaultValue:T||"",id:"component-input",sendValueOnUpdate:!0,defaultChecked:ri(e[A.idKey],i[S.idKey],i[S.codeKey],A.idKey,S.idKey,j[I?2*a+i.scaleId:a],s,l+1)||((e,i,a,s,l,n)=>{if(n!==lh().ARRAY_COLUMN.theme)return!1;let r=l[a]==e,o=l[s]==i;return r&&o})(e[A.idKey],i[S.idKey],A.idKey,S.idKey,j[l],s)||(d=j[a],u=j[l],h=l===S.items.length-1,v=a===A.items.length-1,x=s===lh().ARRAY_COLUMN.theme?u:d,_=s===lh().ARRAY_COLUMN.theme?v:h,!n&&!!_&&!x.value),update:e=>{var s,r,o;let d,u;r=g?a===A.items.length-1&&!n:l===S.items.length-1&&!n,o=y.name===s9?g?j[l]:I?j[2*a+i.scaleId]:j[a]:j[a*(null==S||null==(s=S.items)?void 0:s.length)+l],u=null==(d=p.current[a])?void 0:d.querySelectorAll("#component-input"),c(e,o.key),r&&u.forEach((e,i)=>{i!==u.length-1&&(e.checked=!1)})}})},`${l}-td-${a}`)})]},`${a}-${e.titleKey}-tr`))})]})})},rs={[lh().SINGLE_CHOICE_LIST_RADIO.theme]:n3,[lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme]:n3,[lh().SINGLE_CHOICE_DROPDOWN.theme]:n3,[lp().LANGUAGE_SWITCH.theme]:n3,[lp().LIST_DROPDOWN_DEFAULT.theme]:n3,[lh().SINGLE_CHOICE_BUTTONS.theme]:n3,[lh().SINGLE_CHOICE_IMAGE_SELECT.theme]:n3,[lh().MULTIPLE_CHOICE.theme]:n3,[lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme]:n3,[lh().MULTIPLE_CHOICE_BUTTONS.theme]:n3,[lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme]:n3,[lh().MULTIPLE_SHORT_TEXTS.theme]:n3,[lh().MULTIPLE_NUMERICAL_INPUTS.theme]:n3,[lp().INPUT_ON_DEMAND.theme]:n3,[lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme]:lv,[lh().SHORT_TEXT.theme]:lO,[lh().NUMERIC.theme]:lO,[lh().BROWSER_DETECTION.theme]:lO,[lp().HUGE_FREE_TEXT.theme]:lO,[lh().LONG_TEXT.theme]:lO,[lh().ARRAY.theme]:ra,[lh().ARRAY_NUMBERS.theme]:ra,[lh().ARRAY_TEXT.theme]:ra,[lh().ARRAY_COLUMN.theme]:ra,[lh().ARRAY_DUAL_SCALE.theme]:ra,[lp().ARRAY_INCREASE_SAME_DECREASE.theme]:ra,[lp().ARRAY_YES_NO_UNCERTAIN.theme]:ra,[lp().ARRAY_TEN_POINT.theme]:ra,[lp().ARRAY_FIVE_POINT.theme]:ra,[lh().RATING.theme]:lw,[lh().FILE_UPLOAD.theme]:lH,[lh().RANKING.theme]:lW,[lh().RANKING_ADVANCED.theme]:lW,[lh().EQUATION.theme]:lZ,[lh().DATE_TIME.theme]:a4,[lh().GENDER.theme]:nd,[lh().YES_NO.theme]:nh,[lh().TEXT_DISPLAY.theme]:n6};a(40038),a(45942),a(4556),a(85737),a(39204),a(99110),a(34179),a(99623),a(91722),a(86936),a(6958),a(61448),a(98743),a(4877),a(30683),a(67374);let rl={};class rn{static getInstance(){return rn.instance||(rn.instance=new rn),rn.instance}loadPlugins(){Object.entries(rl).forEach(e=>{let[i,a]=e;this.plugins.set(i,a)})}getPlugin(e){return this.plugins.get(e)}constructor(){this.plugins=new Map,this.loadPlugins()}}(0,ik._)(rn,"instance",null);let rr=rn.getInstance(),ro=e=>{let{slotName:i,fallback:a=null,...s}=e,l=(0,h.useMemo)(()=>rr,[]),n=(0,h.useMemo)(()=>l.getPlugin(i),[i]);return n?(0,m.jsx)(n,{...s}):a};var rd=a(66055);let ru=e=>{let{selectOptions:i,selectedLanguage:a,setSelectedLanguage:s}=e;return(0,m.jsx)("div",{className:"col-12 d-flex align-items-stretch",children:(0,m.jsxs)(rd.A,{className:"card h-100 w-100",children:[(0,m.jsx)("h5",{className:"med16-c",children:t("Survey language version")}),(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,m.jsx)("p",{className:"reg14",children:t("Select the language version of the survey you want to share.")}),(0,m.jsx)(sY,{options:i,value:a,className:"sharing-panel-select med14-c",onChange:e=>s(e.value)})]})]})})};var rc=a(2311);let rm=e=>{let{shareUrl:i="",surveyTitle:a=""}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h5",{className:"med16-c",children:t("Share on social media")}),(0,m.jsxs)("div",{className:"d-flex flex-grow-1 flex-wrap justify-content-start align-content-center gap-3 m-auto",children:[(0,m.jsx)(rc.uI,{url:i,title:a,children:(0,m.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMwLjgwNDggNDJWMjguMDY4OEgzNS40Njk0TDM2LjE2NzYgMjIuNjUzSDMwLjgwNDhWMTkuMTk1M0MzMC44MDQ4IDE3LjYyNzMgMzEuMjQgMTYuNTU4NyAzMy40ODg2IDE2LjU1ODdMMzYuMzU2NiAxNi41NTczVjExLjcxMzVDMzUuODYwNCAxMS42NDc2IDM0LjE1ODIgMTEuNTAwMSAzMi4xNzc2IDExLjUwMDFDMjguMDQyNiAxMS41MDAxIDI1LjIxMiAxNC4wMjQgMjUuMjEyIDE4LjY1OVYyMi42NTNIMjAuNTM1NFYyOC4wNjg4SDI1LjIxMlY0Mkg4QzYuODk1NDQgNDIgNiA0MS4xMDQ2IDYgNDBWOEM2IDYuODk1NDQgNi44OTU0NCA2IDggNkg0MEM0MS4xMDQ2IDYgNDIgNi44OTU0NCA0MiA4VjQwQzQyIDQxLjEwNDYgNDEuMTA0NiA0MiA0MCA0MkgzMC44MDQ4WiIgZmlsbD0iIzZFNzQ4QyIvPgo8L3N2Zz4K",alt:"bold icon"})}),(0,m.jsx)(rc.Ot,{subject:a,url:i,title:a,children:(0,m.jsx)(rc.aZ,{style:{width:36,height:36,border:5,borderRadius:2},bgStyle:{fill:"#6e748c"}})}),(0,m.jsx)(rc.wk,{url:i,title:a,children:(0,m.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBmaWxsPSJub25lIj4KICA8cGF0aCBkPSJNMzYuNjc0MyAzNi42NzhIMzEuMzQzM1YyOC4zMjQ0QzMxLjM0MzMgMjYuMzMyNCAzMS4zMDI5IDIzLjc2OSAyOC41NjUzIDIzLjc2OUMyNS43ODU5IDIzLjc2OSAyNS4zNjEzIDI1LjkzNjYgMjUuMzYxMyAyOC4xNzc0VjM2LjY3OEgyMC4wMzAzVjE5LjVIMjUuMTUxM1YyMS44NDE0SDI1LjIyMDNDMjUuOTM1OSAyMC40OTE0IDI3LjY3NTkgMTkuMDY2NSAzMC4yNzUzIDE5LjA2NjVDMzUuNjc2OSAxOS4wNjY1IDM2LjY3NTkgMjIuNjIxNiAzNi42NzU5IDI3LjI0OUwzNi42NzQzIDM2LjY3OFpNMTQuMDA5NCAxNy4xNDk1QzEyLjI5MzQgMTcuMTQ5NSAxMC45MTQ5IDE1Ljc2MDUgMTAuOTE0OSAxNC4wNTJDMTAuOTE0OSAxMi4zNDUgMTIuMjk0OSAxMC45NTc1IDE0LjAwOTQgMTAuOTU3NUMxNS43MTk0IDEwLjk1NzUgMTcuMTA1NCAxMi4zNDUgMTcuMTA1NCAxNC4wNTJDMTcuMTA1NCAxNS43NjA1IDE1LjcxNzkgMTcuMTQ5NSAxNC4wMDk0IDE3LjE0OTVaTTE2LjY4MjQgMzYuNjc4SDExLjMzNjRWMTkuNUgxNi42ODI0VjM2LjY3OFpNMzkuMzQxMyA2SDguNjYwNDFDNy4xOTE5MSA2IDYuMDAzOTEgNy4xNjEgNi4wMDM5MSA4LjU5MzVWMzkuNDA2NkM2LjAwMzkxIDQwLjg0MDQgNy4xOTE5MSA0MiA4LjY2MDQxIDQySDM5LjMzNjlDNDAuODAzOSA0MiA0Mi4wMDM5IDQwLjg0MDQgNDIuMDAzOSAzOS40MDY2VjguNTkzNUM0Mi4wMDM5IDcuMTYxIDQwLjgwMzkgNiAzOS4zMzY5IDZIMzkuMzQxM1oiIGZpbGw9IiM2RTc0OEMiLz4KPC9zdmc+Cg==",alt:"bold icon"})}),(0,m.jsx)(rc.r6,{url:i,title:a,children:(0,m.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCwwLDI1NiwyNTYiPgo8ZyBmaWxsPSIjNmU3NDhjIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0ibm9uZSIgZm9udC13ZWlnaHQ9Im5vbmUiIGZvbnQtc2l6ZT0ibm9uZSIgdGV4dC1hbmNob3I9Im5vbmUiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48ZyB0cmFuc2Zvcm09InNjYWxlKDUuMTIsNS4xMikiPjxwYXRoIGQ9Ik0xMSw0Yy0zLjg1NDMzLDAgLTcsMy4xNDU2NyAtNyw3djI4YzAsMy44NTQzMyAzLjE0NTY3LDcgNyw3aDI4YzMuODU0MzMsMCA3LC0zLjE0NTY3IDcsLTd2LTI4YzAsLTMuODU0MzMgLTMuMTQ1NjcsLTcgLTcsLTd6TTExLDZoMjhjMi43NzM2NywwIDUsMi4yMjYzMyA1LDV2MjhjMCwyLjc3MzY3IC0yLjIyNjMzLDUgLTUsNWgtMjhjLTIuNzczNjcsMCAtNSwtMi4yMjYzMyAtNSwtNXYtMjhjMCwtMi43NzM2NyAyLjIyNjMzLC01IDUsLTV6TTEzLjA4NTk0LDEzbDkuMjIyNjYsMTMuMTAzNTJsLTkuMzA4NTksMTAuODk2NDhoMi41bDcuOTM3NSwtOS4yOTI5N2w2LjUzOTA2LDkuMjkyOTdoNy45Mzc1bC0xMC4xMjUsLTE0LjM4NjcybDguMjEwOTQsLTkuNjEzMjhoLTIuNWwtNi44Mzk4NCw4LjAwOTc3bC01LjYzNjcyLC04LjAwOTc3ek0xNi45MTQwNiwxNWgzLjA2NDQ1bDE0LjEwNzQyLDIwaC0zLjA2NDQ1eiI+PC9wYXRoPjwvZz48L2c+Cjwvc3ZnPg==",alt:"x icon",width:42,height:42})})]})]})},rp=e=>{let{link:i,title:a}=e;return(0,m.jsx)("div",{className:"col-md-3 d-flex",children:(0,m.jsx)(rd.A,{className:"card d-flex flex-column justify-content-between  d-flex flex-column h-100 w-100",children:(0,m.jsx)(rm,{shareUrl:i,surveyTitle:a})})})},rh=e=>{let{survey:i,onAliasChange:a,setLink:s,selectedLanguage:l,aliasHasError:n,update:r,createBufferOperation:o,addToBuffer:d}=e;return(0,m.jsx)("div",{className:"col-md-6 d-flex align-items-stretch",children:(0,m.jsx)(rd.A,{className:"card d-flex flex-column justify-content-between h-100 w-100",children:(0,m.jsx)(rk,{survey:i,update:r,onAliasChange:a,setLink:s,language:l,currentSurveyAccessMode:(null==i?void 0:i.access_mode)||eV.OPEN_TO_ALL,aliasHasError:n,createBufferOperation:o,addToBuffer:d})})})},rg=e=>{let{link:i}=e;return(0,m.jsx)("div",{className:"col-md-3 d-flex align-items-stretch",children:(0,m.jsx)(rd.A,{className:"h-100 w-100 d-flex justify-content-center align-items-center p-3",children:(0,m.jsx)(rH,{value:i})})})},rv=()=>(0,m.jsx)("div",{className:"col-md-3 d-flex align-items-stretch opacity-50",children:(0,m.jsx)(sv.A,{placement:"top",delay:{show:100,hide:100},offset:[0,10],overlay:(0,m.jsx)(sg.A,{children:t("Coming soon")}),children:(0,m.jsxs)(rd.A,{className:"card h-100 w-100 position-relative",children:[(0,m.jsx)("h5",{className:"med16-c",children:t("Password protected survey")}),(0,m.jsx)("p",{className:"reg14 mb-5",children:t("One survey link, one password.")}),(0,m.jsxs)("span",{className:"text-primary med14-c",children:[(0,m.jsx)(lG.A,{className:"icon-align"}),t("Create password")]})]})})}),rx=e=>{let{hasUpdatePermission:i,surveyId:a}=e;return(0,m.jsx)("div",{className:sN()("col-md-3","d-flex","align-items-stretch",{"opacity-50":!i}),children:(0,m.jsx)(sx,{tip:t('You currently have "View only" access.'),showTip:!i,children:(0,m.jsxs)(rd.A,{className:"card h-100 w-100",children:[(0,m.jsx)("h5",{className:"med16-c",children:t("Participant lists")}),(0,m.jsx)("p",{className:"reg14 mb-5",children:t("Setup participant lists and invite participants via email.")}),(0,m.jsxs)("span",{onClick:()=>{i&&window.open(aH(`/admin/tokens/sa/index/surveyid/${a}`),"_self")},className:"text-primary cursor-pointer med14-c",children:[(0,m.jsx)(lG.A,{className:"icon-align"}),t("Create participant list")]})]})})})},rI=()=>{var e;let{surveyId:i}=(0,_.g)(),{survey:a,update:s}=dV(i),[l]=j(ec),[n]=j(J),r=l[n.lang],[o,d]=(0,h.useState)(!1),{errors:u}=dB(),{addToBuffer:c}=dF(),[p]=j(ep),[g,v]=(0,h.useState)(""),[x,I]=(0,h.useState)(p),T=d2(a),N=(0,h.useMemo)(()=>a.language.concat(` ${a.additionalLanguages}`).trim().split(" ").map(e=>{var i;let s=e===a.language?" ("+t("Base language")+")":"";return{value:e,label:r?(null==(i=r[e])?void 0:i.description)+s:"No data available"}}),[r,a.language]);return(0,h.useEffect)(()=>{d(JSON.stringify(u).includes(iQ.languageSetting))},[u]),(0,m.jsxs)("div",{className:"sharing-panel container-fluid  mt-5",children:[(0,m.jsx)("div",{className:"d-flex  mb-3 justify-content-between align-items-center",children:(0,m.jsxs)("h1",{className:"title",children:[" ",t("Share your survey and collect responses")]})}),(0,m.jsxs)("div",{className:"row g-4",children:[(0,m.jsx)(ru,{selectOptions:N,selectedLanguage:x,setSelectedLanguage:I}),(0,m.jsx)(rh,{survey:a,onAliasChange:e=>{e="number"==typeof e?"":e.trim(),d(!1),c(iJ(a.sid).languageSetting().update({[x]:{alias:e}})),s({languageSettings:{...a.languageSettings,[x]:{...a.languageSettings[x],alias:e}}})},setLink:v,selectedLanguage:x,aliasHasError:o,update:s,createBufferOperation:iJ,addToBuffer:c}),(0,m.jsx)(rg,{link:g}),(0,m.jsx)(rp,{link:g,title:(null==(e=a.languageSettings[x])?void 0:e.title)||""}),(0,m.jsx)(ro,{slotName:"sharingoverview:bottom:left"}),(0,m.jsx)(rv,{}),(0,m.jsx)(rx,{hasUpdatePermission:T,surveyId:i})]})]},`sharing-overview-${x}`)},r_=e=>{let{label:i,options:a=[],page:s="survey",showCloseButton:l=!0}=e,{surveyId:n,panel:r}=(0,_.g)(),o=(0,_.Zp)();return(0,m.jsx)("div",{"data-testid":"survey-menu-panel",className:"d-flex h-100",children:(0,m.jsx)("div",{className:"survey-structure",children:(0,m.jsxs)("div",{className:"survey-menu",children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[i,l&&(0,m.jsx)(sk.A,{variant:"link",className:"p-0 btn-close-lime",onClick:()=>{o(`/${s}/${n}`)},"data-testid":"btn-close-survey-menu-panel",children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),a.map((e,i)=>(0,m.jsx)(rb,{page:s,options:e},`${i}-${e.menu}`)),s==eH&&"sharingSettings"==r&&(0,m.jsx)(ro,{slotName:"sidebarpanel:sharing:sharingSettings:bottom"})]})})})},rT=e=>{var i;let{testId:a="",sidebarClassName:s="",items:l=[],onIconClick:n=()=>{},page:r="survey",showCloseButton:o=!0,showFeedbackButton:d=!1}=e,{panel:u}=(0,_.g)(),c=(0,h.useMemo)(()=>l.find(e=>e.panel===u)||{},[u,l]);return(0,m.jsxs)("div",{className:`sidebar d-flex flex-row ${s}`,"data-testid":a,id:"sidebar",children:[(0,m.jsxs)("div",{className:"sidebar-icons d-flex flex-column pb-2",children:[l.filter(e=>e.icon).map((e,i)=>(0,m.jsx)(h.Fragment,{children:(0,m.jsx)("div",{onClick:()=>{n(e.panel)},className:sN()("cursor-pointer",{"margin-top-10":i>0}),"data-testid":`btn-${e.panel}-open`,id:`btn-${e.panel}-open`,children:(0,m.jsx)(sx,{offset:[0,20],placement:"right",tip:e.tip,children:(0,m.jsx)(e.icon,{className:sN()("fill-current",{"text-black":e.panel===u,"text-white":e.panel!==u}),bgcolor:`${u===e.panel?"#EEEFF7":"#333641"}`})})})},i+"sidebar")),d&&(0,m.jsx)("div",{className:"mt-2 d-flex flex-wrap align-content-between pb-2",children:(0,m.jsx)(lc,{})})]}),(null==(i=c.panelItems)?void 0:i.length)?(0,m.jsx)(r_,{label:c.label,options:c.panelItems,page:r,showCloseButton:o}):(0,m.jsx)(m.Fragment,{}),c.panelComponent?c.panelComponent:(0,m.jsx)(m.Fragment,{})]})},rN=e=>{let{children:i=null,className:a=""}=e;return(0,m.jsx)("div",{className:sN()("d-flex","sidebar-header","align-items-center","justify-content-between",a),children:i})},rb=e=>{let{key:i,options:a,page:s}=e,{panel:l,menu:n,surveyId:r}=(0,_.g)(),o=(0,_.Zp)(),d=n===a.menu||Array.isArray(a.activeMenus)&&a.activeMenus.includes(n);return(0,m.jsx)(sx,{tip:a.disabledTip,showTip:a.disabled,placement:"right",children:(0,m.jsx)("div",{onClick:()=>(()=>{if(a.redirect)window.open(a.redirect,"_self");else{let e=void 0!==a.page?a.page:s,i=void 0!==a.panel?a.panel:l;o(`/${e}/${r}/${i}${i&&""!==i&&"/"}${a.menu}`)}})(),className:sN()("px-4 py-3 d-flex align-items-center cursor-pointer rounded sidebar-panel",{"focus-bg-purple":d,disabled:a.disabled}),children:(0,m.jsx)(a1.A.Label,{className:sN()("cursor-pointer mb-0",{"text-white":d}),children:null==a?void 0:a.labelEditor})})},i)};var rE=a(22969);let ry=e=>{let{code:i,positionX:a,positionY:s,isToggled:l,contextMenuRef:n,setContextMenu:r}=e,[o,d]=(0,h.useState)(!1),{surveyId:u}=(0,_.g)(),{survey:c,update:p}=dV(u),{addToBuffer:g}=dF(),v=[{text:t("Show/hide question codes"),icon:(0,m.jsx)(tQ,{}),shortcut:"H",onClick:e=>{var i,a;e.stopPropagation();let s={showQNumCode:{showCode:!(null==(i=c.showQNumCode)?void 0:i.showCode),showNumber:!(null==(a=c.showQNumCode)?void 0:a.showNumber)}};p(s),g(iJ(u).survey().update(s)),r({position:{x:0,y:0},toggled:!1})}},{text:t("Copy question code"),icon:(0,m.jsx)(tQ,{}),shortcut:"C",onClick:e=>{e.stopPropagation(),(0,rE.A)(i),r({position:{x:0,y:0},toggled:!1})}}],x=(0,h.useCallback)(()=>{d(!1)},[]);return(0,h.useEffect)(()=>{function e(e){(3===e.which||3===e.button)&&x()}return document.addEventListener("scroll",x,!1),document.addEventListener("mousedown",e,!1),()=>{document.removeEventListener("scroll",x,!1),document.removeEventListener("mousedown",e,!1)}},[]),(0,m.jsx)("menu",{style:{top:s-8+"px",left:a+"px"},className:`context-menu ${l?"active":""}`,ref:n,children:v.map((e,a)=>(0,m.jsxs)(h.Fragment,{children:[e.seperator&&(0,m.jsx)("hr",{}),e.overlay?(0,m.jsx)(sv.A,{trigger:"click",overlay:e.overlay,placement:"right-start",show:o,onToggle:e=>{d(e)},rootClose:!0,children:(0,m.jsxs)("button",{children:[e.text,(0,m.jsxs)("span",{className:"btn-icon",children:[e.icon,e.shortcut]})]},a)}):(0,m.jsx)("button",{onClick:function(a){a.stopPropagation(),e.onClick(a,i)},children:e.text},a)]},`${i}-${null==e?void 0:e.text}`))})},rS=e=>{let{icon:i,title:a,titlePlaceholder:s,code:l,meatballButton:n,children:r,style:o,testId:d="",provided:u={},onTitleClick:c=()=>{},onRowClick:p=()=>{},showMeatballButton:g,isQuestionGroup:v,isOpen:x=!1,className:I="",isFocused:T=!1}=e,[N,b]=(0,h.useState)(x),{surveyId:E}=(0,_.g)(),{survey:y}=dV(E),S=y.showQNumCode;(0,h.useEffect)(()=>{N||b(x)},[x]);let A=(0,h.useRef)(null),[f,j]=(0,h.useState)({position:{x:0,y:0},toggled:!1}),C=(0,h.useCallback)(()=>{j({position:{x:0,y:0},toggled:!1})},[]);return(0,h.useEffect)(()=>{function e(e){A.current&&!A.current.contains(e.target)&&C()}function i(e){(3===e.which||3===e.button)&&C()}return document.addEventListener("click",e),document.addEventListener("mousedown",i,!1),document.addEventListener("scroll",C,!1),()=>{document.removeEventListener("click",e),document.removeEventListener("mousedown",i,!1),document.removeEventListener("scroll",C,!1)}},[]),(0,m.jsxs)("div",{children:[(0,m.jsx)(ry,{code:l,contextMenuRef:A,positionX:f.position.x,positionY:f.position.y,isToggled:f.toggled,setContextMenu:j}),(0,m.jsxs)("div",{onClick:p,onContextMenu:function(e){if(!v){e.preventDefault();let i=e.clientX,a=e.clientY;i+150>300?j({position:{x:150,y:e.clientY},toggled:!0}):j({position:{x:i,y:a},toggled:!0})}},"data-testid":d,children:[(0,m.jsxs)("div",{className:sN()(`sidebar-row ps-1 ${I}`,{"focus-bg-purple text-white":T}),style:{...o},children:[(0,m.jsxs)("div",{style:{cursor:u.dragHandleProps?"grab":"pointer"},className:sN()("sidebar-row-title-container d-flex align-items-center"),...u.dragHandleProps,children:[(0,m.jsx)(sk.A,{"data-testid":"sidebar-row-toggler-button",variant:"link",onClick:()=>b(!N),className:sN()("p-0",{"rotate-270":!N,"d-none":!v}),children:(0,m.jsx)(tn,{})}),"string"==typeof i?(0,m.jsx)("img",{className:sN()({"question-group":!l}),src:i,alt:"sidebar row item icon"}):i,(0,m.jsx)(sL,{disabled:!0,placeholder:s,value:a,className:sN()("sidebar-row-title",{"question-group":!l,"question-code":null==S?void 0:S.showCode}),onClick:c})]}),(0,m.jsxs)("div",{className:sN()("d-flex","flex-grow-1","align-items-center","justify-content-end"),children:[(0,m.jsx)("div",{children:!v&&(null==S?void 0:S.showCode)&&l&&(0,m.jsx)(sx,{tip:l,showTip:(null==l?void 0:l.length)>5,children:(0,m.jsx)("div",{className:"sidebar-row-tag mx-1 bg-white label-s",children:l})})}),(0,m.jsx)("span",{className:sN()("sidebar-meatball-menu my-1",{"opacity-100":g}),children:n})]})]}),N&&(0,m.jsx)("div",{style:{paddingLeft:"18px"},children:r})]})]})},rA=e=>{let{title:i,disabled:a=!1}=e;return(0,m.jsx)(rS,{title:i,icon:(0,m.jsx)(tT,{}),style:{marginLeft:20},className:a?"disabled":""})},rf=e=>{let{duplicateText:i,deleteText:a,handleDuplicate:s,handleDelete:l,testId:n="",items:r=[],shouldDisableIfSurveyActive:o=!0,meatballClassName:d="meatball-menu ",actionsTitle:u="",placement:c="right",TogglerIcon:p=tj}=e,[g,v]=(0,h.useState)(!1),[x]=j(F,!1),[I]=j(en),_=()=>{v(!1),s()},T=()=>{v(!1),l()},N=x?ss().ACTIVE_DISABLED:ss().NO_PERMISSION,b=(0,h.useMemo)(()=>r.length?(0,m.jsxs)(nv.A,{id:"meatball-menu-popover",bsPrefix:`${d}`,className:`${d} ps-3 bg-white`,"data-testid":"meatball-menu-overlay",children:[(0,m.jsx)("p",{className:"label-s-med mb-2 action-title",children:u}),r.map((e,i)=>(0,m.jsx)(sx,{tip:e.tooltip,showTip:(x||!I)&&o,children:(0,m.jsxs)(sk.A,{"data-testid":`${e.label.toLowerCase()}-button`,disabled:(x||!I)&&o,variant:"layout",onClick:()=>{e.onClick(),v(!1)},className:`d-flex gap-2 meatball-button ${e.className}`,children:[e.icon,(0,m.jsx)("span",{className:"label-m",children:e.label})]})},i))]}):(0,m.jsxs)(nv.A,{id:"meatball-menu-popover",bsPrefix:"meatball-menu",className:"meatball-menu ps-3 bg-white","data-testid":"meatball-menu-overlay",children:[(0,m.jsx)(sx,{tip:N,showTip:(x||!I)&&o,children:(0,m.jsx)(sk.A,{"data-testid":"duplicate-button",disabled:(x||!I)&&o,variant:"layout",onClick:_,children:i})}),(0,m.jsx)(sx,{tip:N,showTip:(x||!I)&&o,children:(0,m.jsx)(sk.A,{"data-testid":"delete-button",disabled:(x||!I)&&o,className:"meat-ball-delete-button",variant:"layout",onClick:T,children:a})})]}));return(0,m.jsx)("div",{"data-testid":n,children:(0,m.jsx)(sv.A,{overlay:b,trigger:"click",placement:c,show:g,onToggle:e=>{v(e)},offset:[6,22],rootClose:!0,transition:!0,children:(0,m.jsx)(sk.A,{variant:"outline",className:"p-0","data-testid":"meatball-menu-button",children:(0,m.jsx)(p,{})})})})},rj=e=>{var i,a,s;let{question:l,language:n,provided:r,duplicateQuestion:o,deleteQuestion:d,groupIndex:u,questionIndex:c,snapshot:p,focused:h}=e,{setFocused:g}=dH(),v=iO(null==(i=l.l10ns[n])?void 0:i.question);return(0,m.jsx)("div",{className:sN()("question-body-content ",{"focus-element":p.isDragging,"opacity-25":null==(s=l.attributes)||null==(a=s.hide_question)?void 0:a.value,"focus-bg-purple":h.qid===l.qid,"text-white":h.qid===l.qid}),children:(0,m.jsx)(rS,{titlePlaceholder:t("What's your question?"),provided:r,title:v,meatballButton:(0,m.jsx)(rf,{deleteText:t("Delete question"),duplicateText:t("Duplicate question"),handleDelete:d,handleDuplicate:()=>{o()}}),icon:(0,m.jsx)(tN,{}),code:l.title,testId:"sidebar-row-question",onRowClick:()=>g({...l},u,c)})})},rC=e=>{let{questions:i=[],handleUpdate:a,language:s,groupIndex:l}=e,{addToBuffer:n}=dF(),{focused:r={},setFocused:o,unFocus:d}=dH();return(0,m.jsx)(s0.gL,{droppableId:`g${l}`,type:"question",direction:"vertical",children:e=>(0,m.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"group",children:[i.map((e,u)=>(0,m.jsx)(s0.sx,{draggableId:`g${l}_q${u}`,index:u,children:(c,p)=>(0,m.jsx)("div",{ref:c.innerRef,...c.draggableProps,style:{userSelect:"none",margin:"0",...c.draggableProps.style},"data-sortorder":e.sortOrder,className:sN()({"focus-element":p.isDragging}),children:(0,m.jsx)(rj,{question:e,language:s,provided:c,duplicateQuestion:()=>((e,s)=>{let r=s+1,d=ib(e),u=aZ(i,d,r,"sortOrder");n(iJ(d.qid).question().create({question:{...d,tempId:d.qid},questionL10n:{...d.l10ns},attributes:{...d.attributes||{}},answers:{...d.answers||[]},subquestions:{...d.subquestions||[]}}));for(let e=r+1;e<u.length;e++){let i=u[e];n(iJ(i.qid).question().update({sortOrder:i.sortOrder}))}a(u),setTimeout(()=>{o(u[r],l,r)},0)})(e,u),deleteQuestion:()=>{ih({icon:"warning"}).then(e=>{let{isConfirmed:s}=e;if(!s)return;let l=i[u],[r]=iT(i,u);n(iJ(l.qid).question().delete()),a(r),d()})},groupIndex:l,questionIndex:u,focused:r,snapshot:p})})},`g${l}_q${u}_${e.qid}`)),e.placeholder,0===i.length&&(0,m.jsx)("div",{children:t("Question group is empty.")})]})},`g${l}-${null==i?void 0:i.length}`)},rO=e=>{var i,a;let{questionGroup:{l10ns:s={},questions:l=[],gid:n},questionGroup:r={},language:o,update:d,provided:u,duplicateGroup:c,deleteGroup:p,groupIndex:h,onTitleClick:g=()=>{}}=e,{setFocused:v,focused:x}=dH(),I=null==(i=s[o])?void 0:i.groupName,_=null==(a=s.en)?void 0:a.groupName,T=(null==x?void 0:x.gid)===n,N=(null==x?void 0:x.gid)===n&&(null==x?void 0:x.qid)===void 0;return(0,m.jsx)(rS,{onTitleClick:()=>{v(r,h,void 0,!1),g()},testId:"survey-structure-question-group",title:I||_||"",titlePlaceholder:t("What is your question group about?"),provided:u,icon:(0,m.jsx)(tc,{}),isQuestionGroup:!0,meatballButton:(0,m.jsx)(rf,{deleteText:t("Delete group"),duplicateText:t("Duplicate group"),handleDelete:()=>{p()},handleDuplicate:()=>{c()}}),isOpen:T,isFocused:N,children:(0,m.jsx)(rC,{questions:l,language:o,handleUpdate:e=>{d({...r,questions:e})},groupIndex:h})})},rw=()=>{var e,i;let{surveyId:a}=(0,_.g)(),s=(0,_.Zp)(),{setFocused:l,unFocus:n,focused:r}=dH(),{survey:{questionGroups:o=[],language:d,showWelcome:u,sid:c}={},survey:p,update:g}=dV(a),{addToBuffer:v}=dF(),[x]=j(en),[I]=j(F,!1),[T,N]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=document.querySelector('[data-rbd-droppable-id="all-groups"]');if(e)return T||!x?e.style.cursor="not-allowed":e.style.cursor="auto",()=>{e.style.cursor="auto"}},[T,x]);let b=e=>{p.questionGroups=e,g({...p})},E=e=>{let i=document.getElementById(e);!i||G(i)||V(i)};return(0,m.jsx)("div",{"data-testid":"editor-structure-panel",className:"d-flex",style:{height:"100%"},children:(0,m.jsx)("div",{className:"survey-structure",children:(0,m.jsxs)("div",{id:"survey-menu",className:"survey-menu",children:[(0,m.jsxs)(rN,{className:"primary",children:[t("Structure"),(0,m.jsx)(sk.A,{variant:"link",className:"p-0 btn-close-lime","data-testid":"btn-close-structure",onClick:()=>{s(`/survey/${c}`)},children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),(0,m.jsx)("div",{"data-testid":"survey-structure-header",className:sN()({"focus-bg-purple text-white":(null==r||null==(e=r.info)?void 0:e.type)===lh().WELCOME_SCREEN.type}),onClick:()=>{E("survey-header"),l({info:lh().WELCOME_SCREEN})},children:(0,m.jsx)(rA,{title:t("Welcome"),disabled:!u})}),(0,m.jsx)(s0.JY,{onDragEnd:e=>{N(!1);let{source:i,destination:a,type:s}=e;if(!a||!x)return;let n=e.source.index,d=e.destination.index,u=((e,i,a)=>{if("group"===e){let e=((e,i,a)=>{let s=[...e],[l]=s.splice(i,1);return s.splice(a,0,l),s.map((e,i)=>(e.sortOrder=i+1,e))})(o,i,a);return v(iJ().questionGroupReorder().update(aD(e))),b(e),r.gid===e[i].gid&&void 0===r.qid&&l({...e[a]},a),!0}return!1})(s,n,d);u||(u=((e,i,a,s)=>{if(e.droppableId===i.droppableId){let i=e.droppableId.replace("g",""),{movedQuestion:n,reorderedQuestions:r}=iM(o[i].questions,a,s),d={[n.gid]:{sortOrder:i+1,questions:aL(r)}};return v(iJ().questionGroupReorder().update(d)),o[i].questions=r,b(o),l(n,i,s),!0}return!1})(i,a,n,d)),u||((e,i)=>{if(!I){var a,s;let n,r=e.droppableId.replace("g",""),d=i.droppableId.replace("g",""),[u,[c]]=iT(o[r].questions,e.index),m=(a=o[d].questions,s=i.index,(n=(0,i_.cloneDeep)(a)).splice(s,0,c),n);o[r].questions=u,o[d].questions=m,v(iJ().questionGroupReorder().update(aD(o))),b(o),l(c,d,i.index)}})(i,a)},onDragUpdate:e=>{let{destination:i,source:a}=e;i&&N(i.droppableId!==a.droppableId&&I)},children:(0,m.jsx)(s0.gL,{droppableId:"all-groups",type:"group",direction:"vertical",children:e=>(0,m.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[o.map((e,i)=>(0,m.jsx)(s0.sx,{index:i,draggableId:`questionGroupStructure-${i}`,children:(a,s)=>{let r;return(0,m.jsx)("div",{"data-ordervalue":e.sortOrder,ref:a.innerRef,...a.draggableProps,style:(r=a.draggableProps.style,{userSelect:"none",margin:o.length>0?"0 0 18px 0":"",...r}),className:sN()({"focus-element":s.isDragging}),children:(0,m.jsx)(rO,{provided:a,questionGroup:e,language:d,update:e=>{let a;(a=[...o])[i]=e,b(a)},duplicateGroup:()=>{let a,s,n;return s=aZ(o,a=iN(e),i+1,"sortOrder"),n=iJ(a.gid).questionGroup().create({questionGroup:{...a,tempId:a.gid},questionGroupL10n:a.l10ns}),void(b(s),v(n),a.questions.map(e=>{let i=ib(e);v(iJ(i.qid).question().create({question:{...i,tempId:i.qid},questionL10n:{...i.l10ns},attributes:{...i.attributes||{}},answers:{...i.answers||[]},subquestions:{...i.subquestions||[]}}))}),v(iJ().questionGroupReorder().update(aD(s))),l(a,i+1))},deleteGroup:()=>{ih({icon:"warning"}).then(a=>{let{isConfirmed:s}=a;if(!s)return;let[l]=iT(o,i),r=iJ(e.gid).questionGroup().delete();n(),b(l),v(r)})},onTitleClick:()=>{E(`question-group-${e.gid}`),l({...e},i)},groupIndex:i})})}},`questionGroupStructure-${i}-${e.gid}`)),e.placeholder]})},"all-groups")}),o.length>0?(0,m.jsx)("div",{"data-testid":"survey-structure-footer",className:sN()({"focus-bg-purple text-white":(null==r||null==(i=r.info)?void 0:i.type)===lh().END_SCREEN.type}),onClick:()=>{E("survey-footer-title"),l({info:lh().END_SCREEN})},children:(0,m.jsx)(rA,{title:t("End")})}):(0,m.jsx)(m.Fragment,{})]})})})},rq=()=>({sharing:{label:t("Share survey"),panel:"sharing",icon:tO,defaultMenu:eP}}),rM=e=>{let{surveyId:i,page:a=eU,navigatePage:s=null,showSidebarCloseButton:l=!0}=e,{panel:n}=(0,_.g)(),r=(0,_.Zp)(),{survey:o={},surveyMenus:d={}}=dV(i),u=(0,h.useMemo)(()=>[].concat(...Object.keys(d).map(e=>Object.keys(d[e].entries).map(i=>({entryKey:i,menuTitle:d[e].entries[i].menuTitle})))),[d]).reduce((e,i)=>(e[i.entryKey]={menuTitle:i.menuTitle},e),{}),c=a!==eH?se():rq(),p=(0,h.useCallback)(e=>{if(e.panel!==n)if(e.getRedirectUrl&&1)window.open(e.getRedirectUrl(o.sid),"_self");else{let i=s||a;r(`/${i}/${o.sid}/${e.panel}/${e.defaultMenu||""}`)}},[n,o.sid,r]),g=(0,h.useCallback)(e=>{p(c[e])},[c,p]),v=(0,h.useMemo)(()=>{var e,s,l,n,r,d,m,p,h,g,v,x,I,_,T,N,b,E,y,S,A,f;if(a===eH)return{[null==(n=rq().sharing)?void 0:n.panel]:[{labelEditor:t("Sharing overview"),menu:eP},{labelEditor:t("Participant lists"),menu:"participantsList",redirect:aH(`/admin/tokens/sa/index/surveyid/${i}`)}]};return{[null==(e=c.presentation)?void 0:e.panel]:[{label:null==(r=u[eE])?void 0:r.menuTitle,labelEditor:t("Theme options"),menu:eE},{label:null==(d=u[ey])?void 0:d.menuTitle,labelEditor:t("Presentation"),menu:ey}],[null==(s=c.settings)?void 0:s.panel]:[{label:null==(m=u[eN])?void 0:m.menuTitle,labelEditor:t("General"),menu:eN},{label:null==(p=u[eb])?void 0:p.menuTitle,labelEditor:t("Privacy policy"),menu:eb},{label:null==(h=u[eS])?void 0:h.menuTitle,labelEditor:t("Participant settings"),menu:eS},{label:aU(null==(g=u[ef])?void 0:g.menuTitle),labelEditor:t("Publication & access"),menu:ef},{label:aU(null==(v=u[eA])?void 0:v.menuTitle),labelEditor:t("Notifications & data"),menu:eA}],[null==(l=c.menu)?void 0:l.panel]:(x=o.active,[{label:null==(I=u[ej])?void 0:I.menuTitle,labelEditor:t("Participants"),menu:ej,redirect:aH("/admin/tokens/sa/index/surveyid/"+i)},{label:null==(_=u[eC])?void 0:_.menuTitle,labelEditor:t("Email templates"),menu:eC,redirect:aH("/admin/emailtemplates/sa/index/surveyid/"+i)},{label:null==(T=u[eO])?void 0:T.menuTitle,labelEditor:t("Failed email notifications"),menu:eO,redirect:aH("/failedEmail/index?surveyid="+i)},{label:null==(N=u[ew])?void 0:N.menuTitle,labelEditor:t("Quotas"),menu:ew,redirect:aH("/quotas/index?surveyid="+i)},{label:null==(b=u[eq])?void 0:b.menuTitle,labelEditor:t("Assessments"),menu:eq,redirect:aH("/assessment/index?surveyid="+i)},{label:null==(E=u[eM])?void 0:E.menuTitle,labelEditor:t("Panel integration"),menu:eM,redirect:aH("/surveyAdministration/rendersidemenulink?surveyid="+i+"&subaction=panelintegration")},{label:null==(y=u.responses)?void 0:y.menuTitle,labelEditor:t("Responses"),menu:"responses",panel:"",page:ek,disabled:!x,disabledTip:ss().SURVEY_NOT_ACTIVE},{label:null==(S=u[eL])?void 0:S.menuTitle,labelEditor:t("Statistics"),menu:eL,redirect:aH("/admin/statistics?sa=index&surveyid="+i),disabled:!x,disabledTip:ss().SURVEY_NOT_ACTIVE},{label:null==(A=u[eD])?void 0:A.menuTitle,labelEditor:t("Resources"),menu:eD,redirect:aH("/surveyAdministration/rendersidemenulink?surveyid="+i+"&subaction=resources")},{label:null==(f=u[eR])?void 0:f.menuTitle,labelEditor:t("Simple plugins"),menu:eR,redirect:aH("/surveyAdministration/rendersidemenulink?surveyid="+i+"&subaction=plugins")}])}},[a,c,i,u,o.active]),x={[se().structure.panel]:(0,m.jsx)(rw,{})},I=(0,h.useMemo)(()=>Object.entries(c).map(e=>{let[a,s]=e;return{icon:s.icon,label:s.label,tip:s.tip,iconEvent:s.panel,panel:a,panelItems:v[a]||[],panelComponent:x[a]||[],onIconClickCallback:()=>p(s),panelEvent:s.panel,onPanelClickCallback:()=>p(s),onSidebarClose:()=>r(`/survey/${i}`)}}),[c,v,x,p,r,i]);return(0,m.jsx)(rT,{testId:"left-sidebar",items:I,showFeedbackButton:!0,onIconClick:g,page:a,showCloseButton:l})},rL=e=>{let{onClick:i}=e,[a,s]=(0,h.useState)(!1);return(0,m.jsxs)("button",{onClick:()=>{i&&i(),s(!0),setTimeout(()=>{s(!1)},600)},className:"btn btn-primary btn-sm copy-btn d-flex justify-content-center align-items-center gap-2",children:[a?null:(0,m.jsx)(th,{className:"text-white fill-current"}),(0,m.jsx)("p",{children:a?t("Copied!"):t("Copy")})]})},rD=`${eY}tokens`,rR=e=>{let i=aH(`/admin/tokens/sa/index/surveyid/${e}`);window.open(i,"_self")},rP=e=>{let{parentName:i=null,survey:a,currentSurveyAccessMode:s,onSurveyAccessModeChange:l,createBufferOperation:n,addToBuffer:r,update:o}=e,{fetchFilteredSurveyArchivesByBase:d}=dY(a.sid),u=(0,h.useMemo)(()=>({open:{label:t("Anyone with link"),key:"open",value:eV.OPEN_TO_ALL,description:t("Anyone with the link to this survey can access."),icon:(0,m.jsx)(tz,{className:"me-2"})},closed:{label:t("Link with access code"),key:"closed",value:eV.CLOSED,description:t("Only participants with the link and access code can access."),icon:(0,m.jsx)(t$,{className:"me-2"})}}),[]),[c,p]=(0,h.useState)((null==a?void 0:a.access_mode)===eV.CLOSED?u.closed.key:u.open.key),g=d2(a);return(0,h.useEffect)(()=>{d(a.sid)},[a,c]),(0,m.jsxs)("div",{className:"survey-access-mode mb-3","data-testid":"access-mode-heading",children:[(0,m.jsx)("h5",{className:"med16-c mb-4",children:t("Select how you want to share your survey")}),(0,m.jsxs)("div",{className:`row ${"Overview"!==i?"gx-3":"gx-1"} ${!g?"disable-settings":""}`,children:[(0,m.jsx)("div",{className:sN()("fill-grape col-auto d-flex align-items-center",{"pe-0":"Overview"!==i}),children:(0,m.jsx)("div",{className:"d-flex align-items-center me-2",children:u[c].icon})}),(0,m.jsxs)("div",{className:sN()("col d-flex flex-grow-1 flex-column",{"ps-0":"Overview"!==i}),children:[(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsxs)(ls.A,{className:"survey-access-mode-dropDown",onSelect:e=>{let i;g&&((e=>{let{survey:i,currentSurveyAccessMode:a,newAccessMode:s,onSurveyAccessModeChange:l,setSelectedAccessMode:n,createBufferOperation:r,addToBuffer:o,update:d}=e,u=s.value===eV.CLOSED,c=s.value===eV.OPEN_TO_ALL,p=Object.values(A.getQueryData([rD])||{}).some(e=>{let{types:i=[],timestamp:a=0,hastokens:s=!1}=e;return 0===i.length&&0===a&&s}),h=Object.values(A.getQueryData([rD])||{}).some(e=>{let{types:i=[],count:a=0}=e;return i.includes("tokens")&&a>0});if(!s||s.value===a)return;l(s.value),n(s.key),o(r(i.sid).accessMode().update({accessMode:s.value})),i.access_mode=s.value;let g=(e=>{let{survey:i,isSwitchingToClosed:a,isSwitchingToOpen:s,hasAccessTokens:l,hasArchivedAccessTokens:n}=e,r=i.sid,o=i.hasTokens;if(a&&!o&&n){let e=(0,lD.format)(t("You do not have participants yet. Create or restore archived participants under %sparticipants%s"),'<span class="grape-link">',"</span>");return(0,m.jsx)("p",{"data-testid":"toast-no-participants-closed-mode",dangerouslySetInnerHTML:{__html:e},onClick:e=>{e.target.classList.contains("grape-link")&&rR(r)}})}if(s&&l){let e=(0,lD.format)(t("You still have a participants list for your survey. You can remove it under %sparticipants%s"),'<span class="grape-link">',"</span>");return(0,m.jsx)("p",{"data-testid":"toast-open-mode-with-participants",dangerouslySetInnerHTML:{__html:e},onClick:e=>{e.target.classList.contains("grape-link")&&rR(r)}})}return null})({survey:i,isSwitchingToClosed:u,isSwitchingToOpen:c,hasAccessTokens:p,hasArchivedAccessTokens:h});u&&!i.hasTokens?i.hasTokens=!0:c&&!p&&(i.hasTokens=!1),d({...i}),g&&ix({message:g,position:"top-center",className:"generic-toast yellow-left-mark mt-2",leftIcon:(0,m.jsx)(t0,{className:"fill-current text-white rounded-circle bg-dark me-1"}),"data-testid":"toast-access-mode-changed"})})({survey:a,currentSurveyAccessMode:s,newAccessMode:i=u[e],setSelectedAccessMode:p,onSurveyAccessModeChange:l,createBufferOperation:n,addToBuffer:r,update:o}),p(i.key))},children:[(0,m.jsx)(ls.A.Toggle,{className:sN()("access-mode-toggle text-start border-0 ps-2 pe-2",{disable:!g}),"data-testid":"access-mode-toggle",children:(0,m.jsxs)("div",{className:"d-flex align-items-start justify-content-start",children:[(0,m.jsx)("div",{className:"med14-c text-black",children:u[c].label}),(0,m.jsx)(tn,{className:"access-mode-dropdown-icon ms-3",height:20,width:20})]})}),(0,m.jsx)(ls.A.Menu,{className:"w-100","data-testid":"access-mode-menu",role:"menu",children:Object.entries(u).map(e=>{let[i,a]=e;return(0,m.jsx)(ls.A.Item,{eventKey:i,className:sN()("survey-access-mode-dropdown-item",{"disable ":!g}),role:"menuitem",children:(0,m.jsxs)("div",{className:sN()("row gx-1 p-2",{"active-access-mode":c===i}),children:[(0,m.jsx)("div",{className:"col-auto d-flex align-items-center",children:(0,m.jsx)("span",{children:a.icon})}),(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("div",{className:"med14-c",children:a.label}),(0,m.jsx)("div",{className:"reg14 text-wrap",children:a.description})]}),(0,m.jsx)("div",{className:"col-auto ps-2 d-flex align-items-center justify-content-end",children:c===i&&(0,m.jsx)("div",{"data-testid":"check-icon",children:(0,m.jsx)(tu,{})})})]})},i)})})]})}),(0,m.jsx)("div",{className:"reg14 ps-2 pb-2",children:u[c].description})]})]})]})},rk=e=>{let{parentName:i=null,survey:a={},update:s,language:l="",onAliasChange:n=()=>{},setLink:r,editable:o=!0,aliasHasError:d=!1,currentSurveyAccessMode:u,onSurveyAccessModeChange:c=()=>{},createBufferOperation:p,addToBuffer:g}=e,[v,x]=(0,h.useState)(!1),I=(0,h.useRef)(null),_=(0,h.useRef)(null),T=window.location.protocol+"//"+window.location.host+"/",N=(0,h.useMemo)(()=>{var e,i;return(null==(i=a.languageSettings[l])||null==(e=i.alias)?void 0:e.trim())||""},[l,a]),b=d2(a),[E,y]=(0,h.useState)(N),S=(0,h.useMemo)(()=>dj({survey:a,language:l}),[a,l]),A=(0,h.useMemo)(()=>40,[]),f=(0,h.useMemo)(()=>df(S,A),[S]),j=(0,h.useMemo)(()=>df(T,A),[T]),C=(0,h.useMemo)(()=>_.current?_.current.offsetWidth:0,[j,_.current]);return(0,h.useEffect)(()=>{v&&(I.current.focus(),I.current.setSelectionRange(E.length,E.length))},[v]),(0,h.useEffect)(()=>{r(S),x(!1),y(N.trim())},[N]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(rP,{parentName:i,survey:a,onSurveyAccessModeChange:c,currentSurveyAccessMode:u,createBufferOperation:p,addToBuffer:g,update:s}),(0,m.jsxs)("div",{className:sN()("d-flex align-items-center my-3 gap-0",{"border border-danger":d}),children:[v&&(0,m.jsx)(s_,{type:"text",className:"survey-alias-input opacity-50 pe-0 ",style:{width:`${C}px`},value:j,disabled:!0,inputClass:"border-none p-0"}),(0,m.jsx)(s_,{type:"text",className:`survey-alias-input me-2 p-relative ${v?"px-0":"w-100"}`,style:v?{width:`calc(100% - ${C}px)`}:{},value:v?E:f,onChange:e=>{let{target:{value:i}}=e;y(i)},placeholder:t("Enter survey alias"),disabled:!v,Icon:v?null:(0,m.jsx)(rL,{onClick:()=>{(0,rE.A)(S)}}),inputClass:`border-none p-0 text-cursor ${v?"":"opacity-50"}`,inputRef:I})]}),o&&!v&&(0,m.jsx)("div",{className:sN()("text-decoration-none","alias-info","med14-c","text-primary","d-flex","align-items-center","gap-2",{"disable-settings ":!b}),children:(0,m.jsxs)("span",{onClick:()=>{b&&x(!v)},className:"cursor-pointer disable-select",children:[(0,m.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfODI1MF85MDgpIj4KICAgIDxwYXRoIGZpbGw9IiM4MTQ2RjYiIGQ9Ik0xMy4xMDY3IDguMDcwNzZMMTEuOTI4MyA2Ljg5MjQzTDQuMTY2NjcgMTQuNjU0MVYxNS44MzI0SDUuMzQ1TDEzLjEwNjcgOC4wNzA3NlpNMTQuMjg1IDYuODkyNDNMMTUuNDYzMyA1LjcxNDA5TDE0LjI4NSA0LjUzNTc2TDEzLjEwNjcgNS43MTQwOUwxNC4yODUgNi44OTI0M1pNNi4wMzUgMTcuNDk5MUgyLjVWMTMuOTYzM0wxMy42OTU4IDIuNzY3NDNDMTMuODUyMSAyLjYxMTIgMTQuMDY0IDIuNTIzNDQgMTQuMjg1IDIuNTIzNDRDMTQuNTA2IDIuNTIzNDQgMTQuNzE3OSAyLjYxMTIgMTQuODc0MiAyLjc2NzQzTDE3LjIzMTcgNS4xMjQ5M0MxNy4zODc5IDUuMjgxMiAxNy40NzU3IDUuNDkzMTIgMTcuNDc1NyA1LjcxNDA5QzE3LjQ3NTcgNS45MzUwNiAxNy4zODc5IDYuMTQ2OTkgMTcuMjMxNyA2LjMwMzI2TDYuMDM1ODMgMTcuNDk5MUg2LjAzNVoiIC8+CiAgPC9nPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF84MjUwXzkwOCI+CiAgICAgIDxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgo8L3N2Zz4K"})," ",t("Customize link")]})}),v&&(0,m.jsxs)("div",{className:"d-flex alias-info",children:[(0,m.jsx)("div",{className:"text-decoration-none btn med14-c text-info d-flex align-items-center gap-2",children:(0,m.jsx)("span",{onClick:()=>{x(!1),y(N)},className:"cursor-pointer disable-select",children:t("Cancel")})}),(0,m.jsx)("div",{className:"text-decoration-none btn med14-c text-success d-flex align-items-center gap-2",children:(0,m.jsx)("span",{onClick:()=>{b&&(x(!1),n(E.trim()))},className:"cursor-pointer disable-select",children:t("Save")})})]}),(0,m.jsx)("span",{ref:_,className:"invisible position-absolute form-control survey-alias-input w-auto",children:j})]})};var rU=a(32584);let rH=e=>{let{value:i="https://www.limesurvey.org/",size:a=150,quietZone:s=10,ecLevel:l="L",logoOpacity:n=1,logoPaddingStyle:r="square",removeQrCodeBehindLogo:o=!0,qrStyle:d="dots",eyeRadius:u=[{outer:[10,10,10,10],inner:[0,0,0,0]},{outer:[10,10,10,10],inner:[0,0,0,0]},{outer:[10,10,10,10],inner:[0,0,0,0]}],eyeColor:c={outer:"#000000",inner:"#25c267"},fgColor:p="#000000",bgColor:g="#ffffff",showDownloadButton:v=!0}=e,x=(0,h.useRef)(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"text-center mb-4",ref:x,children:(0,m.jsx)(rU.QRCode,{value:i,logoImage:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjI2NTEgOC45NjIyQzExLjU0OTMgOC45ODk0NyAxMi44MjA2IDkuMjM1OTggMTQuMDI4OCA5LjY5MTk4QzE1LjIzNzEgMTAuMTMyOCAxNi40MDUxIDEwLjY4NjIgMTcuNTE5IDExLjM0NTNDMTguNjI1OCAxMS45OTI3IDE5LjY5MjQgMTIuNzEyNyAyMC43MTI1IDEzLjUwMUMyMS4yMjExIDEzLjg5NiAyMS43MTc4IDE0LjI5OTIgMjIuMjA3MyAxNC43MjNDMjIuNDUzOSAxNC45MzI4IDIyLjY5MjkgMTUuMTUwMyAyMi45MzE0IDE1LjM3MjJDMjMuMDUwNiAxNS40ODA5IDIzLjE3MTggMTUuNTk0MiAyMy4yODk2IDE1LjcwNjlMMjMuNDY3IDE1Ljg4NDZMMjMuNjU5MyAxNi4wNzQzTDIwLjExOTIgMTYuMDgyNEwyMC40MzUgMTUuNjk1M0wyMC43MzE3IDE1LjM1MjZDMjAuOTI4MyAxNS4xMjY2IDIxLjEyNDUgMTQuOTA5MiAyMS4zMjUgMTQuNjkxM0MyMS43MjU3IDE0LjI2MzggMjIuMTM0IDEzLjg0OTcgMjIuNTUwMSAxMy40NDkxQzIyLjk2NiAxMy4wNSAyMy4zOTc3IDEyLjY2MyAyMy44MjkgMTIuMjg3NUMyNC4wNDg3IDEyLjEwMTggMjQuMjY4IDExLjkxNjYgMjQuNDg3NyAxMS43MzM5TDI0LjgxOSAxMS40NjI2TDI1LjE1NzkgMTEuMjAwNEMyNi4wNTk1IDEwLjQ5NTggMjYuOTk1NiA5Ljg0NTQ5IDI3Ljk1ODYgOS4yMzc1QzI4LjkyMTcgOC42Mjk1MiAyOS45MTU1IDguMDg0NDQgMzAuOTI4NSA3LjU4MDEzQzMyLjk1NTkgNi41NzYxNyAzNS4wODMyIDUuODEwNTEgMzcuMjcxNyA1LjI5NzE2QzM4LjM2NDYgNS4wNDY3MSAzOS40NzE4IDQuODcwMTkgNDAuNTg2NCA0Ljc2ODdDNDEuNzAzNiA0LjY2MzE5IDQyLjgyNzYgNC42NjA1IDQzLjk0NTIgNC43NjA2NUM0My40NzU1IDUuMDk5MzcgNDIuOTk3NiA1LjM4NTc1IDQyLjUzMTcgNS42OTIyNUM0Mi4zMDA0IDUuODQzMjUgNDIuMDY1OCA1Ljk5NDI0IDQxLjgzMDcgNi4xMzU2NkM0MS43MTUzIDYuMjA4MTQgNDEuNTk5NCA2LjI4MDYxIDQxLjQ4NCA2LjM1NzYyTDQxLjEzNzQgNi41Nzk1N0M0MC4yMTY2IDcuMTU5MzcgMzkuMzE5IDcuNzQ4NzQgMzguNDI1NyA4LjMyMTVDMzYuNjQ2NyA5LjQ4MzExIDM0LjkyMDEgMTAuNjQ4MyAzMy4yMjkyIDExLjg1MDFDMzEuNTM4MiAxMy4wNTIgMjkuODg5IDE0LjI4MTYgMjguMjc2OSAxNS41NTU5QzI3Ljg3NjQgMTUuODc4NSAyNy40NzE2IDE2LjE5MzEgMjcuMDc0OSAxNi41MjM4QzI2LjY3NDQgMTYuODQyNCAyNi4yODQ5IDE3LjE3ODEgMjUuODkyMSAxNy41MDM3QzI1LjUwMzIgMTcuODM4NCAyNS4xMTQyIDE4LjE2OTEgMjQuNzM4MiAxOC41MDM4QzI0LjU0OTMgMTguNjczNCAyNC4zNjA4IDE4LjgzODUgMjQuMTc1NyAxOS4wMDRMMjMuNjY3IDE5LjQ3MTZMMjEuNTE3OCAyMS40NDNMMjAuMTE5NiAxOS40ODAyQzIwLjA5MjcgMTkuNDM5OSAyMC4wNDI3IDE5LjM3OTUgMjAuMDAwNCAxOS4zMjkyTDE5Ljg2NTggMTkuMTU5NkwxOS41OTIyIDE4LjgxNjhMMTkuMDMzNSAxOC4xMjczQzE4LjY1NTkgMTcuNjY3NiAxOC4yNzQ1IDE3LjIwOTMgMTcuODg5MiAxNi43NTIzQzE3LjExOTkgMTUuODQwOCAxNi4zMzY3IDE0LjkzMzkgMTUuNTMzMyAxNC4wNDI1QzE0LjcyOTkgMTMuMTUxMiAxMy45MTE1IDEyLjI3MjQgMTMuMDQ4NSAxMS40MjEzQzEyLjE3MjQgMTAuNTM5NiAxMS4yNDI3IDkuNzE4MTYgMTAuMjY1MSA4Ljk2MjJaIiBmaWxsPSIjMTRBRTVDIi8+CjxwYXRoIGQ9Ik0yMi44OTQyIDM4Ljc4MTFDMjAuOTg4NyAzOC43NzkyIDE5LjEyMTggMzguMjUyMyAxNy41MDM2IDM3LjI1OTlDMTUuODg1NSAzNi4yNjc0IDE0LjU4MDUgMzQuODQ4OSAxMy43MzU3IDMzLjE2NDFMNy42NDYyNCAzNS43NDk1QzkuNDU0MDQgMzkuNTU0OSAxMi42NTY4IDQyLjU0MyAxNi42MDkxIDQ0LjExMTdDMjAuNTYxNCA0NS42ODA0IDI0Ljk2OTUgNDUuNzEzMSAyOC45NDUyIDQ0LjIwMzFMMjYuMzI4MSAzOC4xOTY1QzI1LjIyNiAzOC41ODQ0IDI0LjA2NDMgMzguNzgyMSAyMi44OTQyIDM4Ljc4MTFaIiBmaWxsPSIjMTRBRTVDIi8+CjxwYXRoIGQ9Ik0xMi42NzU5IDI4LjcwMDVDMTIuNjc3MiAyNi45NjY0IDEzLjEzMTYgMjUuMjYxOSAxMy45OTUzIDIzLjc1MTVDMTQuODU5IDIyLjI0MTIgMTYuMTAyOCAyMC45NzYgMTcuNjA2NiAyMC4wNzhMMTMuMzI1NCAxNS4wMzgxQzEwLjI1NTUgMTcuMTI5MiA3Ljk3NjQ2IDIwLjE2NjcgNi44NDYxNCAyMy42NzM5QzUuNzE1ODMgMjcuMTgxMSA1Ljc5ODIyIDMwLjk1OTMgNy4wODAzOSAzNC40MTUyTDEzLjE4MTMgMzEuODI5OEMxMi44NDYyIDMwLjgxOTYgMTIuNjc1NiAyOS43NjM0IDEyLjY3NTkgMjguNzAwNVoiIGZpbGw9IiMxNEFFNUMiLz4KPHBhdGggZD0iTTMzLjA1MiAxNS40NjE5TDI3LjMzNTIgMTkuNjI0NEMyOS4yNjE0IDIwLjU0ODggMzAuODQ4MSAyMi4wNDE5IDMxLjg3NDggMjMuODk2NEwzNy45NzE5IDIxLjMxMDlDMzYuODA4NiAxOS4wMTQ3IDM1LjEyNTIgMTcuMDEzNCAzMy4wNTIgMTUuNDYxOVoiIGZpbGw9IiMxNEFFNUMiLz4KPHBhdGggZD0iTTM5LjczNDUgMjguNzAyNUMzOS43MzY3IDI2LjYyNDYgMzkuMzQxIDI0LjU2NDkgMzguNTY4MiAyMi42MzE4TDMyLjQ4MjUgMjUuMjEzNUMzMy4zMzg5IDI3LjUwNTIgMzMuMzIyNiAzMC4wMjU4IDMyLjQzNjcgMzIuMzA2NUMzMS41NTA4IDM0LjU4NzMgMjkuODU1NSAzNi40NzMyIDI3LjY2NiAzNy42MTM2TDMwLjI4NjkgNDMuNjI0NEMzMy4xMTg0IDQyLjI1NzMgMzUuNTA0NyA0MC4xMzQ0IDM3LjE3NDcgMzcuNDk2OEMzOC44NDQ3IDM0Ljg1OTEgMzkuNzMxNSAzMS44MTI0IDM5LjczNDUgMjguNzAyNVoiIGZpbGw9IiMxNEFFNUMiLz4KPC9zdmc+Cg==",size:a,quietZone:s,ecLevel:l,logoOpacity:n,removeQrCodeBehindLogo:o,qrStyle:d,eyeRadius:u,eyeColor:c,fgColor:p,bgColor:g,logoPaddingStyle:r})}),v&&(0,m.jsxs)("div",{className:"med14-c text-primary cursor-pointer",onClick:()=>{if(!x.current)return;let e=x.current.querySelector("canvas");e&&"function"==typeof e.toDataURL?function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"QRCode.png",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png";if(!e)return;let s=e.toDataURL(a),l=document.createElement("a");l.href=s,l.download=i,l.click()}(e,"QRCode.png"):iv(t("Failed to download QR code"),"center")},children:[(0,m.jsx)("img",{className:"me-2",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfODI1MF84NDk4KSI+CiAgICA8cGF0aCBkPSJNMi41IDE1LjgzMjdIMTcuNVYxNy40OTkzSDIuNVYxNS44MzI3Wk0xMC44MzMzIDEwLjk3NkwxNS44OTI1IDUuOTE2MDJMMTcuMDcwOCA3LjA5NDM1TDEwIDE0LjE2NkwyLjkyOTE3IDcuMDk1MThMNC4xMDc1IDUuOTE2MDJMOS4xNjY2NyAxMC45NzQzVjEuNjY2MDJIMTAuODMzM1YxMC45NzZaIiBmaWxsPSIjODE0NkY2Ii8+CiAgPC9nPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF84MjUwXzg0OTgiPgogICAgICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IndoaXRlIi8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KPC9zdmc+Cg==",alt:"Download QR"}),t("Download QR code")]})]})},rG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjQ3NzMgOS4xNjU5MUw5LjAwNzMyIDQuNjk1OTFMMTAuMTg1NyAzLjUxNzU4TDE2LjY2NzMgOS45OTkyNEwxMC4xODU3IDE2LjQ4MDlMOS4wMDczMiAxNS4zMDI2TDEzLjQ3NzMgMTAuODMyNkgzLjMzMzk4VjkuMTY1OTFIMTMuNDc3M1oiIGZpbGw9IiM4MTQ2RjYiLz4KPC9zdmc+Cg==",rV=e=>{let{classname:i}=e;return(0,m.jsxs)("svg",{className:i,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,m.jsx)("g",{clipPath:"url(#clip0_9045_7635)",children:(0,m.jsx)("path",{d:"M7.9987 14.6673C4.3167 14.6673 1.33203 11.6827 1.33203 8.00065C1.33203 4.31865 4.3167 1.33398 7.9987 1.33398C11.6807 1.33398 14.6654 4.31865 14.6654 8.00065C14.6654 11.6827 11.6807 14.6673 7.9987 14.6673ZM7.33403 10.6673L12.0474 5.95332L11.1047 5.01065L7.33403 8.78198L5.44803 6.89598L4.50536 7.83865L7.33403 10.6673Z",fill:"#1E1E1E"})}),(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"clip0_9045_7635",children:(0,m.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})},rY=e=>{let{message:i}=e;return(0,m.jsxs)("div",{className:"overview-toast",children:[(0,m.jsx)(rV,{classname:"overview-left-spacing"}),(0,m.jsx)("span",{className:"reg14 overview-left-spacing",children:i})]})},rQ=e=>{var i,a;let{survey:s={},update:l,hasOperations:n,numberOfQuestions:r=0,hasSurveyUpdatePermission:o,editSurvey:d,togglePublish:u,toastMessage:c,activeLanguage:p,setShowOverViewModal:g=()=>{},createBufferOperation:v=()=>{},addToBuffer:x=()=>{}}=e,I=(0,_.Zp)(),[N,E]=(0,h.useState)(""),{statistics:y={},refetch:S,isFetching:A}=function(e){let i=dP(),a=(0,h.useMemo)(()=>new dv(i,e,H()),[i]),{data:s,isFetching:l,refetch:n}=(0,b.I)({queryKey:[ev,e],queryFn:()=>a.getSurveyStatisticsAtGlance(e),select:e=>e.statistics});return{statistics:s,isFetching:l,refetch:n}}(null==s?void 0:s.sid),f=null==s||null==(a=s.languageSettings)||null==(i=a[null==s?void 0:s.language])?void 0:i.title,j=new Date(s.dateCreated);(0,h.useEffect)(()=>{(null==s?void 0:s.sid)&&S()},[null==s?void 0:s.sid,S]);let C=(0,h.useRef)([]);return(0,h.useEffect)(()=>{C.current.forEach(e=>{if(e){let i=e.textContent;if(i.length>3){let a=Math.max(16,28-(i.length-3));e.style.fontSize=`${a}px`}}})},[null==y?void 0:y.completionRate]),(0,m.jsx)(T.A,{className:"overview-modal p-0 w-100 h-100 d-flex flex-row justfiy-content-between",children:(null==s?void 0:s.sid)&&y&&!A?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"overview-section overview-main-section w-75",children:[c&&(0,m.jsx)("div",{className:"row mb-4 px-3",children:(0,m.jsx)(rY,{message:c})}),(0,m.jsxs)("div",{className:"row g-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",ref:e=>C.current[0]=e,children:y.totalResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Total responses")})]})})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",ref:e=>C.current[1]=e,children:y.totalResponses-y.incompleteResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Full responses")})]})})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsx)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:y.completionRate?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",ref:e=>C.current[2]=e,children:`${y.completionRate}%`}),(0,m.jsx)("span",{className:"reg14",children:t("Response rate")})]}):(0,m.jsx)("span",{className:"reg14",children:t("No responses yet.")})})})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",ref:e=>C.current[3]=e,children:y.incompleteResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Incomplete responses")})]})})})]}),(0,m.jsxs)("div",{onClick:()=>I(`/responses/${s.sid}`),className:"text-primary text-start arrow-link med14-c cursor-pointer",children:[t("View results overview")," ",(0,m.jsx)("img",{src:rG})]}),(0,m.jsxs)("div",{className:"row g-4",children:[(0,m.jsx)("div",{className:"col-md-8 d-flex align-items-stretch",children:(0,m.jsx)(rd.A,{className:"card d-flex flex-column justify-content-between h-100 w-100",children:(0,m.jsx)(rk,{parentName:"Overview",survey:s,update:l,setLink:E,language:p,editable:!1,currentSurveyAccessMode:(null==s?void 0:s.access_mode)||eV.OPEN_TO_ALL,createBufferOperation:v,addToBuffer:x})})}),(0,m.jsx)("div",{className:"col-md-4 d-flex align-items-stretch",children:(0,m.jsx)(rd.A,{className:"text-center h-100 w-100",children:(0,m.jsx)(rH,{value:N})})})]}),(0,m.jsxs)("div",{onClick:()=>{g(!1),I(`/${eH}/${s.sid}/${rq().sharing.panel}/${eP}`)},className:"text-primary med14-c arrow-link text-start cursor-pointer",children:[t("View sharing overview")," ",(0,m.jsx)("img",{src:rG})]})]}),(0,m.jsxs)("div",{className:"overview-section overview-right-section w-25 bg-white d-flex flex-column justify-content-between",children:[(0,m.jsxs)("div",{className:"text-start",children:[(0,m.jsx)("div",{className:"reg18",children:f||t("Survey title")}),(0,m.jsx)("div",{className:"reg12",children:j.toLocaleDateString()})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)(sk.A,{className:"text-start d-flex align-items-center gap-2 reg14 font-normal w-100",onClick:d,children:[(0,m.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIj4KICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfODI1MF85MDgpIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0xMy4xMDY3IDguMDcwNzZMMTEuOTI4MyA2Ljg5MjQzTDQuMTY2NjcgMTQuNjU0MVYxNS44MzI0SDUuMzQ1TDEzLjEwNjcgOC4wNzA3NlpNMTQuMjg1IDYuODkyNDNMMTUuNDYzMyA1LjcxNDA5TDE0LjI4NSA0LjUzNTc2TDEzLjEwNjcgNS43MTQwOUwxNC4yODUgNi44OTI0M1pNNi4wMzUgMTcuNDk5MUgyLjVWMTMuOTYzM0wxMy42OTU4IDIuNzY3NDNDMTMuODUyMSAyLjYxMTIgMTQuMDY0IDIuNTIzNDQgMTQuMjg1IDIuNTIzNDRDMTQuNTA2IDIuNTIzNDQgMTQuNzE3OSAyLjYxMTIgMTQuODc0MiAyLjc2NzQzTDE3LjIzMTcgNS4xMjQ5M0MxNy4zODc5IDUuMjgxMiAxNy40NzU3IDUuNDkzMTIgMTcuNDc1NyA1LjcxNDA5QzE3LjQ3NTcgNS45MzUwNiAxNy4zODc5IDYuMTQ2OTkgMTcuMjMxNyA2LjMwMzI2TDYuMDM1ODMgMTcuNDk5MUg2LjAzNVoiIC8+CiAgPC9nPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF84MjUwXzkwOCI+CiAgICAgIDxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0id2hpdGUiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgo8L3N2Zz4K"}),t("Edit survey")]}),(0,m.jsxs)(sk.A,{variant:s.active?"danger":"success",className:" align-items-center w-100 my-2 d-flex gap-2 text-start reg14",onClick:()=>u(),disabled:n||0===r||!o,children:[(0,m.jsx)("div",{className:"d-flex align-items-center stop-icon",children:s.active?(0,m.jsx)(tw,{}):(0,m.jsx)(tu,{className:"fill-current text-white"})}),(0,m.jsx)("p",{className:"m-0 reg-14 text-white",children:s.active?t("Deactivate"):t("Activate")})]}),(0,m.jsxs)(sk.A,{variant:"secondary",className:"w-100 d-flex align-items-center gap-2 text-start reg14",onClick:()=>window.open(s.previewLink,"_blank"),children:[(0,m.jsx)(tI,{fill:"#FFF"})," ",t("Preview survey")]})]})]})]}):(0,m.jsxs)("div",{className:"overview-section overview-main-section w-75 d-flex align-items-center justify-content-center gap-3",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader",role:"status"}),(0,m.jsx)("h2",{className:"text-muted m-0",children:t("Loading overview...")})]})})};var rB=a(27269);let rF="activate_and_keep_responses",rz="activate_and_start_from_scratch",r$="deactivate",rW="pause",rZ=e=>`/survey/${e}/${se().settings.panel}/${ef}`,rK=(e,i)=>{let a=rZ(e);return{message:(0,m.jsx)("p",{className:"label-m",children:(0,rB.Ay)((0,lD.format)(t("Reopen the survey by changing or removing the expiration date in the %sPublication & access panel%s"),'<span class="green-link">',"</span>"),{replace:e=>{if("span"===e.name&&"green-link"===e.attribs.class)return(0,m.jsx)("span",{className:"green-link",onClick:()=>i(a),children:e.children[0].data})}})}),position:"bottom-center",className:"generic-toast yellow-left-mark",leftIcon:(0,m.jsx)(t0,{}),duration:1/0}},rX=e=>{let{titleElement:i}=e,a=(0,h.useCallback)(()=>ip.close(),[]);return(0,m.jsxs)("div",{className:"survey-status-switch-popup-header",children:[(0,m.jsx)("p",{className:"survey-status-switch-popup-title",children:i}),(0,m.jsxs)("div",{className:"survey-status-switch-popup-header-right",children:[(0,m.jsxs)(s5,{className:"survey-status-switch-popup-tooltip invisible",variant:"link",style:{padding:0},children:[(0,m.jsx)("div",{className:"survey-status-switch-popup-tooltip-icon",children:(0,m.jsx)(ia,{})}),(0,m.jsx)("p",{className:"survey-status-switch-popup-tooltip-text",children:t("See details")})]}),(0,m.jsx)(s5,{variant:"link",style:{padding:0},onClick:a,children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]})]})},rJ=e=>{let{Icon:i,label:a,isMainElement:s,isDisabled:l}=e;return(0,m.jsxs)("div",{className:sN()("survey-status-switch-popup-card-element",{"survey-status-switch-popup-card-element--primary":s,"survey-status-switch-popup-card-element--secondary":!s,"survey-status-switch-popup-card-element--disabled":l}),children:[i&&(0,m.jsx)("div",{className:"survey-status-switch-popup-card-element-icon",children:(0,m.jsx)(i,{size:24})}),(0,m.jsx)("span",{className:"survey-status-switch-popup-card-element-label",children:a})]})},r0=e=>{let{elements:i=[],isDisabled:a}=e,s=i.filter(e=>!!a||!e.onlyDisabled);return(0,m.jsx)(m.Fragment,{children:s.map((e,i)=>(0,m.jsx)("div",{children:(0,m.jsx)(rJ,{Icon:e.Icon,label:e.label,isMainElement:e.isMainElement,isDisabled:a&&!e.onlyDisabled})},i))})},r1=e=>{var i;let{responseTableSelectionOptions:a,isDisabled:s}=e,l=(0,h.useCallback)(e=>{let i=e.substring(0,4),a=e.substring(4,6),s=e.substring(6,8),l=e.substring(8,10),n=e.substring(10,12);return`${i}-${a}-${s} ${l}:${n}`},[]),n=(0,h.useMemo)(()=>a.options.map((e,i)=>({value:i,label:`${l(e.timestamp)} (${e.count} responses)`})),[a.options]);return(0,m.jsxs)("div",{className:sN()({"survey-status-switch-popup-footer-disabledSelect":s,"survey-status-switch-popup-footer-enabledSelect":!s}),children:[(0,m.jsx)(a1.A.Label,{htmlFor:"select",children:t("Import responses from a deactivated data set")}),(0,m.jsx)(sV.Ay,{classNames:{control:()=>"select"},placeholder:(0,lD.format)(t("Latest response table (%s responses)"),null==(i=a.options[0])?void 0:i.count),onChange:e=>{a.onChange(a.options[e.value])},options:n,components:{IndicatorSeparator:()=>null},theme:e=>({...e,colors:{...e.colors,primary:"#8146F6"}}),menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999}),dropdownIndicator:e=>({...e,color:"#6E748C",minWidth:"fit-content"}),control:e=>({...e,borderRadius:"4px",borderWidth:"2px",borderColor:" #6E748C",boxShadow:"none",fontWeight:400,fontSize:"0.9975rem","&:hover":{borderColor:" #6E748C"},backgroundColor:"white"}),option:e=>({...e,whiteSpace:"normal",wordWrap:"break-word"}),menu:e=>({...e,width:"100%",minWidth:"min-content",whiteSpace:"normal",wordWrap:"break-word"})},isClearable:!1,isDisabled:s})]})},r2=e=>{let{confirmButtonAction:i,confirmButtonActive:a,responseTableSelectionOptions:s,isResponsesTableSelectDisabled:l}=e,n=(0,h.useCallback)(()=>ip.close(),[]);return(0,m.jsxs)("div",{className:"survey-status-switch-popup-footer",children:[s&&(0,m.jsx)(r1,{isDisabled:l,responseTableSelectionOptions:s}),(0,m.jsxs)("div",{className:"survey-status-switch-popup-footer-right",children:[(0,m.jsx)(s5,{variant:"secondary",className:"survey-status-switch-popup-cancelBtn",onClick:n,children:t("Cancel")}),(0,m.jsx)(s5,{className:"survey-status-switch-popup-confirmBtn",disabled:!a,onClick:i,children:t("Continue")})]})]})},r3=e=>{let{title:i,getCards:a,onConfirm:s,responseTableSelectionOptions:l,surveyIsExpired:n=!1,navigateToPublication:r=()=>{}}=e,[o,d]=(0,h.useState)(null),u=a({selectedChoice:o,navigateToPublication:(0,h.useCallback)(()=>{r(),ip.close()},[r])}),c=(0,h.useCallback)(()=>{s&&o&&(s(o),ip.close())},[o,s]),p=(0,h.useCallback)(e=>e.choice===rW&&n,[n]);return(0,m.jsxs)("div",{className:"survey-status-switch-popup-container",children:[(0,m.jsx)(rX,{titleElement:i}),(0,m.jsx)("div",{className:"survey-status-switch-popup-content",children:u.map((e,i)=>(0,m.jsx)("div",{className:sN()("survey-status-switch-popup-card",{"survey-status-switch-popup-card--selected":o===e.choice,"survey-status-switch-popup-card--unselected":o!==e.choice,"cursor-pointer":!p(e)}),onClick:()=>{p(e)||d(e.choice)},children:(0,m.jsx)(r0,{elements:e.elements,isDisabled:p(e)})},i))}),(0,m.jsx)(r2,{isResponsesTableSelectDisabled:o!==rF,responseTableSelectionOptions:l,confirmButtonActive:null!==o,confirmButtonAction:c})]})},r6=e=>{let{surveyId:i,onConfirm:a,surveyIsExpired:s,navigateToPublication:l}=e,n=(0,h.useMemo)(()=>(0,m.jsxs)(m.Fragment,{children:[t("You want to stop your survey?")," ",(0,m.jsxs)("b",{children:["(",i,")"]})]}),[i]);return(0,m.jsx)(r3,{surveyId:i,title:n,getCards:r4,onConfirm:a,surveyIsExpired:s,navigateToPublication:l})},r4=e=>{let{selectedChoice:i,navigateToPublication:a}=e;return[{choice:rW,elements:[{Icon:i===rW?t2:t3,label:(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:t("Stop / pause survey")}),(0,m.jsx)("span",{className:"d-block",children:t("Stop your survey and still access your data for statistics")})]}),isMainElement:!0},{Icon:t5,label:(0,m.jsx)("div",{children:t("After the survey was stopped, modifications to questions and settings are very limited.")})},{Icon:t4,label:(0,m.jsx)("div",{children:t("Current responses and participant information will be kept and is still available for analysis.")})},{Icon:t7,label:(0,m.jsx)("div",{children:t("Cannot be accessed by participants anymore. Stops data collection and sets expiry date.")})},{Icon:t1,label:(0,m.jsx)("div",{children:t("This survey is already stopped.")}),onlyDisabled:!0},{label:(0,m.jsxs)("div",{className:"already-paused-alert yellow-left-mark",children:[(0,m.jsx)("div",{className:"already-paused-alert-icon",children:(0,m.jsx)(t0,{})}),(0,m.jsx)("p",{className:"label-m already-paused-alert-label",children:(0,rB.Ay)((0,lD.format)(t("Reopen the survey by changing or removing the expiration date in the %sPublication & access panel%s"),'<span class="green-link">',"</span>"),{replace:e=>{if("span"===e.name&&"green-link"===e.attribs.class)return(0,m.jsx)("span",{className:"green-link",onClick:a,children:e.children[0].data})}})})]}),onlyDisabled:!0}]},{choice:r$,elements:[{Icon:i===r$?t2:t3,label:(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:t("Deactivate survey")}),(0,m.jsx)("span",{className:"d-block",children:t("Adjust questions or modify the survey structure")})]}),isMainElement:!0},{Icon:t6,label:(0,m.jsx)("div",{children:t("Add, delete or edit questions and modify survey structure.")})},{Icon:t9,label:(0,m.jsx)("div",{children:t("Current responses and participant information are not available for analysis anymore.")})},{Icon:t7,label:(0,m.jsx)("div",{children:t("Cannot be accessed by participants anymore. Stops data collection.")})},{Icon:t8,label:(0,m.jsx)("div",{children:t("When reactivating you can import your archived responses and continue collecting responses.")})}]}]},r5=e=>{let{surveyId:i,onConfirm:a,responseTableSelectionOptions:s}=e,l=(0,h.useMemo)(()=>(0,m.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,lD.format)(t("What do you want to do with the %sexisting%s Responses?"),"<b>","</b>")}}),[]);return(0,m.jsx)(r3,{surveyId:i,title:l,getCards:r7,onConfirm:a,responseTableSelectionOptions:s})},r7=e=>{let{selectedChoice:i}=e;return[{choice:rF,elements:[{Icon:i===rF?t2:t3,label:(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:t("Keep existing responses")}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:t("Import archived responses in your new response table.")})]}),isMainElement:!0},{Icon:ie,label:(0,m.jsx)("div",{children:t("Import an existing responses table again and start from where you left off.")})},{Icon:it,label:(0,m.jsx)("div",{children:t("Questions and edits that were done in the meantime will be merged with your archived table as far as possible.")})}]},{choice:rz,elements:[{Icon:i===rz?t2:t3,label:(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:t("Start from scratch")}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:t("Keep them archived and create a new response table.")})]}),isMainElement:!0},{Icon:ii,label:(0,m.jsx)("div",{children:t("Start with a brand new responses table without importing an existing one.")})}]}]},r9=e=>{let{show:i=!1,onHide:a=()=>{},onConfirm:s,title:l=t("Confirm Action"),description:n=t("Are you sure you want to perform this action?"),...r}=e;return(0,m.jsxs)(s$.A,{...r,show:i,centered:!0,onHide:a,className:"w-fit confirm-modal",children:[(0,m.jsx)(s$.A.Header,{className:"border-none d-flex align-items-center gap-2 text-center",closeButton:!0}),(0,m.jsxs)(s$.A.Body,{children:[(0,m.jsx)("i",{className:"ri-close-large-line body-icon"}),(0,m.jsx)("h1",{className:"my-4",children:l}),(0,m.jsx)("h3",{children:n})]}),(0,m.jsxs)(s$.A.Footer,{className:"border-none d-flex justify-content-end text-center",children:[(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"secondary",onClick:a,children:t("Cancel")}),(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"danger",onClick:s,children:t("Confirm")})]})]})},r8=e=>{let{show:i=!1,onHide:a=()=>{},Component:s,componentClassname:l="",modalClassname:n="",headerClassname:r="",onConfirm:o=()=>{},useFooter:d=!1,...u}=e;return(0,m.jsxs)(s$.A,{className:`component-modal ${n}`,size:"lg",show:i,centered:!0,onHide:a,...u,children:[(0,m.jsx)(s$.A.Header,{className:`border-none d-flex align-items-center gap-2 text-center ${r}`,closeButton:!1,children:(0,m.jsx)(s5,{className:"modal-close-button p-0",variant:"link",onClick:a,"aria-label":"Close",children:(0,m.jsx)(tp,{className:"text-black fill-current"})})}),(0,m.jsx)("div",{className:l,children:s}),d&&(0,m.jsxs)(s$.A.Footer,{className:"border-none d-block text-end",children:[(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"secondary",onClick:a,children:t("Cancel")}),(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"primary",onClick:o,children:t("Confirm")})]})]})};var oe=a(56117);let ot=e=>(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:8,fill:"none",viewBox:"0 0 12 8",...e,children:(0,m.jsx)("path",{fill:"#6E748C",d:"M0 5.959 6.004.5l6.005 5.459L11 7.069 6.004 2.527 1.01 7.07z"})}),oi=e=>{let{language:i,handleLanguageChange:a=()=>{},label:s=t("Language")}=e,l=Object.keys(e8).map(e=>({value:e,label:e8[e].label}));return(0,m.jsx)(sY,{labelText:s,options:l,onChange:e=>{let{target:{value:i}}=e;a(i)},selectedOption:e8[i]||{}})},oa=e=>{let{onClick:i=()=>{},children:a,sectionRef:s,className:l="",testId:n=""}=e;return(0,m.jsx)("div",{onClick:i,className:`survey-section ${l}`,ref:s,"data-testid":n,children:a})},os=e=>{var i,a;let{update:s,numberOfQuestions:l,activeLanguage:n,survey:{sid:r,languageSettings:o,language:d,welcomeImage:u,showWelcome:c,showXQuestions:p,allowLanguageSwitch:g,showPrivacyPolicy:v,privacyPolicyCheckBox:x,privacyPolicyMessage:I,legalNoticeMessage:_,privacyPolicyLabelMessage:T,showLegalNotice:N,additionalLanguages:b,hasSurveyUpdatePermission:E},allLanguages:y}=e,[S,A]=(0,h.useState)(!1),{setFocused:f,focused:C={}}=dH(),{addToBuffer:O}=dF(),w=(0,h.useRef)(null),[M]=j(B);(0,h.useEffect)(()=>{A(!c)},[c]),(0,h.useEffect)(()=>{var e;(null==(e=C.info)?void 0:e.type)===lh().WELCOME_SCREEN.type&&V(w.current)},[null==(i=C.info)?void 0:i.type]);let L=y[n],D=(0,h.useMemo)(()=>""===b?[d]:[d,...b.split(" ")],[d,b]),R=e=>{let i={...o};i[n]={...i[n],...e},O(iJ(null).languageSetting().update({[n]:i[n]})),s({languageSettings:i})};if(!r)return(0,m.jsx)(m.Fragment,{});let P=(0,h.useMemo)(()=>q({prop:"welcomeText",language:n,l10ns:o}),[o]);return(0,m.jsx)(sx,{tip:ss().NO_PERMISSION,showTip:!E,placement:"left",children:(0,m.jsxs)(oa,{onClick:()=>{E&&f({info:lh().WELCOME_SCREEN})},testId:"survey-header-section",className:sN()("survey-header",{"inactive-section-header":!c,"cursor-not-allowed":!E}),children:[(0,m.jsx)("div",{id:"survey-header",className:"collapse-control d-flex justify-content-between mb-2",children:(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3 header",children:[(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"p-0 cursor-pointer",onClick:()=>A(!S),children:(0,m.jsx)(ot,{className:sN()("transition-all mb-1",{"rotate-180":S})})})}),(0,m.jsx)("div",{children:t("Welcome screen")})]})}),(0,m.jsx)(oe.A,{in:!S,children:(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:sN()("w-100 d-flex flex-column justify-content-between hover-element survey-header-container",{"w-50":u&&!S,disabled:!c,"focus-element":(null==C||null==(a=C.info)?void 0:a.theme)===lh().WELCOME_SCREEN.theme}),children:[(0,m.jsxs)("div",{"data-testid":"language-change-select",className:"language-change-header d-flex align-items-center gap-2",children:[(0,m.jsx)(ti,{}),st("Change language"),(0,m.jsx)(sx,{placement:"right",showTip:!0,tip:t("This is a preview dropdown for selectable languages"),children:(0,m.jsx)(sY,{value:n,options:D?D.map(e=>{var i,a;return{value:e,label:aU(null==L||null==(i=L[e])?void 0:i.nativedescription)+" - "+(null==L||null==(a=L[e])?void 0:a.description)}}):[]})})]}),(0,m.jsx)("div",{ref:w,children:(0,m.jsx)(sL,{value:P,id:"survey-header-welcome-title",className:"welcome-title",update:e=>R({welcomeText:e}),placeholder:t("Welcome title"),language:n,useRichTextEditor:!0,noPermissionDisabled:!0,showToolTip:!1,testId:"survey-header-welcome-title",showToolbar:!0,disabled:!1,surveyHeader:!0,attributeDescriptions:M})}),(0,m.jsx)(sL,{id:"survey-header-welcome-description",className:"welcome-description",value:q({prop:"description",language:n,l10ns:o,disabled:!E}),update:e=>R({description:e}),placeholder:t("Welcome description"),language:d,useRichTextEditor:!0,noPermissionDisabled:!0,showToolTip:!1,testId:"survey-header-welcome-description",showToolbar:!0,disabled:!1,surveyHeader:!0,attributeDescriptions:M}),(0,m.jsxs)("div",{className:sN()("ms-1 transition-all"),children:[p&&(0,m.jsx)("p",{className:"text-secondary mt-3 show-x-questions",children:(0,lD.format)(st("There are %s questions in this survey."),l)}),v&&(0,m.jsxs)("div",{className:"survey-privacy",children:[(0,m.jsx)("div",{className:"d-flex align-items-center ms-1",children:(0,m.jsx)(ni.A,{checked:x,label:T||t("Privacy policy"),type:"checkbox",name:"privacy-policy-checkbox","data-testid":"privacy-policy-checkbox",onChange:e=>s({privacyPolicyCheckBox:e.target.checked})})}),(0,m.jsx)("div",{className:"mt-3",children:(0,m.jsx)("h6",{children:(0,m.jsx)(sL,{value:I,update:e=>s({privacyPolicyMessage:e}),placeholder:t("Privacy policy message")})})}),g&&(0,m.jsx)("div",{className:"mt-4 ms-1",children:(0,m.jsx)(oi,{language:d,label:st("Survey language")})})]}),N&&(0,m.jsx)("div",{className:"d-flex ",children:(0,m.jsx)("a",{href:"/legalNotice",className:"text-success ms-auto",children:_})})]}),(0,m.jsxs)("div",{className:"start-survey-section mt-4 ms-1 d-flex align-items-center gap-3",children:[(0,m.jsx)(s5,{className:"start-button",children:st("Start survey")}),(0,m.jsx)("span",{className:"or-press-enter-text",children:(0,lD.format)(st("or press %s"),"↩")})]})]})})})]})})},ol=e=>{let{children:i,className:a,style:s}=e;return(0,m.jsx)("div",{className:sN()(a,"survey-card"),style:s,children:i})},on=e=>{var i,a,s,l,n,r;let{language:o,survey:{languageSettings:d,sid:u},update:c}=e,p=(0,h.useRef)(null),[g]=j(en),[v,x]=(0,h.useState)(!1),{focused:I={},setFocused:_}=dH(),{addToBuffer:T}=dF();if((0,h.useEffect)(()=>{var e;(null==(e=I.info)?void 0:e.type)===lh().END_SCREEN.type&&V(p.current)},[null==(i=I.info)?void 0:i.type]),!u)return(0,m.jsx)(m.Fragment,{});let N=null==(a=d[o])?void 0:a.urlDescription,b=null==(s=d.en)?void 0:s.urlDescription,E=null==(l=d[o])?void 0:l.url,y=null==(n=d.en)?void 0:n.url,S=N||b||st("Finish"),A=E||y||"";return(0,m.jsx)(sx,{tip:ss().NO_PERMISSION,showTip:!g,placement:"left",children:(0,m.jsxs)(oa,{onClick:()=>{g&&_({info:lh().END_SCREEN})},testId:"survey-footer-section",className:sN()("survey-footer",{"cursor-not-allowed":!g}),children:[(0,m.jsx)("div",{className:"collapse-control d-flex justify-content-between mb-2",children:(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3 header",children:[(0,m.jsx)("div",{children:(0,m.jsx)(s5,{variant:"link",className:"p-0",onClick:()=>x(!v),children:(0,m.jsx)(ot,{style:{cursor:"pointer"},className:sN()("transition-all mb-1",{"rotate-180":v})})})}),(0,m.jsx)("div",{children:t("End screen")})]})}),(0,m.jsx)(oe.A,{in:!v,children:(0,m.jsx)("div",{children:(0,m.jsx)(ol,{className:sN()("d-flex hover-element",{"focus-element":(null==(r=I.info)?void 0:r.type)===lh().END_SCREEN.type}),children:(0,m.jsxs)("div",{className:sN()("w-100 d-flex flex-column justify-content-between survey-footer-container py-4"),children:[(0,m.jsx)("div",{ref:p,id:"survey-footer-title",className:"title",children:(0,m.jsx)("h6",{children:(0,m.jsx)(sL,{value:q({prop:"endText",language:o,l10ns:d}),update:e=>{var i;let a;return i={endText:e},void((a={...d})[o]={...a[o],...i},T(iJ(null).languageSetting().update({[o]:a[o]})),c({languageSettings:a}))},placeholder:t("Enter your end message here."),style:{marginLeft:"-4px"},useRichTextEditor:!1,noPermissionDisabled:!0,showToolTip:!1,testId:"survey-footer-end-text-content-editor"})})}),(0,m.jsx)("div",{className:sN()("ms-1 transition-all",{"my-3":!v}),children:(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"mt-4 ms-1",children:(0,m.jsx)(s5,{className:"finish-button",testId:"survey-footer-finish-button",children:A?(0,m.jsx)("a",{href:A,children:S}):(0,m.jsx)(m.Fragment,{children:S})})})})})]})})})})]})})},or=e=>{let{toggleDarkOnOpen:i=!1,groupIndex:a=null,onClick:s=()=>{},id:l=null,className:n=""}=e,[r]=j(F,!1),[o]=j(en),[d,u]=j($,!1),[,c]=j(W,0),p=o?ss().ACTIVE_DISABLED:ss().NO_PERMISSION;return(0,m.jsx)("div",{className:sN()("add-question-container",n,{"cursor-not-allowed":!o}),id:l,children:(0,m.jsx)(sx,{placement:"bottom",tip:p,showTip:r||!o,children:(0,m.jsx)(sk.A,{disabled:r||!o,onClick:()=>{u(!d),c(a),s()},variant:d&&i?"dark":"primary",className:sN()("add-question-button d-flex align-items-center justify-content-center"),"data-testid":"add-question-button",children:d?(0,m.jsx)(tp,{className:"text-white fill-current"}):(0,m.jsx)(te,{fill:"white"})})})})},oo=e=>{let{questionGroup:i,duplicateGroup:a,deleteGroup:s,handleFocusGroup:l,setShowQuestions:n,showQuestions:r,handleUpdate:o,language:d,onErrors:u,questionsLength:c=0,isFocused:p}=e,[g,v]=(0,h.useState)(""),{addToBuffer:x}=dF(),I=(0,h.useMemo)(()=>p&&aV(i.gid),[p]);return(0,h.useEffect)(()=>{u(g)},[g,u]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:sN()("header d-flex justify-content-between mb-2",{"error-focus":g}),children:[(0,m.jsxs)("div",{className:sN()("title d-flex flex-grow-1 align-items-center gap-1"),id:`question-group-${i.gid}`,children:[(0,m.jsx)(sk.A,{variant:"outline","data-testid":"collapse-button-question-group",onClick:()=>n(!r),className:sN()("p-0 pb-1 transition-all",{"rotate-180 ":r}),children:(0,m.jsx)(ot,{style:{transform:"rotate(-180deg)"}})}),(0,m.jsx)(sL,{value:q({prop:"groupName",language:d,l10ns:i.l10ns}),update:e=>{let a;return a=iJ(i.gid).questionGroupL10n().update({[d]:{groupName:e}}),void(o({groupName:e}),x(a))},placeholder:t("Group title"),setErrors:v,testValidation:iA,onClick:l,className:"header",focus:I}),c>=0?(0,m.jsx)("span",{onClick:l,className:"questions-length ms-2",children:c}):(0,m.jsx)(m.Fragment,{})]}),(0,m.jsx)(rf,{deleteText:"Delete group",duplicateText:"Duplicate group",handleDelete:()=>{s()},handleDuplicate:()=>{a()},onClick:l,testId:"question-group-meatball-menu"})]})})},od=e=>{let{groupIndex:i}=e,[a]=j(F,!1);return(0,m.jsx)("div",{className:sN()("add-question","d-flex","justify-content-center","mt-4"),style:{color:a?"#63c792":"#14ae5c"},children:(0,m.jsx)(or,{groupIndex:i})})},ou=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=(0,h.useRef)(null),[a,s]=(0,h.useState)(!0),l=e||i;return(0,h.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:Array.from({length:11},(e,i)=>i/10),rootMargin:"1000px 0px 1000px 0px"});return l.current&&e.observe(l.current),()=>{l.current&&e.unobserve(l.current)}},[l]),[l,a]},oc=()=>({SOURCE:{QUESTION:"Question",PARTICIPANT_DATA:"Token"},TARGET:{ANSWER_OPTIONS:"Answer",CONSTANT:"Constant",ANSWER_OF_OTHER_QUESTION:"Question",REGEX:"RegExp",PARTICIPANT_DATA:"Token"}}),om=()=>({LESS_THAN:"<",LESS_THAN_OR_EQUAL:"<=",EQUAL:"==",NOT_EQUAL:"!=",GREATER_THAN_OR_EQUAL:">=",GREATER_THAN:">",REGEX:"RX"}),op=()=>({CONDITION:{CREATE:"insertCondition",UPDATE:"updateCondition",DELETE:"deleteCondition"},CONDITION_SCRIPT:{UPDATE:"conditionScript"},SCENARIO:{DELETE:"deleteScenario"}}),oh=oc(),og=om(),ov=()=>({qid:"",cqid:"",cfieldname:"",cquestions:"",method:"",value:null,answers:[],scenario:"",sourceType:oh.SOURCE.QUESTION,targetType:oh.TARGET.ANSWER_OPTIONS,isDeleted:!1,isUpdated:!1}),ox=(e,i,a)=>{if(!i)return!1;let s=a.scenarios.find(e=>e.scid===i.scid),l=null==s?void 0:s.conditions.find(i=>i.cid==e.cid);return!!l&&(l.qid!=e.qid||l.cqid!=e.cqid||l.cfieldname!==e.cfieldname||l.method!==e.method||l.value!==e.value||s.scid!=e.scenario)},oI=(e,i,a,s)=>{if(s()){let s=i.scid!==a;return e.some(e=>!e.cid||e.isUpdated||e.isDeleted||!e.isDeleted&&e.scenario!==i.scid)||s}return e.length>0&&!!e[0].cfieldname},o_=(e,i,a,s,l,n)=>{let r=[...e.questionGroups];r[a].questions[s]=i,l({questionGroups:r}),Array.isArray(null==i?void 0:i.scenarios)&&i.scenarios.length>0&&(n.scenarios=[...i.scenarios].sort((e,i)=>e.scid-i.scid))},oT=(e,i)=>""===e.trim()||"1"===e||i.relevance.trim()===e.trim(),oN={Question:"#SRCPREVQUEST",Token:"#SRCTOKENATTRS"},ob={Answer:"#CANSWERSTAB",Constant:"#CONST",Question:"#PREVQUESTIONS",Token:"#TOKENATTRS",RegExp:"#REGEXP"},oE=(e,i,a)=>{let s=op(),l=e.qid,n=Math.floor(1e6*Math.random()),r=`temp__${n}`,o=1,d=[];return i.forEach(e=>{e.value.toString().split(",").forEach(i=>{let l=((e,i)=>{let l={qid:e.qid,cqid:e.cqid,cfieldname:e.cfieldname,cquestions:e.cquestions,method:e.method??"==",value:i,scenario:a,action:e.cid?s.CONDITION.UPDATE:s.CONDITION.CREATE,editSourceTab:oN[e.sourceType],editTargetTab:ob[e.targetType],...e.cid?{cid:e.cid}:{}};switch(l.editSourceTab===oN.Token&&(l.csrctoken=l.cfieldname),l.action===s.CONDITION.CREATE&&(l.tempId=`${r}_${o++}`,l.cid=l.tempId,l.tempcids=[l.tempId]),l.editTargetTab){case ob.Answer:l.canswers=l.value.startsWith("[")?JSON.parse(l.value):[l.value];break;case ob.Constant:l.ConditionConst=l.value;break;case ob.Question:l.prevQuestionSGQA=l.value;break;case ob.RegExp:l.ConditionRegexp=l.value;break;case ob.Token:l.tokenAttr=l.value,l.prevQuestionSGQA=l.cfieldname}return l})(e,i),n=d.find(e=>e.scid==l.scenario);n||(n={scid:l.scenario,conditions:[]},d.push(n)),n.conditions.push(l)})}),d.length?{qid:l,scenarios:d}:null};var oy=a(64457),oS=a(67429),oA=a(33343);let of=e=>{let{question:i,onApply:a}=e,s=(null==i?void 0:i.relevance)==="1"?"":(null==i?void 0:i.relevance)||"",[l,n]=(0,h.useState)(oP(s)),[r,o]=(0,h.useState)(ok(l));return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Condition code")})}),(0,m.jsx)("p",{className:"condition-designer-overlay-message",children:t("Edit or copy large conditions")}),(0,m.jsx)("div",{className:"text-start condition-designer-overlay-textarea-container",children:(0,m.jsx)(sf,{id:"expression-script-editor",value:l,height:"50vh",width:"100%",className:"text-start expression-script-codemirror",onChange:e=>{o(ok(e)),n(e)},extensions:[oy.Lz.lineWrapping,oS.t.of(()=>null),(0,oA.yU)({override:[]}),(0,oS.Lv)({openText:"",closedText:""})]})}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>ip.close(),children:t("Cancel")}),(0,m.jsx)(s5,{variant:"primary",className:"condition-designer-overlay-primary-button",disabled:oT(r,i),onClick:()=>void((null==i?void 0:i.scenarios.length)>0?oR({onConfirm:()=>{ip.close(),a(r)}}):(ip.close(),a(r))),children:t("Apply")})]})]})},oj=e=>{let{onConfirmDelete:i}=e;return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Confirm")})}),(0,m.jsx)("p",{className:"condition-designer-overlay-message",children:t("Are you sure you want to delete all conditions for this question?")}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>ip.close(),children:t("Cancel")}),(0,m.jsx)(s5,{variant:"danger",className:"condition-designer-overlay-danger-button",onClick:()=>{ip.close(),i()},children:t("Delete")})]})]})},oC=e=>{let{scenarioId:i,onConfirmDelete:a}=e;return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Confirm")})}),(0,m.jsx)("p",{className:"condition-designer-overlay-message",children:(0,lD.format)(t("Are you sure you want to delete scenario %s for this question?"),i)}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>ip.close(),children:t("Cancel")}),(0,m.jsx)(s5,{variant:"danger",className:"condition-designer-overlay-danger-button",onClick:()=>{ip.close(),a()},children:t("Delete")})]})]})},oO=e=>{let{onIgnoreChanges:i,message:a=!1}=e,s=t("You are about to go back without saving your changes on this scenario. Do you want to proceed?");return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Unsaved changes")})}),(0,m.jsx)("p",{className:"condition-designer-overlay-message",children:a||s}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>{i(),ip.close()},children:t("Go back without saving")}),(0,m.jsx)(s5,{variant:"primary",className:"condition-designer-overlay-primary-button",onClick:()=>ip.close(),children:t("Continue editing")})]})]})},ow=e=>{let{onConfirmChanges:i,onCancelChanges:a=()=>{}}=e;return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Overwriting condition from condition builder")})}),(0,m.jsx)("p",{className:"condition-designer-overlay-message",children:t("Your condition will no longer be editable in the visual builder. Are you sure you want to apply these changes?")}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>{ip.close(),a()},children:t("Cancel")}),(0,m.jsx)(s5,{variant:"primary",className:"condition-designer-overlay-primary-button",onClick:()=>{ip.close(),i()},children:t("Save changes")})]})]})},oq=e=>{let{script:i,onConfirmChanges:a,onCancelChanges:s=()=>{}}=e;return(0,m.jsxs)("div",{className:"condition-designer-overlay",children:[(0,m.jsx)("div",{className:"condition-designer-overlay-title",children:(0,m.jsx)("p",{children:t("Overwriting condition from ExpressionScript")})}),(0,m.jsx)("div",{className:"condition-designer-overlay-message",children:t("The condition created inside the builder will replace your existing condition written in ExpressionScript mode. This action cannot be undone. Do you want to apply your changes?")}),(0,m.jsxs)("div",{className:"condition-designer-overlay-message mt-3",children:[(0,m.jsx)("p",{children:t("This script will be overwritten:")}),(0,m.jsx)("div",{className:"text-start condition-designer-overlay-textarea-container mt-1",children:(0,m.jsx)(sf,{id:"expression-script-editor",value:oP(i),height:"150px",width:"100%",className:"text-start expression-script-codemirror",extensions:[oy.Lz.editable.of(!1),oS.t.of(()=>null),(0,oA.yU)({override:[]}),(0,oS.Lv)({openText:"",closedText:""})]})})]}),(0,m.jsxs)("div",{className:"condition-designer-overlay-actions",children:[(0,m.jsx)(s5,{variant:"secondary",className:"condition-designer-overlay-secondary-button",onClick:()=>{ip.close(),s()},children:t("Cancel")}),(0,m.jsx)(s5,{variant:"primary",className:"condition-designer-overlay-primary-button",onClick:()=>{ip.close(),a()},children:t("Save changes")})]})]})},oM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t("Condition applied successfully");ix({message:e,position:"bottom-center",className:"generic-toast green-left-mark",leftIcon:(0,m.jsx)(tu,{className:"fill-current text-white rounded-circle bg-dark me-1"})})},oL=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom-right";e&&ix({message:e,position:i,className:"generic-toast yellow-left-mark",leftIcon:(0,m.jsx)(t0,{})})},oD=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ig({html:(0,m.jsx)(oO,{onIgnoreChanges:()=>{e()},message:i}),title:"",showCloseButton:!0,width:"807px"})},oR=e=>{let{onConfirm:i,onCancel:a=()=>{}}=e;ig({html:(0,m.jsx)(ow,{onConfirmChanges:i,onCancelChanges:a}),title:"",showCloseButton:!0,width:"807px"})},oP=e=>{let i=e.replace(/\s+/g," ").trim(),a=[],s=i.replace(/\b(?:regexMatch|is_empty)\s*\([^()]*\)/g,e=>{let i=`__FN_${a.length}__`;return a.push(e),i}).replace(RegExp("(\\()|(\\))|(?<![\"'])\\b(?:and|or)\\b(?![\"'])","g"),(e,i,a)=>i?"\n(\n":a?"\n)\n":`
${e}
`).split("\n").map(e=>e.trim()).filter(Boolean),l=[];for(let e=0;e<s.length;e++)if("("===s[e]){let i=e+1,a="",n=1;for(;i<s.length&&n>0;)"("===s[i]?n++:")"===s[i]&&n--,n>0&&(a+=s[i]+" "),i++;0===n&&a.trim().length<80?(l.push(`(${a.trim()})`),e=i-1):l.push(s[e])}else l.push(s[e]);let n=0;for(let e=0;e<l.length;e++){let i=l[e];")"===i&&n--,""!==i&&(l[e]="  ".repeat(Math.max(n,0))+i),"("===i&&n++}let r=l.join("\n");return a.forEach((e,i)=>{r=r.replace(`__FN_${i}__`,e)}),r},ok=e=>e.replace(/\s*\n+\s*/g," ").replace(/\s+/g," ").replace(RegExp("(?<![\"'])\\s*\\b(and|or)\\b\\s*(?![\"'])","g")," $1 ").replace(/\(\s+\(/g,"((").replace(/\)\s+\)/g,"))").replace(/\(\s+/g,"(").replace(/\s+\)/g,")").replace(/\)\s+\(/g,")(").replace(/\s+/g," ").trim(),oU=e=>{var i,a,s;let l,n,{handleUpdate:r,language:o,question:d,onError:u=()=>{},isFocused:c=!1,questionNumber:p,setIsTitleFocused:g}=e,{addToBuffer:v}=dF(),[x,I]=(0,h.useState)(""),{getError:_}=dB(),T=(0,h.useRef)(null),[N]=j(z),[b]=j(B),E=(0,h.useMemo)(()=>c&&aV(d.qid),[c]);(0,h.useEffect)(()=>{u(x)},[x,u]);let y=q({prop:"question",language:o,l10ns:d.l10ns}),S=q({prop:"help",language:o,l10ns:d.l10ns});return(0,m.jsx)("div",{"data-testid":"question-header",className:"question-header d-flex flex-row",children:(0,m.jsxs)("div",{className:"questoin-header-title-container d-flex flex-column",children:[(0,m.jsxs)("div",{className:"question-title d-flex align-items-center",children:[(0,m.jsxs)("div",{className:"question-number d-flex align-items-center",children:[(0,m.jsx)("div",{"data-testid":"question-number",children:p}),(0,m.jsx)(tr,{className:"text-primary fill-current"})]}),(0,m.jsx)("h2",{className:"title-default-heading","data-error":_(d.qid,iQ.questionL10n),children:(0,m.jsx)(sL,{testId:"question-content-editor",className:sN()(null==(a=d.attributes)||null==(i=a.cssclass)?void 0:i.value,{"error-focus":x},"question-title"),innerRef:T,placeholder:t("Your question here"),useRichTextEditor:!0,update:e=>{var i;let a;return i={question:e},d.l10ns[o]||(d.l10ns[o]={}),d.l10ns[o].question=i.question,a=iJ(d.qid).questionL10n().update({[o]:{question:i.question}}),void(r({question:d}),v(a))},value:y,testValidation:iC,setErrors:I,language:o,replaceVariables:!0,showToolbar:!0,noPermissionDisabled:!0,showToolTip:!1,focus:E,onFocus:()=>g(!0),onBlur:()=>g(!1),questionNumber:p,codeToQuestion:N,attributeDescriptions:b})}),(l=(null==d||null==(s=d.scenarios)?void 0:s.length)>0,n="string"==typeof(null==d?void 0:d.relevance)&&d.relevance.length>0&&"1"!==d.relevance,(l||n)&&(0,m.jsx)("span",{className:"ms-2 condition-badge",onClick:()=>{let e=setInterval(()=>{if(window.location.href.includes(`?question=${d.qid}`)){let i=document.querySelector("#condition-designer");i&&(i.scrollIntoView({behavior:"smooth",block:"start"}),clearInterval(e))}},100)},style:{cursor:"pointer"},children:"C"})),iq(d.mandatory)?(0,m.jsx)("span",{className:"ms-2",style:{fontSize:"24px"},children:"*"}):""]}),(0,m.jsx)("div",{className:sN()("question-description d-flex align-items-center"),children:(0,m.jsx)(sL,{className:"question-description-content-editor",testId:"question-help-description-content-editor",placeholder:t("Optional help description"),update:e=>{var i;let a;return i={help:e},d.l10ns[o]||(d.l10ns[o]={}),d.l10ns[o].help=i.help,a=iJ(d.qid).questionL10n().update({[o]:{help:i.help}}),void(r({question:d}),v(a))},value:S,noPermissionDisabled:!0,showToolTip:!1})})]})})},oH=e=>{let{question:i,handleUpdate:a,language:s,isFocused:l,isHovered:n,isQuestionDisabled:r,surveySettings:o,isTitleFocused:d=!1}=e,u=n8[i.questionThemeName],c=re[i.questionThemeName],[p]=j(en),h=l&&p,{children:g,handleChildAdd:v,handleChildDelete:x,handleOnChildDragEnd:I,handleChildL10nsUpdate:_,activeLanguage:T}=dZ({question:i,handleUpdate:a,surveySettings:o,language:s});return u?(0,m.jsx)("div",{className:sN()("question-body",{"disabled opacity-50":r}),children:l&&c?(0,m.jsx)(c,{handleUpdate:a,handleChildL10nsUpdate:_,handleChildAdd:v,handleChildDelete:x,handleOnChildDragEnd:I,question:i,language:T,isFocused:h,isHovered:n,surveySettings:o,_children:g,isTitleFocused:d,valueInfo:{value:[]}}):(0,m.jsx)(u,{handleUpdate:a,handleChildL10nsUpdate:_,handleChildAdd:v,handleChildDelete:x,handleOnChildDragEnd:I,question:i,language:T,isFocused:h,isHovered:n,surveySettings:o,_children:g,valueInfo:{value:[]}})}):(0,m.jsx)("div",{})},oG=e=>{let{question:i,handleRemove:a,handleDuplicate:s,isFocused:l=!1}=e,[n]=j(F,!1),{addToBuffer:r}=dF();return l?(0,m.jsxs)("div",{"data-testid":"question-footer",className:"question-footer align-items-center justify-content-end d-flex gap-3 text-end pt-3 pe-3",children:[(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:n,children:(0,m.jsx)("div",{style:{opacity:n&&.3,cursor:!n&&"pointer",pointerEvents:n&&"none"},"data-testid":"question-footer-copy-icon",onClick:s,children:(0,m.jsx)(th,{className:sN()("footer-icon ",{"active-icon fill-current":l,"d-none disabled":!l})})})}),(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:n,children:(0,m.jsx)("div",{style:{opacity:n&&.3,cursor:!n&&"pointer",pointerEvents:n&&"none"},onClick:()=>{ih({icon:"warning"}).then(e=>{let{isConfirmed:s}=e;s&&(r(iJ(i.qid).question().delete()),a())})},"data-testid":"question-footer-delete-icon",id:"question-footer-delete-icon",children:(0,m.jsx)(tg,{className:sN()("footer-icon ",{"active-icon fill-current":l,"opacity-0 disabled":!l})})})})]}):(0,m.jsx)(m.Fragment,{})},oV=e=>{let{questionImageObject:i,children:a,update:s,qid:l}=e,[n,r]=(0,h.useState)(!1),{addToBuffer:o}=dF(),d=i.hasQuestionImage,u=i.hasQuestionImageAsBackground,c=()=>{let e={image:{"":JSON.stringify(sX())}},i=iJ(l).questionAttribute().update(e);s(e),o(i)};return d?u?(0,m.jsx)("div",{className:"position-relative w-100 h-auto overflow-hidden p-0",children:(0,m.jsxs)("div",{className:"position-relative w-100",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[c&&(0,m.jsx)(s5,{onClick:c,variant:"light",className:`position-absolute bottom-0 end-0 m-4 z-2 ${n?"":"d-none"}`,children:(0,m.jsx)(tg,{className:"fill-current"})}),(0,m.jsx)("img",{className:"w-100 h-auto d-block",src:i.imagePreviewUrl,alt:i.imageAltText||"",style:i.imageStyles,"data-testid":"question-background-image"}),(0,m.jsx)("div",{className:"background-image-overlay position-absolute top-0 start-0 end-0 bottom-0 p-3 z-1",children:a})]})}):(0,m.jsxs)("div",{className:sN()("d-flex flex-row",{"flex-row-reverse":"right"===i.imageAlign}),children:[(0,m.jsx)("div",{className:sN()("image-container w-50",{"pe-3":"left"===i.imageAlign,"ps-3":"right"===i.imageAlign}),children:(0,m.jsxs)("div",{className:"position-relative overflow-hidden w-100",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[c&&(0,m.jsx)(s5,{onClick:c,variant:"light",className:`position-absolute bottom-0 end-0 m-4 z-2 ${n?"":"d-none"}`,children:(0,m.jsx)(tg,{className:"fill-current"})}),(0,m.jsx)("img",{className:"w-100 h-auto d-block",src:i.imagePreviewUrl,alt:i.imageAltText||"",style:i.imageStyles,"data-testid":"question-image"})]})}),(0,m.jsx)("div",{className:"w-50",children:a})]}):a},oY=e=>{let{language:i,question:{attributes:a={}},question:s,handleRemove:l,handleDuplicate:n,update:r,questionNumber:o,groupIndex:d,questionIndex:u,lastQuestionIndex:c,questionGroupIsOpen:p,handleSwapQuestionPosition:g,isTestMode:v=!1,surveySettings:x}=e,I=(0,h.useRef)(null),_=(0,h.useRef)(null),[,T]=ou(I),[N,b]=(0,h.useState)(0),{focused:E={},setFocused:y}=dH(),[S]=j(en),{getError:A}=dB(),[f,C]=(0,h.useState)(!1),O=(0,h.useMemo)(()=>sK(null==a?void 0:a.image),[null==a?void 0:a.image]),w=(0,h.useMemo)(()=>{let e=Object.values(lh()).map(e=>e.theme);return(db().includes(s.questionThemeName)||!e.includes(s.questionThemeName))&&!0},[s.questionThemeName]),[,q]=(0,h.useState)(!1);(0,h.useEffect)(()=>{f&&E.qid!==s.qid&&y(s,d,u)},[f]),(0,h.useEffect)(()=>{E.type===s.type&&s.title===E.title&&p&&V(I.current)},[E.qid,s.qid,s.sortOrder]);let M=e=>{y({...s,...e},d,u,!1),r({...s,...e})};if(!(null==s?void 0:s.qid))return(0,m.jsx)(m.Fragment,{});let L=(0,h.useMemo)(()=>E.qid===s.qid,[E.qid,s.qid]);return(0,h.useEffect)(()=>{T&&_.current&&b(_.current.clientHeight)},[]),(0,m.jsx)(sx,{tip:ss().NO_PERMISSION,showTip:!S,placement:"left",children:(0,m.jsxs)("div",{"data-error":A(s.qid,iQ.question),onClick:()=>{s.qid!==E.qid&&y(s,d,u)},id:`${s.qid}-question`,"data-testid":"question",className:sN()("question position-relative",aE(a.cssclass),{"focus-element":L,"hover-element":!L,"opacity-25":iq(aE(a.hide_question)),"cursor-not-allowed":!S,"p-0":O.hasQuestionImageAsBackground}),ref:I,children:[T?(0,m.jsx)(oV,{questionImageObject:O,update:e=>{M({attributes:{...s.attributes,...e}})},qid:s.qid,children:(0,m.jsxs)("div",{className:"w-100","data-testid":"question-container",ref:_,children:[(0,m.jsx)("div",{children:(0,m.jsx)(oU,{handleUpdate:M,language:i,question:s,questionNumber:o,onError:e=>q(e),isFocused:E.qid===s.qid,setIsTitleFocused:C})}),(0,m.jsx)("div",{className:"question-body-container",children:(0,m.jsx)(oH,{language:i,question:s,handleUpdate:M,questionNumber:o,isFocused:E.qid===s.qid,isQuestionDisabled:w,surveySettings:x,isTitleFocused:f})}),(0,m.jsx)("div",{children:S&&(0,m.jsx)("div",{children:(0,m.jsx)(oG,{question:s,isFocused:E.qid===s.qid,handleUpdate:M,handleRemove:l,handleDuplicate:n})})})]})}):(0,m.jsx)(lu,{height:N}),!v&&L&&(0,m.jsxs)("div",{className:"position-absolute question-scroll",children:[(0,m.jsx)("div",{children:(0,m.jsx)(sk.A,{variant:"secondary",onClick:()=>g(-1),size:"sm",disabled:0===u,className:"question-scroll-button","data-testid":"question-arrow-up-button",children:(0,m.jsx)(td,{className:"text-white fill-current"})})}),(0,m.jsx)("div",{className:"mt-1",children:(0,m.jsx)(sk.A,{onClick:()=>g(1),variant:"secondary",size:"sm",disabled:u===c,className:"question-scroll-button","data-testid":"question-arrow-down-button",children:(0,m.jsx)(tn,{className:"text-white fill-current"})})})]})]})})},oQ=e=>{let{language:i,questions:a=[],update:s,firstQuestionNumber:l,questionGroupIsOpen:n,groupIndex:r,questionGroup:o,surveySettings:d}=e,{setFocused:u,unFocus:c,questionIndex:p}=dH(),{addToBuffer:g}=dF(),v=l,x=function(e,i){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=l?e:e+1;s([...a.slice(0,e),i,...a.slice(n)])},I=e=>{let i=p+e;if(i<0||i>=a.length)return;let{reorderedQuestions:l,movedQuestion:n}=iM(a,p,i),d={[n.gid]:{sortOrder:r+1,questions:aL(l)}};g(iJ().questionGroupReorder().update(d)),o.questions=l,s(l),u(n,r,i)};return(0,m.jsx)(m.Fragment,{children:a.map((e,l)=>(0,m.jsxs)(h.Fragment,{children:[(0,m.jsx)(oY,{language:i,question:e,update:e=>x(l,e),handleRemove:()=>(e=>{let i;c();let[l]=iT(a,e);s((i=1,l.forEach(e=>{e.sortOrder=i,++i}),l))})(l),handleDuplicate:()=>{((e,i)=>{let s=i+1,l=ib(e),n=aZ(a,l,s,"sortOrder");g(iJ(l.qid).question().create({question:{...l,tempId:l.qid},questionL10n:{...l.l10ns},attributes:{...l.attributes||{}},answers:{...l.answers||[]},subquestions:{...l.subquestions||[]}}));for(let e=s+1;e<n.length;e++){let i=n[e];g(iJ(i.qid).question().update({sortOrder:i.sortOrder}))}x(s,l,!0),u(n[s],r,s)})(e,l)},questionNumber:++v,groupIndex:r,questionIndex:l,lastQuestionIndex:a.length-1,questionGroupIsOpen:n,handleSwapQuestionPosition:I,surveySettings:d}),l!==a.length-1?(0,m.jsx)("hr",{className:"my-0"}):""]},`question-${e.title}-${l}-${e.gid}`))})},oB=e=>{var i,a,s,l;let{language:n,surveySettings:r={},valueInfo:o,onSave:d,onCancel:u,disableUpdatingResponses:c}=e,[p]=j(eI,!1),[g]=j(ex,!1),{question:v,questionNumber:x}=o,[I,_]=(0,h.useState)(iI(1,0x2540be3ff));return g||p?(0,m.jsx)("div",{id:`${v.qid}-question`,className:sN()("question-preview question position-relative",aE(null==v||null==(i=v.attributes)?void 0:i.cssclass),{"opacity-25":iq(aE(null==v||null==(a=v.attributes)?void 0:a.hide_question))}),children:(0,m.jsxs)("div",{className:sN()("w-100",{"w-50":null==v||null==(l=v.attributes)||null==(s=l.image)?void 0:s.preview}),"data-testid":"question-container",children:[(0,m.jsx)("div",{children:(0,m.jsx)(oF,{language:n,question:v,questionNumber:x})}),(0,m.jsx)("div",{className:"question-body-container",children:(0,m.jsx)(oz,{surveySettings:r,language:n,question:v,valueInfo:o,onSave:d,onCancel:()=>{_(iI(1,0x2540be3ff)),u()},disableUpdatingResponses:void 0!==c?c:!p})})]})},`question-preview-${I}`):(0,m.jsx)("div",{className:"question-preview question position-relative",children:(0,m.jsx)("div",{className:"alert alert-warning",children:t("You don't have permission to view this response.")})})},oF=e=>{var i;let{language:a,question:s,questionNumber:l}=e,n=q({prop:"question",language:a,l10ns:s.l10ns}),r=q({prop:"help",language:a,l10ns:s.l10ns});return(0,m.jsx)("div",{"data-testid":"question-header",className:"question-header d-flex flex-row",children:(0,m.jsxs)("div",{className:"questoin-header-title-container d-flex flex-column",children:[(0,m.jsxs)("div",{className:"question-title d-flex align-items-center",children:[(0,m.jsxs)("div",{className:"question-number d-flex align-items-center",children:[(0,m.jsx)("div",{"data-testid":"question-number",children:l}),(0,m.jsx)(tr,{className:"text-primary fill-current"})]}),(0,m.jsx)("h2",{className:"title-default-heading content-editor",children:(0,m.jsx)(sq(),{disabled:!0,html:null==n?void 0:n.toString(),placeholder:t("Your question here")})}),(null==(i=s.scenarios)?void 0:i.length)>0&&(0,m.jsx)("span",{className:"ms-2 condition-badge",children:"C"}),iq(s.mandatory)?(0,m.jsx)("span",{className:"ms-2",style:{fontSize:"24px"},children:"*"}):""]}),(0,m.jsx)("div",{className:sN()("question-description d-flex align-items-center"),children:(0,m.jsx)(sq(),{className:"content-editor question-description-content-editor",disabled:!0,html:null==r?void 0:r.toString(),placeholder:t("Optional help description")})})]})})},oz=e=>{let{question:i,language:a,isHovered:s,isQuestionDisabled:l,surveySettings:n,valueInfo:r={},onSave:o=()=>{},onCancel:d=()=>{},disableUpdatingResponses:u}=e,[c,p]=(0,h.useState)([]),[g,v]=(0,h.useState)(!1),[x,I]=(0,h.useState)({}),_=(0,h.useRef)(0),T=(0,h.useMemo)(()=>rs[i.questionThemeName],[i.questionThemeName]),N=(0,h.useMemo)(()=>lg.includes(i.questionThemeName),[i.questionThemeName]);return T?((0,h.useEffect)(()=>{p(N?i.answers:i.subquestions)},[i.answers,i.subquestions,a]),(0,m.jsxs)("div",{className:sN()("question-body",{"disabled opacity-50":l}),children:[(0,m.jsx)(T,{question:i,language:a,isHovered:s,surveySettings:n,_children:c,values:r.values,participantMode:!0,onValueChange:(e,i)=>{if(u){let e=Date.now();e-_.current>3e3&&(_.current=e,ix({message:t("You don't have permission to update this response."),position:"bottom-center",className:"generic-toast",duration:3e3}));return}I({...x,[i]:e}),v(!0)}}),(0,m.jsxs)("div",{className:sN()("d-flex justify-content-end gap-2 mt-3",{"opacity-0 disabled pointer-events-none":!g}),children:[(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"secondary",onClick:d,children:t("Cancel")}),(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"danger",onClick:()=>{u||(v(!1),o(x),ix({message:t("Responses updated!"),position:"bottom-center",className:"success-toast"}))},children:t("Confirm")})]})]})):(0,m.jsx)("h6",{className:"pb-5",children:t("This question type isn't supported in the Limesurvey Editor, so the detail view can't be shown. Your response is still collected.")})},o$=e=>{let{showQuestions:i,setFocused:a,focused:s,questionGroup:l,questionIndex:n,handleUpdateQuestions:r,language:o,firstQuestionNumber:d,groupIndex:u,surveySettings:c}=e;return(0,m.jsx)(oe.A,{in:i,unmountOnExit:!0,onEntered:()=>{n&&a(s,l,n)},children:(0,m.jsx)("div",{className:"question-group-body",children:(0,m.jsx)(oQ,{language:o,questions:l.questions,update:r,firstQuestionNumber:d,questionGroupIsOpen:i,groupIndex:u,questionGroup:l,surveySettings:c})})})},oW=e=>{var i,a;let{language:s="en",questionGroup:l={},groupIndex:n,update:r=()=>{},duplicateGroup:o=()=>{},deleteGroup:d=()=>{},firstQuestionNumber:u,surveySettings:c}=e,[p,g]=(0,h.useState)(!0),[,v]=(0,h.useState)(!1),[x,I]=(0,h.useState)(!1),[_,T]=(0,h.useState)(""),N=(0,h.useRef)(null),{focused:b={},setFocused:E,questionIndex:y}=dH();(0,h.useEffect)(()=>{let e=b.gid===l.gid,i=b.qid;e&&i&&g(!0),e&&!i&&(I(!0),setTimeout(()=>{I(!1)},1e3))},[b,l.gid]),(0,h.useEffect)(()=>{let e=b.gid===l.gid,i=void 0===y;e&&i&&V(N.current)},[b,l.gid,y]);let S=e=>{r({...l,...e})},A=e=>{let i={...l.l10ns};i[s]={...i[s],...e},S({l10ns:i})},f=()=>{(b.gid!==l.gid||b.qid)&&E(l,n)},j=(0,h.useMemo)(()=>b.gid===l.gid&&!y,[l.gid]);return(0,m.jsxs)(oa,{testId:"question-group",className:sN()("question-group",{"focus-element":x&&!_&&(null==(i=l.questions)?void 0:i.length)}),children:[(0,m.jsx)(oo,{deleteGroup:d,duplicateGroup:o,groupIndex:n,handleUpdate:e=>A(e),language:s,questionGroup:l,questionsLength:null==(a=l.questions)?void 0:a.length,handleFocusGroup:f,setShowQuestions:g,showQuestions:p,onErrors:T,isFocused:j}),(0,m.jsx)(ol,{className:"question-group-editor-area",children:(0,m.jsx)(o$,{firstQuestionNumber:u,focused:b,setFocused:E,handleUpdateQuestions:e=>{I(!1),S({questions:e})},handleFocusGroup:f,language:s,questionGroup:l,questionIndex:y,setFocusDescription:v,showQuestions:p,handleUpdate:e=>A(e),groupIndex:n,surveySettings:c})}),(0,m.jsx)(od,{groupIndex:n})]})},oZ=e=>{let{language:i,questionGroups:a=[],update:s,surveySettings:l}=e,{focused:n={},setFocused:r,unFocus:o}=dH(),{addToBuffer:d}=dF(),u=(0,h.useMemo)(()=>[...Array(a.length)].map(()=>`Q${iI()}`),[a.length]),c=0;return(0,m.jsx)("div",{children:a.map((e,p)=>(c+=e.questions.length,(0,m.jsx)("div",{children:(0,m.jsx)(oW,{language:i,questionGroup:e,addQuestionGroup:e=>{let i;return i=p+1,void(s([...a.slice(0,i),e,...a.slice(i)].map((e,i)=>(e.sortOrder=i+1,e))),r(e,i))},update:e=>{s([...a.slice(0,p),e,...a.slice(p+1)])},duplicateGroup:()=>{let i,l;return l=aZ(a,i=iN(e),p+1,"sortOrder"),void(d(iJ(i.gid).questionGroup().create({questionGroup:{...i,tempId:i.gid},questionGroupL10n:i.l10ns})),i.questions.map(e=>{let i=ib(e);d(iJ(i.qid).question().create({question:{...i,tempId:i.qid},questionL10n:{...i.l10ns},attributes:{...i.attributes||{}},answers:{...i.answers||[]},subquestions:{...i.subquestions||[]}}))}),d(iJ().questionGroupReorder().update(aD(l))),s(l),r(i,p+1))},groupIndex:p,deleteGroup:()=>{ih({icon:"warning"}).then(e=>{let{isConfirmed:i}=e;if(!i)return;let l=[...a];l.splice(p,1),s(l),d(iJ(a[p].gid).questionGroup().delete()),n.qid||n.gid!==a[p].gid||o()})},firstQuestionNumber:c-e.questions.length,surveySettings:l})},`questionGroup-${u[p]}`)))})},oK=e=>{let{questionGroups:i,language:a,update:s,surveySettings:l}=e;return(0,m.jsx)(m.Fragment,{children:(null==i?void 0:i.length)?(0,m.jsx)(oZ,{language:a,questionGroups:i,update:e=>s({questionGroups:e}),surveySettings:l}):(0,m.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:(0,m.jsx)("div",{className:"add-question d-flex justify-content-center mt-4",children:(0,m.jsx)(or,{})})})})},oX=e=>{var i;let{survey:a,allLanguages:s}=e,[l,n]=j(ep,a.language),r=(0,h.useMemo)(()=>[a.language,...a.additionalLanguages.split(" ")],[a.language,a.additionalLanguages]);return(null==(i=a.additionalLanguages)?void 0:i.trim().length)!==0&&(0,m.jsxs)("div",{className:"language-dropdown-section d-flex mt-2",children:[(0,m.jsx)(sY,{onChange:e=>{let{value:i}=e;n(i)},value:l,options:r?r.map(e=>{var i;return{value:e,label:aU(null==s||null==(i=s[e])?void 0:i.description)}}):[],className:"language-box",placeholder:""}),(0,m.jsx)(tU,{className:"text-black fill-current",bgcolor:"#f9f9fb"})]})},oJ=e=>{var i;let{id:a}=e,[s]=j(ep),[l]=j(J),[n]=j(el,0),{survey:r={},update:o}=dV(a),[d]=j(ec),u=(0,h.useMemo)(()=>({showNoAnswer:r.showNoAnswer,languages:r.languages}),[r.showNoAnswer]);return(0,m.jsxs)(n_.A,{className:sN()("d-flex","mx-4","flex-column","justify-content-center","survey"),id:"survey-col",children:[(null==(i=r.additionalLanguages)?void 0:i.trim().length)!==0&&(0,m.jsx)(oX,{survey:r,allLanguages:d[l.lang]}),(0,m.jsx)(os,{update:e=>o(e),numberOfQuestions:n,activeLanguage:s,survey:r,allLanguages:d}),(0,m.jsx)(oK,{language:s,update:o,questionGroups:r.questionGroups,surveyId:r.sid,surveySettings:u}),(0,m.jsx)(on,{language:s,survey:r,update:e=>o(e)})]})};var o0=a(46612);let o1=e=>{let{backProps:i,index:a,size:s,primaryProps:l,step:n,tooltipProps:r}=e;return(0,m.jsxs)("div",{className:"tutorial-tooltip",...r,children:[(0,m.jsxs)("div",{className:"content-container",children:[(0,m.jsx)("div",{className:"semi18",children:n.title}),(0,m.jsx)("div",{className:"reg14",children:n.content})]}),(0,m.jsxs)("div",{className:"d-flex w-100 gap-3 justify-content-between align-items-center",children:[(0,m.jsx)(s5,{disabled:a<1,className:"p-0 border-none mt-1",variant:"none",...i,children:(0,m.jsx)("i",{className:"ri-arrow-left-line"})}),(0,m.jsx)("div",{className:"progress-bar-container",children:(0,m.jsx)("div",{style:{width:`${a/s*100}%`},className:"progress-bar"})}),(0,m.jsx)(s5,{className:sN()("p-0 mt-1 med12",{"border-none":a<s-1,"end-tour":a===s-1}),...l,variant:"none",disabled:n.disableNextButton,children:a<s-1?(0,m.jsx)("i",{className:"ri-arrow-right-line"}):"End tour"})]})]})},o2=e=>{let{onHighlightAreaClick:i=()=>{},onNextStep:a=()=>{},onPreviousStep:s=()=>{},onStepChange:l=()=>{},onTutorialFinish:n=()=>{},onTutorialSkip:r=()=>{},tutorialState:o,setTutorialState:d}=e,{run:u,steps:c,stepIndex:p}=o,g=async e=>{var i,r,o;let{action:m,index:h,type:g,status:v}=e,x=[o0.XQ.FINISHED,o0.XQ.SKIPPED],I=h+(m===o0.kl.PREV?-1:1);x.includes(v)&&(d({steps:c,stepIndex:p,run:!1}),n()),g===o0.qY.STEP_AFTER&&m===o0.kl.NEXT?("function"==typeof(null==(i=e.step)?void 0:i.beforeNextStep)&&await e.step.beforeNextStep(e),d({run:u,steps:c,stepIndex:I}),a(e),l(e),"function"==typeof(null==(r=e.step)?void 0:r.onNextStep)&&e.step.onNextStep(e)):g===o0.qY.STEP_AFTER&&m===o0.kl.PREV&&(d({run:u,steps:c,stepIndex:I}),s(e),l(e),"function"==typeof(null==(o=e.step)?void 0:o.onPreviousStep)&&e.step.onPreviousStep(e))};return((0,h.useEffect)(()=>{let e,a=c[p];if(document.body.classList.remove("no-scroll"),!a)return;let s=null,l=async s=>{i(a,e,d,s),"function"==typeof a.onHighlightAreaClick&&await a.onHighlightAreaClick(a,e,d,s)},n=new MutationObserver(async()=>{if(e=document.querySelector(a.target))return e.addEventListener("click",l),n.disconnect(),(s=document.querySelector(a.highlight))&&s.classList.add("highlight"),()=>{e.removeEventListener("click",l)}});return n.observe(document.body,{childList:!0,subtree:!0}),()=>{s&&s.classList.remove("highlight"),"function"==typeof(null==e?void 0:e.removeEventListener)&&(null==e||e.removeEventListener("click",l)),n.disconnect(),document.body.classList.remove("no-scroll")}},[p,u]),u)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o0.Ay,{callback:g,continuous:!0,run:!0===u,showProgress:!0,showSkipButton:!0,steps:c,spotlightClicks:!0,disableOverlayClose:!0,disableCloseOnEsc:!0,stepIndex:p,tooltipComponent:o1,styles:{options:{zIndex:1e4}}}),(0,m.jsxs)("div",{onClick:()=>{d({...o,run:!1}),r()},className:"cursor-pointer tutorial-skip-button med12",children:[(0,m.jsx)("div",{children:t("Close interactive help")}),(0,m.jsx)("div",{className:"x-button-container",children:(0,m.jsx)("i",{className:"ri-close-fill"})})]})]}):null},o3=(0,h.forwardRef)((e,i)=>{let{showOverViewModal:a,setShowOverViewModal:s}=e,{surveyId:l}=(0,_.g)(),{survey:n={},update:r}=dV(l),{surveyArchives:o,fetchSurveyArchives:d}=dY(l),{setFocused:u}=dH(),{operationsBuffer:c,addToBuffer:p}=dF(),g=(0,_.Zp)(),{subscribeToOperationFinish:v}=dG(),[x]=j(ep),[I]=j(el),[T,N]=(0,h.useState)(!1),[b]=j(en),[E,y]=j(F,!1),[,S]=j(em,!1),A=(0,h.useRef)(null),f=(0,h.useMemo)(()=>o.length>0,[o]),C=(0,h.useMemo)(()=>({options:o||[],onChange:e=>{A.current=e}}),[o]),O=(e,i)=>{let a=e===rW,s=i||a;S(!0),v({entity:iQ.surveyStatus,operation:iX.update,callback:i=>q(s,e,i)});let l={anonymized:!1},r=!1;switch(e){case r$:l.deactivate=!0;break;case rW:l.expire=!0;break;case rz:l.activate=!0;break;case rF:l.activate=!0,r=!0}if(p(iJ(n.sid).surveyStatus().update(l)),r){let e=A.current?A.current.timestamp:o[0].timestamp;p(iJ(n.sid).importResponses().update({preserveIDs:!1,timestamp:+e}))}},w=()=>{let e=!E,i=aB(n.expires);if(s(!1),(()=>{let e=(e=>{let i={},a=e.questionGroups||[];i.gid={...iw(a,"groupName","gid",e.language,iA)};for(let s=0;s<a.length;s++){let l=iw(a[s].questions||[],"question","qid",e.language,iC,s);i.qid={...i.qid,...l}}return i})(n),i=Object.keys((null==e?void 0:e.gid)?null==e?void 0:e.gid:{}),a=Object.keys((null==e?void 0:e.qid)?null==e?void 0:e.qid:{});if(i.length){let a=e.gid[i[0]];u({...n.questionGroups[a.groupIndex]},a.groupIndex)}if(a.length){let i=e.qid[a[0]];u({...n.questionGroups[i.groupIndex].questions[i.questionIndex]},i.groupIndex,i.questionIndex)}return a.length||i.length})())return void iv("Invalid survey questions. Please resolve the errors and try again.");if(e&&!f){N(!0),O(rz,e);return}let a={surveyId:n.sid,responseTableSelectionOptions:C,surveyIsExpired:i,onConfirm:i=>O(i,e),navigateToPublication:()=>g(rZ(n.sid))},l=e?(e=>{let{surveyId:i,onConfirm:a,responseTableSelectionOptions:s}=e;return{html:(0,m.jsx)(r5,{surveyId:i,onConfirm:a,responseTableSelectionOptions:s})}})(a):(e=>{let{surveyId:i,onConfirm:a,surveyIsExpired:s,navigateToPublication:l}=e;return{html:(0,m.jsx)(r6,{surveyId:i,onConfirm:a,surveyIsExpired:s,navigateToPublication:l})}})(a);A.current=null,ig(l)},q=async(e,i,a)=>{S(!1),y(e);let l={active:e};((null==a?void 0:a.expire)&&(l.expires=a.expire),r(l),i===rW)?ix(rK(n.sid,g)):e?s(!0):ix({message:t("Your survey has been deactivated"),position:"bottom-center",className:"success-toast",leftIcon:(0,m.jsx)(tu,{className:"fill-current text-success rounded-circle bg-dark me-1"})})};return(0,h.useEffect)(()=>{d(n.sid)},[n.sid,E]),(0,h.useImperativeHandle)(i,()=>({togglePublish:w})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r8,{show:a,onHide:()=>{s(!1),N(!1)},modalClassname:"w-100",headerClassname:"position-absolute end-0",Component:(0,m.jsx)(rQ,{survey:n,update:r,hasOperations:!c.isEmpty(),hasSurveyUpdatePermission:b,numberOfQuestions:I,setShowSharingPanel:()=>{s(!1),g(`/survey/${l}/${rq().sharing.panel}/${eP}`)},setShowOverViewModal:s,editSurvey:()=>{s(!1),g(`/survey/${l}`)},togglePublish:w,toastMessage:T&&E&&"\uD83C\uDF89 "+t("Congrats! Your survey has been activated."),activeLanguage:x,createBufferOperation:iJ,addToBuffer:p})})})});o3.displayName="SurveyActivationHandler";let o6=a.p+"static/image/logo-icon-black.815c3c70.png",o4=e=>{var i;let{surveyId:a,surveyList:s,activeLanguage:l,surveyTitleIsFocused:n,surveyTitleWidth:r,titleRef:o,titleSelectOffset:d,handleSurveySwitch:u}=e;return(0,m.jsx)(a1.A.Select,{"aria-label":"Default select example",onChange:u,value:a,className:sN()("form-select-top-bar",{"d-none":n}),style:{width:r+d,height:null==(i=o.current)?void 0:i.offsetHeight},children:s.map(e=>{let i=q({prop:"title",language:l,l10ns:e.languageSettings});return i=i||q({prop:"title",language:e.language,l10ns:e.languageSettings}),(0,m.jsx)("option",{value:e.sid,children:iO(i)},e.sid)})})},o5=e=>{let{surveyId:i,survey:a,surveyList:s,activeLanguage:l,onSurveyTitleChange:n,handleSurveySwitch:r,getError:o}=e,[d,u]=(0,h.useState)(!1),c=(0,h.useRef)(null),p=q({prop:"title",language:l,l10ns:a.languageSettings}),g=(0,h.useMemo)(()=>c.current?c.current.offsetWidth:0,[p,c.current]),v=(0,h.useCallback)(e=>()=>{u(e)},[]);return(0,m.jsx)("div",{"data-error":o(a.sid,iQ.languageSetting),className:"d-flex align-items-center text-align-center top-bar-select align-middle",id:"top-bar-select",children:(0,m.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,m.jsx)(sL,{value:p,placeholder:t("Survey title"),update:n,editorRef:c,className:"survey-title-content-editor",onBlur:v(!1),onFocus:v(!0),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},noPermissionDisabled:!0,toolTipPlacement:"bottom",testId:"topbar-survey-title-content-editor"}),(0,m.jsx)(o4,{surveyId:i,surveyList:s,activeLanguage:l,surveyTitleIsFocused:d,surveyTitleWidth:g,titleRef:c,titleSelectOffset:40,handleSurveySwitch:r})]})})},o7=e=>{let{operationsLength:i=0,triggerPublish:a,className:s=""}=e,{surveyId:l}=(0,_.g)(),{surveyArchives:n}=dY(l),[r]=j(em,!1),[o]=j(el),[d]=j(F,!1),[u]=j(en),c=(0,h.useMemo)(()=>n.length>0,[n]),p=d?t("Deactivate"):c?t("Reactivate"):t("Activate");return(0,m.jsx)("span",{"data-testid":"publish-settings",children:(0,m.jsx)(sx,{placement:"bottom",showTip:!0,tip:d?t("When deactivated, responses will be archived. You will then be able to add or delete questions, question groups, and settings again."):0===o?t("You must have at least one question."):i?t("Waiting for changes to be saved..."):u?c?t("When reactivated, you will not be able to add or delete questions, question groups, or sub-questions. However, you can still edit text."):t("When activated, you will not be able to add or delete questions, question groups, or sub-questions. However, you can still edit text."):ss().NO_PERMISSION,children:(0,m.jsx)(s5,{variant:d?"danger":"success",className:sN()("publish-button align-items-center d-flex ml-auto me-2",s),onClick:()=>a(),disabled:r||i||0===o||!u,id:"activate-survey-button",children:r?(0,m.jsx)("div",{style:{width:24,height:24},className:"loader"}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"d-flex align-items-center",style:{width:"20px"},children:d?(0,m.jsx)(tw,{className:"fill-current text-white me-1"}):(0,m.jsx)(tu,{className:"fill-current text-white me-1"})}),(0,m.jsx)("p",{className:"m-0 text-white",children:p})]})})})})},o9=e=>{let{className:i="",survey:a,operationsLength:s=0,triggerPublish:l,showShareActionButton:n,showExportResponsesButton:r,showExportStatisticsButton:o,showPublishSettings:d=!0}=e,[u]=j(F,!1);return n?(0,m.jsx)(sx,{placement:"bottom",showTip:!u,tip:ss().SURVEY_NOT_ACTIVE_NO_RESULTS,children:(0,m.jsx)(s5,{variant:"success",className:i,href:"#/responses/"+a.sid,rel:"noreferrer",disabled:!u,children:(0,m.jsx)("span",{className:"m-0 text-white",children:t("Results")})})}):r?(0,m.jsx)(s5,{variant:"success",className:"text-white me-2",href:aH("/admin/export/sa/exportresults/surveyid/"+a.sid),target:"_blank",rel:"noreferrer",children:t("Export results")}):o?(0,m.jsx)(s5,{variant:"success",className:"text-white me-2",href:aH("/admin/statistics/sa/index/surveyid/"+a.sid),target:"_blank",rel:"noreferrer",children:t("Export statistics")}):d?(0,m.jsx)(o7,{className:i,survey:a,operationsLength:s,triggerPublish:l}):void 0},o8=e=>{let{surveyID:i}=e,[,a]=j($,!1),[s]=j(z,{}),[l,n]=j(W,null),{survey:r,update:o,language:d}=dV(i),{addToBuffer:u}=dF(),{setFocused:c,groupIndex:p}=dH(),h=l?null==r?void 0:r.questionGroups[l]:p?null==r?void 0:r.questionGroups[p]:null==r?void 0:r.questionGroups[0];return(0,m.jsx)("div",{"data-testid":"topbar-question-inserter",id:"topbar-question-inserter",className:"mt-4 question-type-selector-container topbar-question-inserter",children:(0,m.jsx)(nN,{disableAddingQuestions:!h,callBack:e=>{var m,g,v;let x,I,_,T,N=`temp__${iI()}`,b=e.questionThemeName;if(!h&&e.type!==lh().QUESTION_GROUP.type||!e.type)return;if(e.type===lh().QUESTION_GROUP.type){let e,s,l;return void(m={gid:"temp__"+iI(),sid:i,type:lh().QUESTION_GROUP.type,theme:lh().QUESTION_GROUP.theme,l10ns:{[d]:{groupName:"",description:""}},questions:[]},!r.questionGroups&&(r.questionGroups=[]),e=g?g+1:r.questionGroups.length,s=[...r.questionGroups.slice(0,e),m,...r.questionGroups.slice(e)].map((e,i)=>(e.sortOrder=i+1,e)),r.questionGroups=s,l=iJ(m.gid).questionGroup().create({questionGroup:{...m,sortOrder:1,gRelevance:"",sid:i,tempId:m.gid},questionGroupL10n:m.l10ns}),o({...r}),u(l),c(m,e),a(!1))}let E=[lh().SINGLE_CHOICE_LIST_RADIO.theme,lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme,lh().SINGLE_CHOICE_BUTTONS.theme,lh().SINGLE_CHOICE_DROPDOWN.theme,lh().SINGLE_CHOICE_IMAGE_SELECT.theme,lh().ARRAY.theme,lh().ARRAY_DUAL_SCALE.theme,lh().ARRAY_COLUMN.theme,lh().RANKING.theme,lh().RANKING_ADVANCED.theme],y=[lh().ARRAY_TEXT.theme,lh().ARRAY.theme,lh().ARRAY_NUMBERS.theme,lh().ARRAY_COLUMN.theme,lh().ARRAY_DUAL_SCALE.theme,lh().MULTIPLE_CHOICE.theme,lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme,lh().MULTIPLE_SHORT_TEXTS.theme,lh().MULTIPLE_NUMERICAL_INPUTS.theme,lh().MULTIPLE_CHOICE_BUTTONS.theme,lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme],S=[lh().ARRAY_DUAL_SCALE.theme],A=[lh().ARRAY_TEXT.theme,lh().ARRAY_NUMBERS.theme],f=[],j=[];E.includes(b)&&f.push(aq({qid:N,code:aW(s,N,0),language:d,sortOrder:1,languages:r.languages}),aq({qid:N,code:aW(s,N,1),sortOrder:2,languages:r.languages})),y.includes(b)&&j.push(aM({sortOrder:1,parentQid:N,type:lh().LONG_TEXT.type,title:a$(null,null,0),questionThemeName:lh().LONG_TEXT.theme,gid:h.gid,sid:h.sid,languages:r.languages}),aM({sortOrder:2,languages:r.languages,parentQid:N,type:lh().LONG_TEXT.type,title:a$(null,null,1),questionThemeName:lh().LONG_TEXT.theme,gid:h.gid,sid:h.sid})),S.includes(b)&&f.push(aq({qid:N,code:aW(s,N,2),languages:r.languages,sortOrder:3,scaleId:1}),aq({qid:N,code:aW(s,N,3),languages:r.languages,sortOrder:4,scaleId:1})),A.includes(b)&&j.push(aM({sortOrder:3,languages:r.languages,parentQid:N,type:lh().LONG_TEXT.type,title:a$(null,null,2),questionThemeName:lh().LONG_TEXT.theme,gid:h.gid,sid:h.sid,scaleId:1}),aM({sortOrder:4,languages:r.languages,parentQid:N,type:lh().LONG_TEXT.type,title:a$(null,null,3),questionThemeName:lh().LONG_TEXT.theme,gid:h.gid,sid:h.sid,scaleId:1}));v=aM({qid:N,gid:h.gid,sid:h.sid,type:e.type,questionThemeName:b,title:(I=(x=aF(Object.keys(s),"Q")).numeric+1,`${x.prefix}${I.toString().padStart(3,"0")}`),answers:f,subquestions:j,sortOrder:h.questions.length+1,attributes:b===lh().BROWSER_DETECTION.theme?{location_mapservice:{"":"100"}}:{},languages:r.languages}),_=l||p||0,(T=[...r.questionGroups])[_]={...T[_],questions:[...T[_].questions,v]},r.questionGroups=T,o({...r}),c(v,_,T[_].questions.length-1),n(null),u(iJ(v.qid).question().create({question:{...v,tempId:v.qid},questionL10n:{...v.l10ns},attributes:{...v.attributes},answers:{...v.answers},subquestions:{...v.subquestions}})),a(!1)}})})},de=e=>{let{surveyId:i,showPreviewButton:a,showShareButton:s,isSurveyActive:l,survey:n,operationsLength:r,operationsBuffer:o,saveState:d,showShareActionButton:u,showExportResponsesButton:c,showExportStatisticsButton:p,showPublishSettings:g,triggerPublish:v,isAddingQuestionOrGroup:x,setShowOverviewModalRef:I}=e,[,_]=j(eg,!1),T=()=>{_(!0)},N=(0,h.useMemo)(()=>(e=>{let{surveyId:i,surveySid:a,isSurveyActive:s,handleStartEditorTutorial:l}=e;return[{type:"header",label:t("Navigate")},{type:"item",label:t("Workspace"),icon:"ri-microsoft-fill",url:"/dashboard/view"},{type:"item",label:t("Editor"),icon:"ri-bar-chart-horizontal-line",url:`#/${eU}/${i}/structure`},{type:"item",label:t("Share"),icon:"ri-share-forward-line",url:`#/${eH}/${i}/${rq().sharing.panel}/${eP}`},{type:"item",label:t("Analyze"),icon:"ri-bar-chart-2-line",url:`#/responses/${a}`,disabled:{state:!s,tooltip:ss().SURVEY_NOT_ACTIVE_NO_RESULTS}},{type:"divider"},{type:"header",label:t("Help")},{type:"item",label:t("Interactive help"),icon:"ri-information-line",onClick:l,disabled:{state:s,tooltip:ss().DISABLE_FIRST}}]})({surveyId:i,surveySid:n.sid,isSurveyActive:l,handleStartEditorTutorial:T}),[i,n.sid,l,T]);return(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsxs)("span",{className:"small text-muted me-1",children:["",""]}),(0,m.jsx)("div",{id:"auto-saved",className:"d-flex align-items-center me-2",children:(0,m.jsx)("p",{className:sN()("m-0 me-2 auto-saved",{"text-success":o.isEmpty(),"text-secondary":!o.isEmpty()}),children:d})}),a&&(0,m.jsx)("a",{target:"_blank",rel:"noreferrer",href:n.previewLink,className:"preview-button me-2 p-0 d-flex align-items-center justify-content-center btn btn-light",id:"preview-button",children:(0,m.jsx)(tI,{className:""})}),l&&s&&(0,m.jsx)("div",{onClick:()=>I.current(!0),className:"preview-button me-2 d-flex align-items-center justify-content-center btn btn-light",children:(0,m.jsx)("i",{className:"ri-share-forward-line"})}),(0,m.jsx)(o9,{className:"me-2",survey:n,operationsLength:r,triggerPublish:v,showShareActionButton:u,showExportResponsesButton:c,showExportStatisticsButton:p,showPublishSettings:g}),(0,m.jsx)(ll,{menuItems:N,toggleSettings:{iconClassName:"ri-more-fill",variant:"light",id:"topbarNavigation",title:""}}),(0,m.jsx)(ro,{slotName:"topbar:right"}),(0,m.jsx)("div",{children:x&&(0,m.jsx)(o8,{surveyID:n.sid})})]})},dt=e=>{var i;let{surveyId:a,surveyActivationHandlerRef:s,showAddQuestionButton:l=!0,showPublishSettings:n=!0,showPreviewButton:r=!0,showShareButton:o=!0,showShareActionButton:d=!1,showExportResponsesButton:u=!1,showExportStatisticsButton:c=!1,setShowOverviewModalRef:p}=e,{survey:g,update:v,surveyList:x}=dV(a),{getError:I}=dB(),T=(0,_.Zp)(),{operationsBuffer:N,addToBuffer:b}=dF(),[,E]=(0,h.useState)({}),[y]=j(Z),[S]=j(F,!1),[A]=j(ep),[f,C]=(0,h.useState)(!1),O=(0,h.useMemo)(()=>A&&A.length>0?A:g.language,[A,g.language]),[w]=j($,!1),q=(0,h.useMemo)(()=>{var e;return null==N||null==(e=N.getOperations())?void 0:e.length},[null==(i=N.getOperations())?void 0:i.length]),M=async e=>{T(`/survey/${e.target.value}`)};return(0,h.useEffect)(()=>{E(null),(null==p?void 0:p.current)!==void 0&&(p.current=C)},[g.sid]),(0,m.jsxs)("div",{id:"topbar",className:"top-bar d-flex w-100 justify-content-between",children:[(0,m.jsxs)("div",{className:"top-bar-left d-flex ps-2 pe-3 ms-1 justify-content-between",children:[(0,m.jsxs)("a",{className:"top-bar-brand","data-testid":"logo-a-tag",href:eG,children:[(0,m.jsx)("img",{className:"logo",src:o6,height:34,alt:t("Logo")})," ","LimeSurvey"]}),l&&(0,m.jsx)(or,{id:"topbar-add-question",className:"ms-auto"})]}),(0,m.jsx)("div",{className:"top-bar-middle d-flex flex-grow-1 justify-content-center align-items-center",children:(0,m.jsx)(o5,{surveyId:a,survey:g,surveyList:x,activeLanguage:O,onSurveyTitleChange:e=>{let i=iO(e).replaceAll("&nbsp;","");i.trim(),b(iJ(g.sid).languageSetting().update({[O]:{title:i}})),v({languageSettings:{...g.languageSettings,[O]:{...g.languageSettings[O],title:i}}})},handleSurveySwitch:M,getError:I})}),(0,m.jsx)(de,{surveyId:a,showPreviewButton:r,showShareButton:o,isSurveyActive:S,survey:g,operationsLength:q,operationsBuffer:N,saveState:y,showShareActionButton:d,showExportResponsesButton:u,showExportStatisticsButton:c,showPublishSettings:n,triggerPublish:()=>{s.current&&s.current.togglePublish({shouldActivate:!S,surveyIsExpired:aB(g.expires)})},isAddingQuestionOrGroup:w,setShowOverviewModalRef:p}),(0,m.jsx)(o3,{ref:s,setShowOverViewModal:C,showOverViewModal:f})]})};var di=a(66684);let da=function(e){var i,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{throwError:l=!1,logToConsole:n=!0}=s,r={code:"UNKNOWN_ERROR",message:"An unknown error occurred",httpStatus:500,originalError:e};if("CanceledError"!==e.name){if(e.response){let{status:i,data:a}=e.response;switch(i){case 400:r.httpStatus=400,r.code="BAD_REQUEST";break;case 401:r.httpStatus=401,r.code="UNAUTHORIZED";break;case 403:r.httpStatus=403,r.code="FORBIDDEN";break;case 404:r.httpStatus=404,r.code="NOT_FOUND";break;default:r.httpStatus=i,r.code="SERVER_ERROR"}a&&a.error&&(a.error.code&&(r.code=a.error.code),a.error.message&&(r.message=a.error.message))}else e.request?(r.code="NO_RESPONSE",r.message="No response received from server"):(r.code="REQUEST_SETUP_ERROR",r.message=e.message||"Error setting up the request"),r.httpStatus=0;if(iV({category:"axios",message:`API Error: ${r.message}`,data:{code:r.code,httpStatus:r.httpStatus,url:(null==(i=e.config)?void 0:i.url)||"unknown",method:(null==(a=e.config)?void 0:a.method)||"unknown",originalError:JSON.stringify(r.originalError)},level:"warning"}),n&&console.error("API Error:",r),l){let e=Error(r.message);throw e.name=r.code,e.httpStatus=r.httpStatus,e.originalError=r.originalError,e}return r}};class ds{constructor(e){(0,ik._)(this,"login",async(e,i)=>{try{return(await di.A.post(`${this.baseurl}/auth`,{username:e,password:i})).data}catch(e){da(e)}}),(0,ik._)(this,"refresh",async e=>{try{return(await di.A.put(`${this.baseurl}/auth`,{},{headers:e})).data}catch(e){da(e)}}),(0,ik._)(this,"logout",async e=>{try{return(await di.A.delete(`${this.baseurl}/auth`,{headers:e})).data}catch(e){da(e)}}),this.baseurl=e}}class dl{async get(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4?arguments[4]:void 0;try{return(await this.client.get(e,{headers:{...this.restHeaders,...i},params:l,signal:a})).data}catch(e){return da(e,{throwError:s})}}async post(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return(await this.client.post(e,i,{headers:{...this.restHeaders,...a}})).data}catch(e){return da(e,{throwError:s})}}async patch(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return(await this.client.patch(e,i,{headers:{...this.restHeaders,...a}})).data}catch(e){return da(e,{throwError:s})}}async put(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{return(await this.client.put(e,i,{headers:{...this.restHeaders,...a}})).data}catch(e){return da(e,{throwError:s})}}async delete(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return(await this.client.delete(e,{headers:{...this.restHeaders,...i}})).data}catch(e){return da(e,{throwError:a})}}constructor(e,i){this.restHeaders=i,this.client=di.A.create({baseURL:e,headers:i})}}class dn{constructor(e,i,a){(0,ik._)(this,"uploadSurveyImage",async e=>await this.restClient.post(`${this.baseurl}/file-upload-survey-image/${this.surveyId}`,e,!0)),this.auth=e,this.surveyId=a,this.baseurl=i,this.restClient=new dl(i,e.restHeaders)}}class dr{constructor(e){(0,ik._)(this,"getSiteData",async()=>{try{return(await di.A.get(`${this.baseurl}/site-settings`)).data}catch(e){da(e)}}),this.baseurl=e}}class dd{constructor(e,i,a){(0,ik._)(this,"getSurveyGroups",async()=>await this.restClient.get(`${this.baseurl}/survey-groups`)),this.auth=e,this.surveyId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class du{constructor(e,i,a){var s=this;(0,ik._)(this,"patchSurvey",async e=>await this.restClient.patch(`/survey-detail/${this.surveyId}`,{patch:e},!0)),(0,ik._)(this,"getSurveyList",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return await s.restClient.get("/survey",{params:{page:e,pageSize:i}})}),(0,ik._)(this,"getSurveyDetail",async function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=a?`survey-detail/${e}/ts/${a}`:`survey-detail/${e}`;return await s.restClient.get(l,{},i)}),(0,ik._)(this,"getSurveyDetailDemo",async e=>(await di.A.get(e?"./data/survey-detail-empty.json":"./data/survey-detail.json")).data),this.auth=e,this.surveyId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class dc{constructor(e,i,a){(0,ik._)(this,"getSurveyArchives",async(e,i)=>await this.restClient.get(`survey-archives/${e}`,{},i)),(0,ik._)(this,"getSurveyArchivesByBaseTable",async(e,i,a)=>(await this.restClient.get(`survey-archives/${e}`,{},a)).filter(e=>e.types.indexOf(i)>=0)),this.auth=e,this.surveyId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class dm{constructor(e,i){(0,ik._)(this,"getTranslations",async e=>{if(this.auth.userId)return await this.restClient.get(`/i18n/${e}`,{},void 0,!0)}),(0,ik._)(this,"getAllLanguages",async e=>{if(this.auth.userId)return await this.restClient.get(`/i18n-refresh-languages/${e}`,{},void 0,!0)}),(0,ik._)(this,"saveMissingKeys",async e=>{}),(0,ik._)(this,"sendPendingKeys",async()=>{if(this.pendingMissingKeys.size>0)try{let e=Array.from(this.pendingMissingKeys);await this.restClient.post("/i18n-missing",{keys:e}),e.forEach(e=>{this.sentMissingKeys.add(e),this.pendingMissingKeys.delete(e)})}catch(e){throw Error(e)}}),this.auth=e,this.baseurl=i,this.restClient=new dl(i,e.restHeaders),this.sentMissingKeys=new Set,this.pendingMissingKeys=new Set,this.debounceTimer=null}}class dp{constructor(e,i,a){(0,ik._)(this,"getUserDetail",async e=>await this.restClient.get(`user-detail/${e}`)),(0,ik._)(this,"getUserPermissions",async()=>await this.restClient.get("user-permissions")),this.auth=e,this.userId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class dh{constructor(e,i,a){var s=this;(0,ik._)(this,"patchResponses",async e=>await this.restClient.patch(`/survey-responses/${this.surveyId}`,{patch:e})),(0,ik._)(this,"getSurveyResponses",async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pagination:{pageIndex:0,pageSize:10},filters:[],sorting:[]},{pagination:a={pageIndex:0,pageSize:10},filters:l=[],sorting:n=[]}=i,r={page:{currentPage:a.pageIndex,pageSize:a.pageSize},sort:{},filters:[]};return n.length>0&&n[0].id&&(r.sort[n[0].id]=n[0].desc?"desc":"asc"),Object.entries(l||{}).forEach(e=>{let[,{value:i,filterMethod:a,keys:s}]=e;((null==i?void 0:i.length)||i)&&r.filters.push({key:s[0],filterMethod:a,value:i})}),await s.restClient.post(`survey-responses/${e}`,r)}),(0,ik._)(this,"getResponsesOverview",async e=>await this.restClient.get(`statistics-overview/${e}`)),this.auth=e,this.surveyId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class dg{constructor(e){(0,ik._)(this,"getVersionInfo",async()=>await di.A.get(`${this.baseurl}/version-info`)),this.baseurl=e}}class dv{constructor(e,i,a){(0,ik._)(this,"getSurveyStatistics",async(e,i)=>{let{completed:a,minId:s,maxId:l}=i;Number(s)>Number(l)&&l&&(s=l);let n="number"==typeof s,r=`${"boolean"==typeof a?`completed=${a}`:""}${n?`&minId=${s}`:""}${"number"==typeof l?`&maxId=${l}`:""}`;return await this.restClient.get(`statistics/${e}?${r}`)}),(0,ik._)(this,"getSurveyStatisticsAtGlance",async e=>await this.restClient.get(`statistics-glance/${e}`)),this.auth=e,this.surveyId=i,this.baseurl=a,this.restClient=new dl(a,e.restHeaders)}}class dx{constructor(e,i){(0,ik._)(this,"getUserSettingByName",async e=>await this.restClient.get(`${this.baseurl}/user-setting/${e}`)),(0,ik._)(this,"setUserSettingByName",async(e,i)=>await this.restClient.post(`${this.baseurl}/user-setting`,{settingName:e,settingValue:i})),this.auth=e,this.baseurl=i,this.restClient=new dl(i,e.restHeaders)}}let dI=()=>{let{updateFeedbackData:e}=d0(),{showFeedbackForm:i,trackInitialLoad:a,shouldShowFeedback:s}=d1(),[l,n]=(0,h.useState)(!1),[r,o]=(0,h.useState)(null);(0,h.useEffect)(()=>{a(dC.GENERAL);let i=()=>{!s(dC.GENERAL)||l||r||(o(dC.GENERAL),n(!0),e(dC.GENERAL,{previouslyShown:new Date().toISOString()}))};i();let d=setInterval(i,6e4);return()=>clearInterval(d)},[l,r,s,e]),(0,h.useEffect)(()=>dq.onFeedbackRequested(e=>{let{feedbackType:i}=e.detail;s(i)&&(o(i),n(!0))}),[s]);let d=(0,h.useMemo)(()=>dO()[r],[r]),u=()=>{n(!1),o(null)};return r?(0,m.jsx)(rd.A,{style:{position:"fixed",bottom:60,right:10,zIndex:1060,width:600,display:l?"block":"none"},children:(0,m.jsxs)(rd.A.Body,{className:"relative",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsx)(rd.A.Title,{as:"h2",className:"title",children:d.title}),(0,m.jsx)("div",{className:"feedback-popup-close-button",onClick:u,children:(0,m.jsx)(tp,{className:"text-black fill-current",width:28,height:28})})]}),(0,m.jsx)("div",{className:"mb-4",children:d.description}),(0,m.jsx)("div",{className:"feedback-popup-checkbox-container",children:(0,m.jsx)(a1.A.Check,{label:t("Don't ask again"),type:"checkbox",onClick:i=>{e(r,{dontAskAgain:i.target.checked})}})}),(0,m.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-2",children:[(0,m.jsx)(sk.A,{variant:"outline-dark",className:"feedback-popup-buttons btn-lg",onClick:u,children:t("Not now")}),(0,m.jsx)(sk.A,{variant:"primary",className:"feedback-popup-buttons btn-lg",onClick:()=>{i(r),e(r,{feedbackGiven:!0}),u()},children:d.primaryCTA||t("OK")})]})]})}):null},d_=e=>{let{surveyId:i,urlParams:a}=e,s="https://"+window.location.hostname.replace(/^[^\/]*\.([^\/]+\.[^\/]+)/,"sur.$1")+"/"+i+"?"+a.toString();return(0,m.jsxs)("div",{className:"feedback-container",children:[(0,m.jsx)("div",{className:"feedback-title mt-5 mb-3",children:t("Thanks for helping us improve!")}),(0,m.jsx)("div",{className:"feedback-description mb-4",children:t("Your feedback is important to us. Please take a minute to answer two quick questions.")}),(0,m.jsx)("div",{className:"feedback-cover"}),(0,m.jsx)("iframe",{className:"survey",src:s,title:t("Feedback survey")})]})},dT=e=>{let{children:i}=e,{surveyId:a}=(0,_.g)(),{setFocused:s,groupIndex:l,questionIndex:n}=dH(),{surveyPatch:r,fetchSurvey:o,update:d}=dV(a),{operationsBuffer:u,addToBuffer:c,setBuffer:p,clearBuffer:g}=dF(),{setErrorsFromPatchResponse:v,clearErrors:x}=dB(),[I,T]=j(eu),[N,b]=j(es,!1),[,E]=j(Z,""),[,y]=j(eo,{}),[,S]=j($,!1);return(0,h.useEffect)(()=>{g(),x(),y({}),b(!1),S(!1),a&&o(a)},[a]),(0,h.useEffect)(()=>{let e=e=>{var i;(null==(i=u.getOperations())?void 0:i.length)>0&&e.preventDefault()};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[u]),(0,h.useEffect)(()=>{if(N)return;let e=u.getOperations({ready:!0});r(e,()=>{u.clearBuffer({ready:!0}),g({ready:!0}),b(!0)},i=>{var a,r,o,u,c;let m=A.getQueryData([X]).survey,h=A.getQueryData([K]).focused,g=new iY(A.getQueryData([ee]),iI()),x=null==(a=i.tempIdMapping)?void 0:a.questionsMap,I=null==(r=i.tempIdMapping)?void 0:r.subquestionsMap,_=null==(o=i.tempIdMapping)?void 0:o.questionGroupsMap,T=null==(u=i.tempIdMapping)?void 0:u.answersMap,N=null==(c=i.tempIdMapping)?void 0:c.conditionsMap,b=aC(_,iF,m,g,h);b.focused&&_&&s(b.focused,l,n),(b=aC(x,iB,b.survey,b.operationsBuffer,h)).focused&&x&&s(b.focused,l,n),b=aC(I,i$,b.survey,b.operationsBuffer),b=aC(T,iz,b.survey,b.operationsBuffer),b=aC(N,iW,b.survey,b.operationsBuffer),i.extras&&(b=aO(iB,b.survey,b.operationsBuffer,i.extras));let y=new iY(e),S=aw(i.validationErrors||[],y,b.operationsBuffer),f=aw(i.exceptionErrors||[],y,b.operationsBuffer);d({...b.survey}),p(b.operationsBuffer.getOperations(),iI()),E((0,lD.format)(t("Saved at %s"),U(new Date().getTime()).format("hh:mm"))),v([...S,...f]),i.operationsApplied||iv("Sorry, we encountered an issue while saving the changes. Please try refreshing the page!")},()=>{b(!1),u.isEmpty()&&I&&(o(a),T(!1))},i=>{let a=e.map(e=>({...e,error:!0}));a.forEach(e=>{c(e,!1)}),v([...a]),E(`Error happened ${U(new Date().getTime()).format("hh:mm")}`),iv(i.message)})},[u.bufferHash,N]),(0,m.jsx)(m.Fragment,{children:i})},dN=e=>{let{children:i}=e,{errorMessages:a,clearErrorMessages:s}=dB();return(0,h.useEffect)(()=>{if(null==a?void 0:a.length){for(let e of a)ix({message:e,leftIcon:(0,m.jsx)(tD,{}),rightIcon:(0,m.jsx)(tR,{})});s()}},[null==a?void 0:a.length]),(0,m.jsxs)(dT,{children:[(0,m.jsx)(ir.l$,{}),(0,m.jsx)(dI,{}),i]})},db=()=>[lh().EQUATION.theme,lh().RANKING.theme],dE=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";if(!e||"string"!=typeof e)return{value:"",leftText:null,rightText:null};let a=e.split(i);return a.length>=3?{value:a[0],leftText:a[1],rightText:a[2]}:2===a.length?{value:a[0],leftText:a[1],rightText:null}:{value:a[0],leftText:null,rightText:null}},dy=(e,i,a)=>{let s={...e,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgb(129, 70, 246)",boxShadow:i?"0 0 0 1.5px #fff, 0 0 0 .3rem rgba(129, 70, 246, 0.25)":"none"};switch(a){case"0":default:return{...s,height:"12px",width:"12px",borderRadius:"50%"};case"1":return{...s,height:"12px",width:"12px",borderRadius:"0"};case"2":return{...s,height:"0",width:"0",backgroundColor:"transparent",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderBottom:"12px solid rgb(129, 70, 246)"};case"3":return{...s,height:"16px",width:"16px",borderRadius:"0",backgroundColor:"transparent",color:"rgb(129, 70, 246)",fontSize:"16px"}}},dS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return{value:"",key:""};let a=Object.values(e??{}),s=Object.keys(e??{});return{value:null==a?void 0:a[i],key:null==s?void 0:s[i]}},dA=e=>""===e||/^-?\d*\.?\d*$/.test(e)?e:"",df=(e,i)=>{let a=e.replace(/(^\w+:|^)\/\//,"");if(a.length<=i)return a;let s=Math.floor((i-3)/2);return a.slice(0,s)+"..."+a.slice(-s)},dj=e=>{var i,a;let{survey:s,language:l}=e,n=(null==(a=s.languageSettings[l])||null==(i=a.alias)?void 0:i.trim())||s.sid,r=l&&l!==s.langauge?`?lang=${l}&`:"";return aH(`/${n}${r}newtest=Y`)},dC={GENERAL:"general",SHARING:"sharing"},dO=()=>({[dC.GENERAL]:{surveyId:516925,cookieKey:"LS_FEEDBACK_POPUP",title:t("What do you think so far?"),description:t("We would very much appreciate it if you could answer two quick questions about your experience with the new editor?"),triggerType:"automatic",delayMins:"1",intervalMinutes:"120"},[dC.SHARING]:{surveyId:763972,cookieKey:"LS_FEEDBACK_POPUP_SHARING",title:t("Do you have a minute?"),description:t("We would love to hear your thoughts on our sharing options!"),triggerType:"manual",primaryCTA:t("Tell us")}});class dw extends EventTarget{requestFeedback(e){this.dispatchEvent(new CustomEvent("feedbackRequested",{detail:{feedbackType:e}}))}onFeedbackRequested(e){return this.addEventListener("feedbackRequested",e),()=>this.removeEventListener("feedbackRequested",e)}constructor(){super()}}let dq=new dw,dM=[lh().ARRAY.theme,lh().ARRAY_COLUMN.theme,lh().ARRAY_DUAL_SCALE.theme,lh().ARRAY_NUMBERS.theme,lh().ARRAY_TEXT.theme],dL=[lh().RANKING.theme,lh().RANKING_ADVANCED.theme],dD=(e,i,a)=>{let s=iI();return{aid:375,qid:346,code:"A1",sortOrder:0,assessmentValue:1,scaleId:0,l10ns:i.reduce((i,a)=>({...i,[a]:{answer:e,aid:s,language:[a]}}),{}),...a}},dR=()=>Math.floor(Date.now()/1e3),dP=()=>{let{authService:e}=dk(),[i,a]=(0,C.lT)(["LS_AUTH_INIT"]),{data:s}=(0,b.I)({queryKey:["auth"],queryFn:async()=>{let i=A.getQueryData(["auth"])||{},a=n(i),s=i;return r(i)&&o(i)>=1800&&(s=await e.refresh(a)),s},refetchOnMount:"always",staleTime:1/0,refetchInterval:6e4,meta:{persist:!0}}),l=e=>A.setQueryData(["auth"],e),n=e=>({mode:"cors",Authorization:`Bearer ${null==e?void 0:e.token}`,ClientApplication:"limesurvey-editor@1.0.9@360facd60bbaa1c02ba65d3c217c5ca423c20735"}),r=e=>!!e&&!!e.expires&&new Date(e.expires)>=new Date,o=e=>U().diff(U(e.created),"second");return(0,h.useEffect)(()=>{var e,a,n,o,d;!r(s)&&(null==(e=i.LS_AUTH_INIT)?void 0:e.token)&&l({userId:null==(a=i.LS_AUTH_INIT)?void 0:a.userId,token:null==(n=i.LS_AUTH_INIT)?void 0:n.token,created:null==(o=i.LS_AUTH_INIT)?void 0:o.created,expires:null==(d=i.LS_AUTH_INIT)?void 0:d.expires})},[i.LS_AUTH_INIT]),{isLoggedIn:r(s),logout:()=>{a("LS_AUTH_INIT"),l({})},restHeaders:n(s),userId:null==s?void 0:s.userId,token:null==s?void 0:s.token}},dk=()=>({authService:new ds(H())}),dU=()=>{let e=dP(),{surveyId:i}=(0,_.g)();return{fileService:new dn(e,H(),i)}},dH=(e,i,a)=>{let s=(0,_.Zp)(),l=(0,_.zy)(),{data:n}=(0,b.I)({queryKey:[K],queryFn:()=>({focused:e,groupIndex:i,questionIndex:a}),staleTime:1/0,meta:{persist:!0}}),r=()=>(s(l.pathname),A.setQueryData([K],{}));return{setFocused:function(e,i,a){var n,o,d,u,c,m;let p,h=!(arguments.length>3)||void 0===arguments[3]||arguments[3];h&&r();let g=(0,i_.cloneDeep)(e)||{},v=(n=l.search,o=g,d=i,u=a,p=new URLSearchParams(n),[iB,iF,iZ,iK].forEach(e=>p.delete(e)),void 0!==u?p.set(iB,o.qid):void 0!==d?p.set(iF,o.gid):(null==(c=o.info)?void 0:c.type)===lh().WELCOME_SCREEN.type?p.set(iZ,"true"):(null==(m=o.info)?void 0:m.type)===lh().END_SCREEN.type&&p.set(iK,"true"),p).toString();s({pathname:l.pathname,search:v}),A.setQueryData([K],{focused:g,groupIndex:i,questionIndex:a})},unFocus:r,...n}};JSON.parse('{"surveyId":596477,"survey":{"sid":596477,"gsid":1,"active":false,"language":"en","expires":null,"startDate":null,"anonymized":false,"saveTimings":null,"additionalLanguages":"","datestamp":null,"useCookie":null,"allowRegister":null,"allowSave":null,"autoNumberStart":0,"autoRedirect":null,"allowPrev":null,"hasSurveyUpdatePermission":true,"printAnswers":null,"ipAddr":null,"ipAnonymize":null,"refUrl":null,"dateCreated":"2023-10-04T10:27:05.000Z","publicStatistics":null,"publicGraphs":null,"listPublic":null,"sendConfirmation":null,"tokenAnswersPersistence":null,"assessments":null,"useCaptcha":null,"useTokens":false,"bounceEmail":"inherit","attributeDescriptions":null,"emailResponseTo":"inherit","emailNotificationTo":"inherit","tokenLength":-1,"showXQuestions":null,"showGroupInfo":"I","showNoAnswer":null,"showQNumCode":"I","bounceTime":0,"bounceProcessing":false,"bounceAccountType":null,"bounceAccountHost":null,"bounceAccountPass":null,"bounceAccountEncryption":null,"bounceAccountUser":null,"showWelcome":true,"showProgress":null,"questionIndex":-1,"navigationDelay":-1,"noKeyboard":null,"allowedItAfterCompletion":null,"googleAnalyticsStyle":0,"googleAnalyticsApiKey":null,"showSurveyPolicyNotice":0,"access_mode":"O","hasTokens":false,"languageSettings":{"en":{"sid":596477,"language":"en","title":"Example Survey","description":"","welcomeText":"","endText":"","policyNotice":"","policyError":"","policyNoticeLabel":"","url":"","urlDescription":"","dateFormat":9,"numberFormat":0},"fr":{"sid":596477,"language":"fr","title":"Example Survey","description":"","welcomeText":"","endText":"","policyNotice":"","policyError":"","policyNoticeLabel":"","url":"","urlDescription":"","dateFormat":9,"numberFormat":0}},"languages":["en","fr"],"groupsList":{"1":"Default"},"surveyGroup":{"gsid":1,"name":"default","title":"Default","description":"Default group survey","sortOrder":0,"alwaysAvailable":true},"owner":{"uid":1,"name":"admin","fullName":"Administrator","parentId":0,"lang":"en","email":"your-email@example.net","htmlEditorMode":"default","templateEditorMode":"default","questionSelectorMode":"default","dateFormat":1,"lastLogin":"2024-10-22 07:40:10","created":"2024-04-25 12:04:14","modified":"2024-10-22 07:40:10","userStatus":1},"surveyMenus":{"settings":{"id":"1","name":"settings","ordering":"1","level":"0","title":"Survey settings","description":"Survey settings","entries":{"overview":{"id":"1","menuId":"1","userId":null,"ordering":"1","name":"overview","title":"Survey overview","menuTitle":"Overview","menuDescription":"Open the general survey overview","menuIcon":"ri-bar-chart-horizontal-line","menuClass":"","menuLink":"surveyAdministration/view","action":"","template":"","partial":"","classes":"","permission":"","permissionGrade":"","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"generalsettings":{"id":"2","menuId":"1","userId":null,"ordering":"2","name":"generalsettings","title":"General survey settings","menuTitle":"General settings","menuDescription":"Open general survey settings","menuIcon":"ri-tools-line","menuClass":"","menuLink":"","action":"updatesurveylocalesettings_generalsettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_generaloptions_panel","classes":"","permission":"surveysettings","permissionGrade":"read","data":null,"getDataMethod":"generalTabEditSurvey","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"surveytexts":{"id":"3","menuId":"1","userId":null,"ordering":"3","name":"surveytexts","title":"Survey text elements","menuTitle":"Text elements","menuDescription":"Survey text elements","menuIcon":"ri-text-spacing","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/tab_edit_view","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"getTextEditData","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"datasecurity":{"id":"4","menuId":"1","userId":null,"ordering":"4","name":"datasecurity","title":"Privacy policy settings","menuTitle":"Privacy policy","menuDescription":"Edit privacy policy settings","menuIcon":"ri-shield-line","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/tab_edit_view_datasecurity","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"getDataSecurityEditData","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"theme_options":{"id":"5","menuId":"1","userId":null,"ordering":"5","name":"theme_options","title":"Theme options","menuTitle":"Theme options","menuDescription":"Edit theme options for this survey","menuIcon":"ri-contrast-drop-fill","menuClass":"","menuLink":"themeOptions/updateSurvey","action":"","template":"","partial":"","classes":"","permission":"surveysettings","permissionGrade":"update","data":"{\\"render\\": {\\"link\\": { \\"pjaxed\\": true, \\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"], \\"gsid\\":[\\"survey\\",\\"gsid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"presentation":{"id":"6","menuId":"1","userId":null,"ordering":"6","name":"presentation","title":"Presentation &amp; navigation settings","menuTitle":"Presentation","menuDescription":"Edit presentation and navigation settings","menuIcon":"ri-slideshow-line","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_presentation_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"tabPresentationNavigation","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"tokens":{"id":"7","menuId":"1","userId":null,"ordering":"7","name":"tokens","title":"Survey participant settings","menuTitle":"Participant settings","menuDescription":"Set additional options for survey participants","menuIcon":"ri-body-scan-fill","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_tokens_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"tabTokens","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"notification":{"id":"8","menuId":"1","userId":null,"ordering":"8","name":"notification","title":"Notification and data management settings","menuTitle":"Notifications &amp; data","menuDescription":"Edit settings for notification and data management","menuIcon":"ri-notification-line","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_notification_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"tabNotificationDataManagement","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"publication":{"id":"9","menuId":"1","userId":null,"ordering":"9","name":"publication","title":"Publication &amp; access control settings","menuTitle":"Publication &amp; access","menuDescription":"Edit settings for publication and access control","menuIcon":"ri-key-line","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_publication_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":null,"getDataMethod":"tabPublicationAccess","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"surveypermissions":{"id":"10","menuId":"1","userId":null,"ordering":"10","name":"surveypermissions","title":"Edit survey permissions","menuTitle":"Survey permissions","menuDescription":"Edit permissions for this survey","menuIcon":"ri-lock-password-line","menuClass":"","menuLink":"surveyPermissions/index","action":"","template":"","partial":"","classes":"","permission":"surveysecurity","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"}}},"mainmenu":{"id":"2","name":"mainmenu","ordering":"2","level":"0","title":"Survey menu","description":"Main survey menu","entries":{"listQuestions":{"id":"11","menuId":"2","userId":null,"ordering":"1","name":"listQuestions","title":"Overview questions &amp; groups","menuTitle":"Overview questions &amp; groups","menuDescription":"Overview of questions and groups where you can add, edit and reorder them","menuIcon":"","menuClass":"","menuLink":"questionAdministration/listQuestions","action":"","template":"","partial":"","classes":"","permission":"surveycontent","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"participants":{"id":"12","menuId":"2","userId":null,"ordering":"4","name":"participants","title":"Survey participants","menuTitle":"Survey participants","menuDescription":"Go to survey participant and token settings","menuIcon":"","menuClass":"","menuLink":"admin/tokens/sa/index/","action":"","template":"","partial":"","classes":"","permission":"tokens","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"emailtemplates":{"id":"13","menuId":"2","userId":null,"ordering":"5","name":"emailtemplates","title":"Email templates","menuTitle":"Email templates","menuDescription":"Edit the templates for invitation, reminder and registration emails","menuIcon":"","menuClass":"","menuLink":"admin/emailtemplates/sa/index/","action":"","template":"","partial":"","classes":"","permission":"surveylocale","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"failedemail":{"id":"14","menuId":"2","userId":null,"ordering":"6","name":"failedemail","title":"Failed email notifications","menuTitle":"Failed email notifications","menuDescription":"View and resend failed email notifications","menuIcon":"","menuClass":"","menuLink":"failedEmail/index/","action":"","template":"","partial":"","classes":"","permission":"surveylocale","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"quotas":{"id":"15","menuId":"2","userId":null,"ordering":"7","name":"quotas","title":"Edit quotas","menuTitle":"Quotas","menuDescription":"Edit quotas for this survey.","menuIcon":"","menuClass":"","menuLink":"quotas/index/","action":"","template":"","partial":"","classes":"","permission":"quotas","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"assessments":{"id":"16","menuId":"2","userId":null,"ordering":"8","name":"assessments","title":"Edit assessments","menuTitle":"Assessments","menuDescription":"Edit and look at the assessements for this survey.","menuIcon":"","menuClass":"","menuLink":"assessment/index","action":"","template":"","partial":"","classes":"","permission":"assessments","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"panelintegration":{"id":"17","menuId":"2","userId":null,"ordering":"9","name":"panelintegration","title":"Edit survey panel integration","menuTitle":"Panel integration","menuDescription":"Define panel integrations for your survey","menuIcon":"","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_integration_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":"{\\"render\\": {\\"link\\": { \\"pjaxed\\": false}}}","getDataMethod":"tabPanelIntegration","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"responses":{"id":"18","menuId":"2","userId":null,"ordering":"10","name":"responses","title":"Responses","menuTitle":"Responses","menuDescription":"Responses","menuIcon":"","menuClass":"","menuLink":"responses/browse/","action":"","template":"","partial":"","classes":"","permission":"responses","permissionGrade":"read","data":"{\\"render\\": {\\"isActive\\": true, \\"link\\": {\\"data\\": {\\"surveyId\\": [\\"survey\\", \\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"statistics":{"id":"19","menuId":"2","userId":null,"ordering":"11","name":"statistics","title":"Statistics","menuTitle":"Statistics","menuDescription":"Statistics","menuIcon":"","menuClass":"","menuLink":"admin/statistics/sa/index/","action":"","template":"","partial":"","classes":"","permission":"statistics","permissionGrade":"read","data":"{\\"render\\": {\\"isActive\\": true, \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\", \\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"resources":{"id":"20","menuId":"2","userId":null,"ordering":"12","name":"resources","title":"Add/edit resources (files/images) for this survey","menuTitle":"Resources","menuDescription":"Add/edit resources (files/images) for this survey","menuIcon":"","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_resources_panel","classes":"","permission":"surveylocale","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"tabResourceManagement","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"plugins":{"id":"21","menuId":"2","userId":null,"ordering":"13","name":"plugins","title":"Simple plugin settings","menuTitle":"Simple plugins","menuDescription":"Edit simple plugin settings","menuIcon":"","menuClass":"","menuLink":"","action":"updatesurveylocalesettings","template":"editLocalSettings_main_view","partial":"/admin/survey/subview/accordion/_plugins_panel","classes":"","permission":"surveysettings","permissionGrade":"read","data":"{\\"render\\": {\\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"pluginTabSurvey","language":"en-GB","showInCollapse":"0","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"}}},"quickmenu":{"id":"3","name":"quickmenu","ordering":"3","level":"0","title":"Quick menu","description":"Quick menu","entries":{"activateSurvey":{"id":"22","menuId":"3","userId":null,"ordering":"1","name":"activateSurvey","title":"Activate survey","menuTitle":"Activate survey","menuDescription":"Activate survey","menuIcon":"ri-play-fill","menuClass":"","menuLink":"surveyAdministration/activate","action":"","template":"","partial":"","classes":"","permission":"surveyactivation","permissionGrade":"update","data":"{\\"render\\": {\\"isActive\\": false, \\"link\\": {\\"data\\": {\\"iSurveyID\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"deactivateSurvey":{"id":"23","menuId":"3","userId":null,"ordering":"2","name":"deactivateSurvey","title":"Stop survey","menuTitle":"Stop survey","menuDescription":"Stop this survey","menuIcon":"ri-stop-fill","menuClass":"","menuLink":"surveyAdministration/deactivate","action":"","template":"","partial":"","classes":"","permission":"surveyactivation","permissionGrade":"update","data":"{\\"render\\": {\\"isActive\\": true, \\"link\\": {\\"data\\": {\\"surveyid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"testSurvey":{"id":"24","menuId":"3","userId":null,"ordering":"3","name":"testSurvey","title":"Go to survey","menuTitle":"Go to survey","menuDescription":"Go to survey","menuIcon":"ri-settings-5-fill","menuClass":"","menuLink":"survey/index/","action":"","template":"","partial":"","classes":"","permission":"","permissionGrade":"","data":"{\\"render\\": {\\"link\\": {\\"external\\": true, \\"data\\": {\\"sid\\": [\\"survey\\",\\"sid\\"], \\"newtest\\": \\"Y\\", \\"lang\\": [\\"survey\\",\\"language\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"surveyLogicFile":{"id":"25","menuId":"3","userId":null,"ordering":"4","name":"surveyLogicFile","title":"Survey logic file","menuTitle":"Survey logic file","menuDescription":"Survey logic file","menuIcon":"ri-git-branch-fill","menuClass":"","menuLink":"admin/expressions/sa/survey_logic_file/","action":"","template":"","partial":"","classes":"","permission":"surveycontent","permissionGrade":"read","data":"{\\"render\\": { \\"link\\": {\\"data\\": {\\"sid\\": [\\"survey\\",\\"sid\\"]}}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"},"cpdb":{"id":"26","menuId":"3","userId":null,"ordering":"5","name":"cpdb","title":"Central participant database","menuTitle":"Central participant database","menuDescription":"Central participant database","menuIcon":"ri-group-fill","menuClass":"","menuLink":"admin/participants/sa/displayParticipants","action":"","template":"","partial":"","classes":"","permission":"tokens","permissionGrade":"read","data":"{\\"render\\": {\\"link\\": {}}}","getDataMethod":"","language":"en-GB","showInCollapse":"1","active":"1","changedAt":"2023-12-08 10:19:48","changedBy":"0","createdAt":"2023-12-08 10:19:48","createdBy":"0"}}}},"questionGroups":[{"gid":4,"sid":596477,"sortOrder":1,"randomizationGroup":"","gRelevance":"1","l10ns":{"en":{"id":4,"gid":4,"groupName":"Text questions","description":"","language":"en"}},"questions":[{"qid":63,"parentQid":0,"sid":596477,"type":"T","title":"Q00","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":63,"qid":63,"question":"Long free text","help":"This is a question help text.","script":"","language":"en"}},"attributes":{"random_group":{"qid":"63","":{"qaid":"220","value":""}},"em_validation_q":{"qid":"63","":{"qaid":"221","value":""}},"em_validation_q_tip":{"qid":"63","en":{"qaid":"222","value":""}},"hide_tip":{"qid":"63","":{"qaid":"223","value":"0"}},"text_input_width":{"qid":"63","":{"qaid":"224","value":""}},"input_size":{"qid":"63","":{"qaid":"225","value":""}},"display_rows":{"qid":"63","":{"qaid":"226","value":""}},"hidden":{"qid":"63","":{"qaid":"227","value":"0"}},"cssclass":{"qid":"63","":{"qaid":"228","value":""}},"maximum_chars":{"qid":"63","":{"qaid":"229","value":""}},"page_break":{"qid":"63","":{"qaid":"230","value":"0"}},"time_limit":{"qid":"63","":{"qaid":"231","value":""}},"time_limit_action":{"qid":"63","":{"qaid":"232","value":"1"}},"time_limit_disable_next":{"qid":"63","":{"qaid":"233","value":"0"}},"time_limit_disable_prev":{"qid":"63","":{"qaid":"234","value":"0"}},"time_limit_countdown_message":{"qid":"63","en":{"qaid":"235","value":""}},"time_limit_timer_style":{"qid":"63","":{"qaid":"236","value":""}},"time_limit_message_delay":{"qid":"63","":{"qaid":"237","value":""}},"time_limit_message":{"qid":"63","en":{"qaid":"238","value":""}},"time_limit_message_style":{"qid":"63","":{"qaid":"239","value":""}},"time_limit_warning":{"qid":"63","":{"qaid":"240","value":""}},"time_limit_warning_display_time":{"qid":"63","":{"qaid":"241","value":""}},"time_limit_warning_message":{"qid":"63","en":{"qaid":"242","value":""}},"time_limit_warning_style":{"qid":"63","":{"qaid":"243","value":""}},"time_limit_warning_2":{"qid":"63","":{"qaid":"244","value":""}},"time_limit_warning_2_display_time":{"qid":"63","":{"qaid":"245","value":""}},"time_limit_warning_2_message":{"qid":"63","en":{"qaid":"246","value":""}},"time_limit_warning_2_style":{"qid":"63","":{"qaid":"247","value":""}},"statistics_showgraph":{"qid":"63","":{"qaid":"248","value":"1"}},"statistics_graphtype":{"qid":"63","":{"qaid":"249","value":"0"}},"save_as_default":{"qid":"63","":{"qaid":"250","value":"N"}}},"answers":[]},{"qid":64,"parentQid":0,"sid":596477,"type":"S","title":"G01Q02","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"shortfreetext","moduleName":"","gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":65,"qid":64,"question":"Short free text","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"64","":{"qaid":"251","value":""}},"em_validation_q":{"qid":"64","":{"qaid":"252","value":""}},"em_validation_q_tip":{"qid":"64","en":{"qaid":"253","value":""}},"prefix":{"qid":"64","en":{"qaid":"254","value":""}},"suffix":{"qid":"64","en":{"qaid":"255","value":""}},"hide_tip":{"qid":"64","":{"qaid":"256","value":"0"}},"text_input_width":{"qid":"64","":{"qaid":"257","value":""}},"input_size":{"qid":"64","":{"qaid":"258","value":""}},"display_rows":{"qid":"64","":{"qaid":"259","value":""}},"hidden":{"qid":"64","":{"qaid":"260","value":"0"}},"cssclass":{"qid":"64","":{"qaid":"261","value":""}},"maximum_chars":{"qid":"64","":{"qaid":"262","value":""}},"page_break":{"qid":"64","":{"qaid":"263","value":"0"}},"numbers_only":{"qid":"64","":{"qaid":"264","value":"0"}},"time_limit":{"qid":"64","":{"qaid":"265","value":""}},"time_limit_action":{"qid":"64","":{"qaid":"266","value":"1"}},"time_limit_disable_next":{"qid":"64","":{"qaid":"267","value":"0"}},"time_limit_disable_prev":{"qid":"64","":{"qaid":"268","value":"0"}},"time_limit_countdown_message":{"qid":"64","en":{"qaid":"269","value":""}},"time_limit_timer_style":{"qid":"64","":{"qaid":"270","value":""}},"time_limit_message_delay":{"qid":"64","":{"qaid":"271","value":""}},"time_limit_message":{"qid":"64","en":{"qaid":"272","value":""}},"time_limit_message_style":{"qid":"64","":{"qaid":"273","value":""}},"time_limit_warning":{"qid":"64","":{"qaid":"274","value":""}},"time_limit_warning_display_time":{"qid":"64","":{"qaid":"275","value":""}},"time_limit_warning_message":{"qid":"64","en":{"qaid":"276","value":""}},"time_limit_warning_style":{"qid":"64","":{"qaid":"277","value":""}},"time_limit_warning_2":{"qid":"64","":{"qaid":"278","value":""}},"time_limit_warning_2_display_time":{"qid":"64","":{"qaid":"279","value":""}},"time_limit_warning_2_message":{"qid":"64","en":{"qaid":"280","value":""}},"time_limit_warning_2_style":{"qid":"64","":{"qaid":"281","value":""}},"statistics_showmap":{"qid":"64","":{"qaid":"282","value":"1"}},"statistics_showgraph":{"qid":"64","":{"qaid":"283","value":"1"}},"statistics_graphtype":{"qid":"64","":{"qaid":"284","value":"0"}},"location_mapservice":{"qid":"64","":{"qaid":"285","value":"0"}},"location_nodefaultfromip":{"qid":"64","":{"qaid":"286","value":"0"}},"location_postal":{"qid":"64","":{"qaid":"287","value":"0"}},"location_city":{"qid":"64","":{"qaid":"288","value":"0"}},"location_state":{"qid":"64","":{"qaid":"289","value":"0"}},"location_country":{"qid":"64","":{"qaid":"290","value":"0"}},"location_mapzoom":{"qid":"64","":{"qaid":"291","value":"11"}},"location_defaultcoordinates":{"qid":"64","":{"qaid":"292","value":""}},"location_mapwidth":{"qid":"64","":{"qaid":"293","value":"500"}},"location_mapheight":{"qid":"64","":{"qaid":"294","value":"300"}},"save_as_default":{"qid":"64","":{"qaid":"295","value":"N"}}},"answers":[]},{"qid":66,"parentQid":0,"sid":596477,"type":"Q","title":"G01Q04","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":4,"scaleId":0,"sameDefault":null,"questionThemeName":"multipleshorttext","moduleName":"","gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":67,"qid":66,"question":"Multiple short text","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"66","":{"qaid":"327","value":""}},"max_answers":{"qid":"66","":{"qaid":"328","value":""}},"array_filter_style":{"qid":"66","":{"qaid":"329","value":"0"}},"array_filter_exclude":{"qid":"66","":{"qaid":"330","value":""}},"array_filter":{"qid":"66","":{"qaid":"331","value":""}},"exclude_all_others":{"qid":"66","":{"qaid":"332","value":""}},"random_group":{"qid":"66","":{"qaid":"333","value":""}},"em_validation_q":{"qid":"66","":{"qaid":"334","value":""}},"em_validation_q_tip":{"qid":"66","en":{"qaid":"335","value":""}},"em_validation_sq":{"qid":"66","":{"qaid":"336","value":""}},"em_validation_sq_tip":{"qid":"66","en":{"qaid":"337","value":""}},"prefix":{"qid":"66","en":{"qaid":"338","value":""}},"suffix":{"qid":"66","en":{"qaid":"339","value":""}},"text_input_columns":{"qid":"66","":{"qaid":"340","value":""}},"label_input_columns":{"qid":"66","":{"qaid":"341","value":""}},"hide_tip":{"qid":"66","":{"qaid":"342","value":"0"}},"display_rows":{"qid":"66","":{"qaid":"343","value":""}},"input_size":{"qid":"66","":{"qaid":"344","value":""}},"random_order":{"qid":"66","":{"qaid":"345","value":"0"}},"hidden":{"qid":"66","":{"qaid":"346","value":"0"}},"cssclass":{"qid":"66","":{"qaid":"347","value":""}},"maximum_chars":{"qid":"66","":{"qaid":"348","value":""}},"page_break":{"qid":"66","":{"qaid":"349","value":"0"}},"numbers_only":{"qid":"66","":{"qaid":"350","value":"0"}},"statistics_showgraph":{"qid":"66","":{"qaid":"351","value":"1"}},"statistics_graphtype":{"qid":"66","":{"qaid":"352","value":"0"}},"save_as_default":{"qid":"66","":{"qaid":"353","value":"N"}}},"subquestions":[{"qid":67,"parentQid":66,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":68,"qid":67,"question":"Example input 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":68,"parentQid":66,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":69,"qid":68,"question":"Example input 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":69,"parentQid":66,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":70,"qid":69,"question":"Example input 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":118,"parentQid":0,"sid":596477,"type":"Y","title":"G01Q22","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":5,"scaleId":0,"sameDefault":null,"questionThemeName":"yesno","moduleName":"","gid":4,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":123,"qid":118,"question":"Yes/No","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"118","":{"qaid":"803","value":""}},"display_type":{"qid":"118","":{"qaid":"804","value":"0"}},"hide_tip":{"qid":"118","":{"qaid":"805","value":"0"}},"hidden":{"qid":"118","":{"qaid":"806","value":"0"}},"cssclass":{"qid":"118","":{"qaid":"807","value":""}},"printable_help":{"qid":"118","en":{"qaid":"808","value":""}},"page_break":{"qid":"118","":{"qaid":"809","value":"0"}},"scale_export":{"qid":"118","":{"qaid":"810","value":"0"}},"public_statistics":{"qid":"118","":{"qaid":"811","value":"0"}},"statistics_showgraph":{"qid":"118","":{"qaid":"812","value":"1"}},"statistics_graphtype":{"qid":"118","":{"qaid":"813","value":"0"}},"save_as_default":{"qid":"118","":{"qaid":"814","value":"N"}}},"answers":[]}]},{"gid":5,"sid":596477,"sortOrder":2,"randomizationGroup":"","gRelevance":"","l10ns":{"en":{"id":5,"gid":5,"groupName":"Array questions","description":"","language":"en"}},"questions":[{"qid":70,"parentQid":0,"sid":596477,"type":"F","title":"G02Q05","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"arrays/array","moduleName":"","gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":72,"qid":70,"question":"Array","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"70","":{"qaid":"354","value":""}},"max_answers":{"qid":"70","":{"qaid":"355","value":""}},"array_filter_style":{"qid":"70","":{"qaid":"356","value":"0"}},"array_filter":{"qid":"70","":{"qaid":"357","value":""}},"array_filter_exclude":{"qid":"70","":{"qaid":"358","value":""}},"exclude_all_others":{"qid":"70","":{"qaid":"359","value":""}},"random_group":{"qid":"70","":{"qaid":"360","value":""}},"em_validation_q":{"qid":"70","":{"qaid":"361","value":""}},"em_validation_q_tip":{"qid":"70","en":{"qaid":"362","value":""}},"answer_width":{"qid":"70","":{"qaid":"363","value":""}},"repeat_headings":{"qid":"70","":{"qaid":"364","value":""}},"hide_tip":{"qid":"70","":{"qaid":"365","value":"0"}},"random_order":{"qid":"70","":{"qaid":"366","value":"0"}},"hidden":{"qid":"70","":{"qaid":"367","value":"0"}},"cssclass":{"qid":"70","":{"qaid":"368","value":""}},"use_dropdown":{"qid":"70","":{"qaid":"369","value":"0"}},"printable_help":{"qid":"70","en":{"qaid":"370","value":""}},"page_break":{"qid":"70","":{"qaid":"371","value":"0"}},"scale_export":{"qid":"70","":{"qaid":"372","value":"0"}},"public_statistics":{"qid":"70","":{"qaid":"373","value":"0"}},"statistics_showgraph":{"qid":"70","":{"qaid":"374","value":"1"}},"statistics_graphtype":{"qid":"70","":{"qaid":"375","value":"0"}},"save_as_default":{"qid":"70","":{"qaid":"376","value":"N"}}},"subquestions":[{"qid":71,"parentQid":70,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":73,"qid":71,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":74,"parentQid":70,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":76,"qid":74,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":75,"parentQid":70,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":77,"qid":75,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[{"aid":33,"qid":70,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":33,"aid":33,"answer":"Answer 1","language":"en"}}},{"aid":34,"qid":70,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":34,"aid":34,"answer":"Answer 2","language":"en"}}},{"aid":35,"qid":70,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":35,"aid":35,"answer":"Answer 3","language":"en"}}}]},{"qid":888,"parentQid":0,"sid":596477,"type":";","title":"G01Q01","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":false,"questionThemeName":"arrays/texts","moduleName":"","gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":478,"qid":888,"question":"","help":"","script":"","language":"en"}},"attributes":{"save_as_default":{"":"N"},"statistics_graphtype":{"":"0"},"statistics_showgraph":{"":"1"},"show_totals":{"":"X"},"show_grand_total":{"":"0"},"numbers_only":{"":"0"},"page_break":{"":"0"},"maximum_chars":{"":""},"cssclass":{"":""},"hidden":{"":"0"},"random_order":{"":"0"},"hide_tip":{"":"0"},"input_size":{"":""},"placeholder":{"en":""},"repeat_headings":{"":""},"answer_width":{"":""},"em_validation_sq_tip":{"en":""},"em_validation_sq":{"":""},"em_validation_q_tip":{"en":""},"em_validation_q":{"":""},"random_group":{"":""},"array_filter":{"":""},"array_filter_style":{"":"0"},"array_filter_exclude":{"":""},"max_answers":{"":""},"min_answers":{"":""}},"subquestions":[{"qid":237,"parentQid":236,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":479,"qid":237,"question":"Y1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":238,"parentQid":236,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":480,"qid":238,"question":"X1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":239,"parentQid":236,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":481,"qid":239,"question":"Y2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":240,"parentQid":236,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":3,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":482,"qid":240,"question":"Y3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":241,"parentQid":236,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":4,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":483,"qid":241,"question":"X2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":242,"parentQid":236,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":5,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":484,"qid":242,"question":"X3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":236,"parentQid":0,"sid":596477,"type":":","title":"G01Q01","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":false,"questionThemeName":"arrays/multiflexi","moduleName":"","gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":478,"qid":236,"question":"","help":"","script":"","language":"en"}},"attributes":{"public_statistics":{"":"0"},"scale_export":{"":"0"},"printable_help":{"en":""},"multiflexible_max":{"":""},"multiflexible_step":{"":"1"},"input_boxes":{"":"0"},"multiflexible_min":{"":""},"parent_order":{"":""},"reverse":{"":"0"},"multiflexible_checkbox":{"":"0"},"save_as_default":{"":"N"},"statistics_graphtype":{"":"0"},"statistics_showgraph":{"":"1"},"show_totals":{"":"X"},"show_grand_total":{"":"0"},"numbers_only":{"":"0"},"page_break":{"":"0"},"maximum_chars":{"":""},"cssclass":{"":""},"hidden":{"":"0"},"random_order":{"":"0"},"hide_tip":{"":"0"},"input_size":{"":""},"placeholder":{"en":""},"repeat_headings":{"":""},"answer_width":{"":""},"em_validation_sq_tip":{"en":""},"em_validation_sq":{"":""},"em_validation_q_tip":{"en":""},"em_validation_q":{"":""},"random_group":{"":""},"array_filter":{"":""},"array_filter_style":{"":"0"},"array_filter_exclude":{"":""},"max_answers":{"":""},"min_answers":{"":""}},"subquestions":[{"qid":237,"parentQid":236,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":479,"qid":237,"question":"Y1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":239,"parentQid":236,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":481,"qid":239,"question":"Y2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":240,"parentQid":236,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"1","sameScript":false,"l10ns":{"en":{"id":482,"qid":240,"question":"Y3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":238,"parentQid":236,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":3,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":480,"qid":238,"question":"X1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":241,"parentQid":236,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":4,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":483,"qid":241,"question":"X2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":242,"parentQid":236,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":5,"scaleId":1,"sameDefault":false,"questionThemeName":null,"moduleName":null,"gid":275,"relevance":"","sameScript":false,"l10ns":{"en":{"id":484,"qid":242,"question":"X3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":86,"parentQid":0,"sid":596477,"type":"H","title":"G02Q010","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":4,"scaleId":0,"sameDefault":null,"questionThemeName":"arrays/column","moduleName":"","gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":88,"qid":86,"question":"Array by column","help":"","script":"","language":"en"}},"attributes":{"public_statistics":{"qid":"86","":{"qaid":"461","value":"0"}},"scale_export":{"qid":"86","":{"qaid":"460","value":"0"}},"page_break":{"qid":"86","":{"qaid":"459","value":"0"}},"printable_help":{"qid":"86","en":{"qaid":"458","value":""}},"cssclass":{"qid":"86","":{"qaid":"457","value":""}},"hidden":{"qid":"86","":{"qaid":"456","value":"0"}},"answer_width_bycolumn":{"qid":"86","":{"qaid":"455","value":""}},"hide_tip":{"qid":"86","":{"qaid":"454","value":"0"}},"random_order":{"qid":"86","":{"qaid":"453","value":"0"}},"em_validation_q_tip":{"qid":"86","en":{"qaid":"452","value":""}},"em_validation_q":{"qid":"86","":{"qaid":"451","value":""}},"random_group":{"qid":"86","":{"qaid":"450","value":""}},"statistics_showgraph":{"qid":"86","":{"qaid":"462","value":"1"}},"statistics_graphtype":{"qid":"86","":{"qaid":"463","value":"0"}},"save_as_default":{"qid":"86","":{"qaid":"464","value":"N"}}},"subquestions":[{"qid":87,"parentQid":86,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":89,"qid":87,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":88,"parentQid":86,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":90,"qid":88,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":89,"parentQid":86,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":91,"qid":89,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[{"aid":40,"qid":86,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":40,"aid":40,"answer":"Answer 1","language":"en"}}},{"aid":41,"qid":86,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":41,"aid":41,"answer":"Answer 2","language":"en"}}},{"aid":42,"qid":86,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":42,"aid":42,"answer":"Answer 3","language":"en"}}}]},{"qid":90,"parentQid":0,"sid":596477,"type":"1","title":"G02Q09","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":5,"scaleId":0,"sameDefault":null,"questionThemeName":"arrays/dualscale","moduleName":"","gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":92,"qid":90,"question":"Array dual scale","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"90","":{"qaid":"465","value":""}},"max_answers":{"qid":"90","":{"qaid":"466","value":""}},"array_filter_exclude":{"qid":"90","":{"qaid":"467","value":""}},"array_filter":{"qid":"90","":{"qaid":"468","value":""}},"array_filter_style":{"qid":"90","":{"qaid":"469","value":"0"}},"random_group":{"qid":"90","":{"qaid":"470","value":""}},"repeat_headings":{"qid":"90","":{"qaid":"471","value":""}},"random_order":{"qid":"90","":{"qaid":"472","value":"0"}},"hide_tip":{"qid":"90","":{"qaid":"473","value":"0"}},"answer_width":{"qid":"90","":{"qaid":"474","value":""}},"hidden":{"qid":"90","":{"qaid":"475","value":"0"}},"cssclass":{"qid":"90","":{"qaid":"476","value":""}},"dualscale_headerA":{"qid":"90","en":{"qaid":"477","value":""}},"dualscale_headerB":{"qid":"90","en":{"qaid":"478","value":""}},"use_dropdown":{"qid":"90","":{"qaid":"479","value":"0"}},"dropdown_prepostfix":{"qid":"90","en":{"qaid":"480","value":""}},"dropdown_separators":{"qid":"90","":{"qaid":"481","value":""}},"printable_help":{"qid":"90","en":{"qaid":"482","value":""}},"page_break":{"qid":"90","":{"qaid":"483","value":"0"}},"scale_export":{"qid":"90","":{"qaid":"484","value":"0"}},"public_statistics":{"qid":"90","":{"qaid":"485","value":"0"}},"statistics_showgraph":{"qid":"90","":{"qaid":"486","value":"1"}},"statistics_graphtype":{"qid":"90","":{"qaid":"487","value":"0"}},"save_as_default":{"qid":"90","":{"qaid":"488","value":"N"}}},"subquestions":[{"qid":91,"parentQid":90,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":93,"qid":91,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":92,"parentQid":90,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":94,"qid":92,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":93,"parentQid":90,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":5,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":95,"qid":93,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[{"aid":63,"qid":90,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":63,"aid":63,"answer":"Answer 1","language":"en"}}},{"aid":64,"qid":90,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":64,"aid":64,"answer":"Answer 2","language":"en"}}},{"aid":65,"qid":90,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":65,"aid":65,"answer":"Answer 3","language":"en"}}},{"aid":66,"qid":90,"code":"AO01","sortOrder":3,"assessmentValue":0,"scaleId":1,"l10ns":{"en":{"id":66,"aid":66,"answer":"Answer 1","language":"en"}}},{"aid":67,"qid":90,"code":"AO02","sortOrder":4,"assessmentValue":0,"scaleId":1,"l10ns":{"en":{"id":67,"aid":67,"answer":"Answer 2","language":"en"}}},{"aid":68,"qid":90,"code":"AO03","sortOrder":5,"assessmentValue":0,"scaleId":1,"l10ns":{"en":{"id":68,"aid":68,"answer":"Answer 3","language":"en"}}}]}]},{"gid":6,"sid":596477,"sortOrder":3,"randomizationGroup":"","gRelevance":"","l10ns":{"en":{"id":6,"gid":6,"groupName":"Multiple choice questions","description":"","language":"en"}},"questions":[{"qid":94,"parentQid":0,"sid":596477,"type":"M","title":"G03Q10","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"multiplechoice","moduleName":"","gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":97,"qid":94,"question":"Multiple choice","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"94","":{"qaid":"489","value":""}},"max_answers":{"qid":"94","":{"qaid":"490","value":""}},"array_filter_exclude":{"qid":"94","":{"qaid":"491","value":""}},"array_filter_style":{"qid":"94","":{"qaid":"492","value":"0"}},"assessment_value":{"qid":"94","":{"qaid":"493","value":"1"}},"other_numbers_only":{"qid":"94","":{"qaid":"494","value":"0"}},"array_filter":{"qid":"94","":{"qaid":"495","value":""}},"exclude_all_others":{"qid":"94","":{"qaid":"496","value":""}},"exclude_all_others_auto":{"qid":"94","":{"qaid":"497","value":"0"}},"random_group":{"qid":"94","":{"qaid":"498","value":""}},"em_validation_q":{"qid":"94","":{"qaid":"499","value":""}},"em_validation_q_tip":{"qid":"94","en":{"qaid":"500","value":""}},"other_replace_text":{"qid":"94","en":{"qaid":"501","value":""}},"display_columns":{"qid":"94","":{"qaid":"502","value":""}},"hide_tip":{"qid":"94","":{"qaid":"503","value":"0"}},"random_order":{"qid":"94","":{"qaid":"504","value":"0"}},"hidden":{"qid":"94","":{"qaid":"505","value":"0"}},"cssclass":{"qid":"94","":{"qaid":"506","value":""}},"other_position":{"qid":"94","":{"qaid":"507","value":"end"}},"other_position_code":{"qid":"94","":{"qaid":"508","value":""}},"printable_help":{"qid":"94","en":{"qaid":"509","value":""}},"page_break":{"qid":"94","":{"qaid":"510","value":"0"}},"scale_export":{"qid":"94","":{"qaid":"511","value":"0"}},"public_statistics":{"qid":"94","":{"qaid":"512","value":"0"}},"statistics_showgraph":{"qid":"94","":{"qaid":"513","value":"1"}},"statistics_graphtype":{"qid":"94","":{"qaid":"514","value":"0"}},"save_as_default":{"qid":"94","":{"qaid":"515","value":"N"}}},"subquestions":[{"qid":95,"parentQid":94,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":98,"qid":95,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":96,"parentQid":94,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":99,"qid":96,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":97,"parentQid":94,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":100,"qid":97,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":98,"parentQid":0,"sid":596477,"type":"P","title":"G03Q11","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"multiplechoice_with_comments","moduleName":"","gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":101,"qid":98,"question":"Multiple choice with comments","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"98","":{"qaid":"516","value":""}},"max_answers":{"qid":"98","":{"qaid":"517","value":""}},"array_filter_exclude":{"qid":"98","":{"qaid":"518","value":""}},"other_numbers_only":{"qid":"98","":{"qaid":"519","value":"0"}},"other_comment_mandatory":{"qid":"98","":{"qaid":"520","value":"0"}},"assessment_value":{"qid":"98","":{"qaid":"521","value":"1"}},"array_filter":{"qid":"98","":{"qaid":"522","value":""}},"array_filter_style":{"qid":"98","":{"qaid":"523","value":"0"}},"commented_checkbox":{"qid":"98","":{"qaid":"524","value":"checked"}},"commented_checkbox_auto":{"qid":"98","":{"qaid":"525","value":"1"}},"exclude_all_others":{"qid":"98","":{"qaid":"526","value":""}},"exclude_all_others_auto":{"qid":"98","":{"qaid":"527","value":"0"}},"random_group":{"qid":"98","":{"qaid":"528","value":""}},"em_validation_q":{"qid":"98","":{"qaid":"529","value":""}},"em_validation_q_tip":{"qid":"98","en":{"qaid":"530","value":""}},"choice_input_columns":{"qid":"98","":{"qaid":"531","value":""}},"text_input_columns":{"qid":"98","":{"qaid":"532","value":""}},"other_replace_text":{"qid":"98","en":{"qaid":"533","value":""}},"hide_tip":{"qid":"98","":{"qaid":"534","value":"0"}},"random_order":{"qid":"98","":{"qaid":"535","value":"0"}},"hidden":{"qid":"98","":{"qaid":"536","value":"0"}},"cssclass":{"qid":"98","":{"qaid":"537","value":""}},"other_position":{"qid":"98","":{"qaid":"538","value":"end"}},"other_position_code":{"qid":"98","":{"qaid":"539","value":""}},"printable_help":{"qid":"98","en":{"qaid":"540","value":""}},"page_break":{"qid":"98","":{"qaid":"541","value":"0"}},"scale_export":{"qid":"98","":{"qaid":"542","value":"0"}},"public_statistics":{"qid":"98","":{"qaid":"543","value":"0"}},"statistics_showgraph":{"qid":"98","":{"qaid":"544","value":"1"}},"save_as_default":{"qid":"98","":{"qaid":"545","value":"N"}}},"subquestions":[{"qid":99,"parentQid":98,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":102,"qid":99,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":100,"parentQid":98,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":103,"qid":100,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":101,"parentQid":98,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":104,"qid":101,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":102,"parentQid":0,"sid":596477,"type":"M","title":"G03Q12","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":3,"scaleId":0,"sameDefault":null,"questionThemeName":"bootstrap_buttons_multi","moduleName":"","gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":105,"qid":102,"question":"Multiple choice buttons","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"102","":{"qaid":"546","value":""}},"max_answers":{"qid":"102","":{"qaid":"547","value":""}},"other_numbers_only":{"qid":"102","":{"qaid":"548","value":"0"}},"array_filter_exclude":{"qid":"102","":{"qaid":"549","value":""}},"assessment_value":{"qid":"102","":{"qaid":"550","value":"1"}},"array_filter":{"qid":"102","":{"qaid":"551","value":""}},"array_filter_style":{"qid":"102","":{"qaid":"552","value":"0"}},"exclude_all_others":{"qid":"102","":{"qaid":"553","value":""}},"exclude_all_others_auto":{"qid":"102","":{"qaid":"554","value":"0"}},"random_group":{"qid":"102","":{"qaid":"555","value":""}},"em_validation_q":{"qid":"102","":{"qaid":"556","value":""}},"em_validation_q_tip":{"qid":"102","en":{"qaid":"557","value":""}},"other_replace_text":{"qid":"102","en":{"qaid":"558","value":""}},"hide_tip":{"qid":"102","":{"qaid":"559","value":"0"}},"random_order":{"qid":"102","":{"qaid":"560","value":"0"}},"hidden":{"qid":"102","":{"qaid":"561","value":"0"}},"cssclass":{"qid":"102","":{"qaid":"562","value":""}},"other_position":{"qid":"102","":{"qaid":"563","value":"end"}},"other_position_code":{"qid":"102","":{"qaid":"564","value":""}},"printable_help":{"qid":"102","en":{"qaid":"565","value":""}},"page_break":{"qid":"102","":{"qaid":"566","value":"0"}},"scale_export":{"qid":"102","":{"qaid":"567","value":"0"}},"public_statistics":{"qid":"102","":{"qaid":"568","value":"0"}},"statistics_showgraph":{"qid":"102","":{"qaid":"569","value":"1"}},"statistics_graphtype":{"qid":"102","":{"qaid":"570","value":"0"}},"save_as_default":{"qid":"102","":{"qaid":"571","value":"N"}}},"subquestions":[{"qid":103,"parentQid":102,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":106,"qid":103,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":104,"parentQid":102,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":107,"qid":104,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":105,"parentQid":102,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":6,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":108,"qid":105,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]}]},{"gid":7,"sid":596477,"sortOrder":4,"randomizationGroup":"","gRelevance":"","l10ns":{"en":{"id":7,"gid":7,"groupName":"Single choice questions","description":"","language":"en"}},"questions":[{"qid":106,"parentQid":0,"sid":596477,"type":"L","title":"G04Q13","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"listradio","moduleName":"","gid":7,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":110,"qid":106,"question":"List (Radio)","help":"","script":"","language":"en"}},"attributes":{"array_filter_exclude":{"qid":"106","":{"qaid":"572","value":""}},"array_filter":{"qid":"106","":{"qaid":"573","value":""}},"other_comment_mandatory":{"qid":"106","":{"qaid":"574","value":"0"}},"other_numbers_only":{"qid":"106","":{"qaid":"575","value":"0"}},"array_filter_style":{"qid":"106","":{"qaid":"576","value":"0"}},"random_group":{"qid":"106","":{"qaid":"577","value":""}},"em_validation_q":{"qid":"106","":{"qaid":"578","value":""}},"em_validation_q_tip":{"qid":"106","en":{"qaid":"579","value":""}},"other_replace_text":{"qid":"106","en":{"qaid":"580","value":""}},"answer_order":{"qid":"106","":{"qaid":"581","value":"normal"}},"display_columns":{"qid":"106","":{"qaid":"582","value":""}},"hide_tip":{"qid":"106","":{"qaid":"583","value":"0"}},"hidden":{"qid":"106","":{"qaid":"584","value":"0"}},"cssclass":{"qid":"106","":{"qaid":"585","value":""}},"other_position":{"qid":"106","":{"qaid":"586","value":"default"}},"other_position_code":{"qid":"106","":{"qaid":"587","value":""}},"printable_help":{"qid":"106","en":{"qaid":"588","value":""}},"page_break":{"qid":"106","":{"qaid":"589","value":"0"}},"scale_export":{"qid":"106","":{"qaid":"590","value":"0"}},"time_limit":{"qid":"106","":{"qaid":"591","value":""}},"time_limit_action":{"qid":"106","":{"qaid":"592","value":"1"}},"time_limit_disable_next":{"qid":"106","":{"qaid":"593","value":"0"}},"time_limit_disable_prev":{"qid":"106","":{"qaid":"594","value":"0"}},"time_limit_countdown_message":{"qid":"106","en":{"qaid":"595","value":""}},"time_limit_timer_style":{"qid":"106","":{"qaid":"596","value":""}},"time_limit_message_delay":{"qid":"106","":{"qaid":"597","value":""}},"time_limit_message":{"qid":"106","en":{"qaid":"598","value":""}},"time_limit_message_style":{"qid":"106","":{"qaid":"599","value":""}},"time_limit_warning":{"qid":"106","":{"qaid":"600","value":""}},"time_limit_warning_display_time":{"qid":"106","":{"qaid":"601","value":""}},"time_limit_warning_message":{"qid":"106","en":{"qaid":"602","value":""}},"time_limit_warning_style":{"qid":"106","":{"qaid":"603","value":""}},"time_limit_warning_2":{"qid":"106","":{"qaid":"604","value":""}},"time_limit_warning_2_display_time":{"qid":"106","":{"qaid":"605","value":""}},"time_limit_warning_2_message":{"qid":"106","en":{"qaid":"606","value":""}},"time_limit_warning_2_style":{"qid":"106","":{"qaid":"607","value":""}},"public_statistics":{"qid":"106","":{"qaid":"608","value":"0"}},"statistics_showgraph":{"qid":"106","":{"qaid":"609","value":"1"}},"statistics_graphtype":{"qid":"106","":{"qaid":"610","value":"0"}},"save_as_default":{"qid":"106","":{"qaid":"611","value":"N"}}},"answers":[{"aid":76,"qid":106,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":76,"aid":76,"answer":"Answer 1","language":"en"}}},{"aid":77,"qid":106,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":77,"aid":77,"answer":"Answer 2","language":"en"}}},{"aid":78,"qid":106,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":78,"aid":78,"answer":"Answer 3","language":"en"}}},{"aid":79,"qid":106,"code":"AO04","sortOrder":3,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":79,"aid":79,"answer":"Answer 4","language":"en"}}}]},{"qid":107,"parentQid":0,"sid":596477,"type":"O","title":"G04Q14","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"list_with_comment","moduleName":"","gid":7,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":111,"qid":107,"question":"List with comment","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"107","":{"qaid":"612","value":""}},"em_validation_q":{"qid":"107","":{"qaid":"613","value":""}},"em_validation_q_tip":{"qid":"107","en":{"qaid":"614","value":""}},"answer_order":{"qid":"107","":{"qaid":"615","value":"normal"}},"hide_tip":{"qid":"107","":{"qaid":"616","value":"0"}},"hidden":{"qid":"107","":{"qaid":"617","value":"0"}},"cssclass":{"qid":"107","":{"qaid":"618","value":""}},"use_dropdown":{"qid":"107","":{"qaid":"619","value":"0"}},"printable_help":{"qid":"107","en":{"qaid":"620","value":""}},"page_break":{"qid":"107","":{"qaid":"621","value":"0"}},"scale_export":{"qid":"107","":{"qaid":"622","value":"0"}},"public_statistics":{"qid":"107","":{"qaid":"623","value":"0"}},"statistics_showgraph":{"qid":"107","":{"qaid":"624","value":"1"}},"statistics_graphtype":{"qid":"107","":{"qaid":"625","value":"0"}},"save_as_default":{"qid":"107","":{"qaid":"626","value":"N"}}},"answers":[{"aid":84,"qid":107,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":84,"aid":84,"answer":"Answer 1","language":"en"}}},{"aid":85,"qid":107,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":85,"aid":85,"answer":"Answer 2","language":"en"}}},{"aid":86,"qid":107,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":86,"aid":86,"answer":"Answer 3","language":"en"}}},{"aid":87,"qid":107,"code":"AO04","sortOrder":3,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":87,"aid":87,"answer":"Answer 4","language":"en"}}}]},{"qid":108,"parentQid":0,"sid":596477,"type":"5","title":"G04Q15","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":3,"scaleId":0,"sameDefault":null,"questionThemeName":"5pointchoice","moduleName":"","gid":7,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":112,"qid":108,"question":"5 Point choice","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"108","":{"qaid":"627","value":""}},"em_validation_q":{"qid":"108","":{"qaid":"628","value":""}},"em_validation_q_tip":{"qid":"108","en":{"qaid":"629","value":""}},"slider_rating":{"qid":"108","":{"qaid":"630","value":"0"}},"hide_tip":{"qid":"108","":{"qaid":"631","value":"0"}},"hidden":{"qid":"108","":{"qaid":"632","value":"0"}},"cssclass":{"qid":"108","":{"qaid":"633","value":""}},"printable_help":{"qid":"108","en":{"qaid":"634","value":""}},"page_break":{"qid":"108","":{"qaid":"635","value":"0"}},"public_statistics":{"qid":"108","":{"qaid":"636","value":"0"}},"statistics_showgraph":{"qid":"108","":{"qaid":"637","value":"1"}},"statistics_graphtype":{"qid":"108","":{"qaid":"638","value":"0"}},"save_as_default":{"qid":"108","":{"qaid":"639","value":"N"}}},"answers":[{"aid":88,"qid":108,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":88,"aid":88,"answer":"Answer 1","language":"en"}}},{"aid":89,"qid":108,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":89,"aid":89,"answer":"Answer 2","language":"en"}}},{"aid":90,"qid":108,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":90,"aid":90,"answer":"Answer 3","language":"en"}}},{"aid":91,"qid":108,"code":"AO04","sortOrder":3,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":91,"aid":91,"answer":"Answer 4","language":"en"}}}]},{"qid":109,"parentQid":0,"sid":596477,"type":"!","title":"G04Q16","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":4,"scaleId":0,"sameDefault":null,"questionThemeName":"list_dropdown","moduleName":"","gid":7,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":113,"qid":109,"question":"List dropdown.","help":"","script":"","language":"en"}},"attributes":{"other_comment_mandatory":{"qid":"109","":{"qaid":"640","value":"0"}},"random_group":{"qid":"109","":{"qaid":"641","value":""}},"em_validation_q":{"qid":"109","":{"qaid":"642","value":""}},"em_validation_q_tip":{"qid":"109","en":{"qaid":"643","value":""}},"category_separator":{"qid":"109","":{"qaid":"644","value":""}},"answer_order":{"qid":"109","":{"qaid":"645","value":"normal"}},"other_replace_text":{"qid":"109","en":{"qaid":"646","value":""}},"hide_tip":{"qid":"109","":{"qaid":"647","value":"0"}},"hidden":{"qid":"109","":{"qaid":"648","value":"0"}},"cssclass":{"qid":"109","":{"qaid":"649","value":""}},"other_position":{"qid":"109","":{"qaid":"650","value":"default"}},"other_position_code":{"qid":"109","":{"qaid":"651","value":""}},"dropdown_size":{"qid":"109","":{"qaid":"652","value":""}},"printable_help":{"qid":"109","en":{"qaid":"653","value":""}},"dropdown_prefix":{"qid":"109","":{"qaid":"654","value":"0"}},"page_break":{"qid":"109","":{"qaid":"655","value":"0"}},"scale_export":{"qid":"109","":{"qaid":"656","value":"0"}},"time_limit":{"qid":"109","":{"qaid":"657","value":""}},"time_limit_action":{"qid":"109","":{"qaid":"658","value":"1"}},"time_limit_disable_next":{"qid":"109","":{"qaid":"659","value":"0"}},"time_limit_disable_prev":{"qid":"109","":{"qaid":"660","value":"0"}},"time_limit_countdown_message":{"qid":"109","en":{"qaid":"661","value":""}},"time_limit_timer_style":{"qid":"109","":{"qaid":"662","value":""}},"time_limit_message_delay":{"qid":"109","":{"qaid":"663","value":""}},"time_limit_message":{"qid":"109","en":{"qaid":"664","value":""}},"time_limit_message_style":{"qid":"109","":{"qaid":"665","value":""}},"time_limit_warning":{"qid":"109","":{"qaid":"666","value":""}},"time_limit_warning_display_time":{"qid":"109","":{"qaid":"667","value":""}},"time_limit_warning_message":{"qid":"109","en":{"qaid":"668","value":""}},"time_limit_warning_style":{"qid":"109","":{"qaid":"669","value":""}},"time_limit_warning_2":{"qid":"109","":{"qaid":"670","value":""}},"time_limit_warning_2_display_time":{"qid":"109","":{"qaid":"671","value":""}},"time_limit_warning_2_message":{"qid":"109","en":{"qaid":"672","value":""}},"time_limit_warning_2_style":{"qid":"109","":{"qaid":"673","value":""}},"public_statistics":{"qid":"109","":{"qaid":"674","value":"0"}},"statistics_showgraph":{"qid":"109","":{"qaid":"675","value":"1"}},"statistics_graphtype":{"qid":"109","":{"qaid":"676","value":"0"}},"save_as_default":{"qid":"109","":{"qaid":"677","value":"N"}}},"answers":[{"aid":96,"qid":109,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":96,"aid":96,"answer":"Answer 1","language":"en"}}},{"aid":97,"qid":109,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":97,"aid":97,"answer":"Answer 2","language":"en"}}},{"aid":98,"qid":109,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":98,"aid":98,"answer":"Answer 3","language":"en"}}},{"aid":99,"qid":109,"code":"AO04","sortOrder":3,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":99,"aid":99,"answer":"Answer 4","language":"en"}}}]},{"qid":110,"parentQid":0,"sid":596477,"type":"L","title":"G04Q17","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":5,"scaleId":0,"sameDefault":null,"questionThemeName":"bootstrap_buttons","moduleName":"","gid":7,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":114,"qid":110,"question":"Single choice buttons","help":"","script":"","language":"en"}},"attributes":{"array_filter_exclude":{"qid":"110","":{"qaid":"678","value":""}},"array_filter":{"qid":"110","":{"qaid":"679","value":""}},"other_comment_mandatory":{"qid":"110","":{"qaid":"680","value":"0"}},"other_numbers_only":{"qid":"110","":{"qaid":"681","value":"0"}},"array_filter_style":{"qid":"110","":{"qaid":"682","value":"0"}},"random_group":{"qid":"110","":{"qaid":"683","value":""}},"em_validation_q":{"qid":"110","":{"qaid":"684","value":""}},"em_validation_q_tip":{"qid":"110","en":{"qaid":"685","value":""}},"answer_order":{"qid":"110","":{"qaid":"686","value":"normal"}},"hide_tip":{"qid":"110","":{"qaid":"687","value":"0"}},"other_replace_text":{"qid":"110","en":{"qaid":"688","value":""}},"hidden":{"qid":"110","":{"qaid":"689","value":"0"}},"cssclass":{"qid":"110","":{"qaid":"690","value":""}},"other_position":{"qid":"110","":{"qaid":"691","value":"default"}},"other_position_code":{"qid":"110","":{"qaid":"692","value":""}},"printable_help":{"qid":"110","en":{"qaid":"693","value":""}},"page_break":{"qid":"110","":{"qaid":"694","value":"0"}},"scale_export":{"qid":"110","":{"qaid":"695","value":"0"}},"time_limit":{"qid":"110","":{"qaid":"696","value":""}},"time_limit_action":{"qid":"110","":{"qaid":"697","value":"1"}},"time_limit_disable_next":{"qid":"110","":{"qaid":"698","value":"0"}},"time_limit_disable_prev":{"qid":"110","":{"qaid":"699","value":"0"}},"time_limit_countdown_message":{"qid":"110","en":{"qaid":"700","value":""}},"time_limit_timer_style":{"qid":"110","":{"qaid":"701","value":""}},"time_limit_message_delay":{"qid":"110","":{"qaid":"702","value":""}},"time_limit_message":{"qid":"110","en":{"qaid":"703","value":""}},"time_limit_message_style":{"qid":"110","":{"qaid":"704","value":""}},"time_limit_warning":{"qid":"110","":{"qaid":"705","value":""}},"time_limit_warning_display_time":{"qid":"110","":{"qaid":"706","value":""}},"time_limit_warning_message":{"qid":"110","en":{"qaid":"707","value":""}},"time_limit_warning_style":{"qid":"110","":{"qaid":"708","value":""}},"time_limit_warning_2":{"qid":"110","":{"qaid":"709","value":""}},"time_limit_warning_2_display_time":{"qid":"110","":{"qaid":"710","value":""}},"time_limit_warning_2_message":{"qid":"110","en":{"qaid":"711","value":""}},"time_limit_warning_2_style":{"qid":"110","":{"qaid":"712","value":""}},"public_statistics":{"qid":"110","":{"qaid":"713","value":"0"}},"statistics_showgraph":{"qid":"110","":{"qaid":"714","value":"1"}},"statistics_graphtype":{"qid":"110","":{"qaid":"715","value":"0"}},"button_size":{"qid":"110","":{"qaid":"716","value":"default"}},"save_as_default":{"qid":"110","":{"qaid":"717","value":"N"}}},"answers":[{"aid":104,"qid":110,"code":"AO01","sortOrder":0,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":104,"aid":104,"answer":"Answer 1","language":"en"}}},{"aid":105,"qid":110,"code":"AO02","sortOrder":1,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":105,"aid":105,"answer":"Answer 2","language":"en"}}},{"aid":106,"qid":110,"code":"AO03","sortOrder":2,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":106,"aid":106,"answer":"Answer 3","language":"en"}}},{"aid":107,"qid":110,"code":"AO04","sortOrder":3,"assessmentValue":0,"scaleId":0,"l10ns":{"en":{"id":107,"aid":107,"answer":"Answer 4","language":"en"}}}]}]},{"gid":8,"sid":596477,"sortOrder":5,"randomizationGroup":"","gRelevance":"","l10ns":{"en":{"id":8,"gid":8,"groupName":"Mask questions","description":"","language":"en"}},"questions":[{"qid":111,"parentQid":0,"sid":596477,"type":"K","title":"G05Q18","preg":"","other":false,"mandatory":false,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"multiplenumeric","moduleName":"","gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":116,"qid":111,"question":"<h3>Multiple numerical input</h3>\\r\\n","help":"","script":"","language":"en"}},"attributes":{"min_answers":{"qid":"111","":{"qaid":"718","value":""}},"max_answers":{"qid":"111","":{"qaid":"719","value":""}},"array_filter":{"qid":"111","":{"qaid":"720","value":""}},"array_filter_exclude":{"qid":"111","":{"qaid":"721","value":""}},"array_filter_style":{"qid":"111","":{"qaid":"722","value":"0"}},"exclude_all_others":{"qid":"111","":{"qaid":"723","value":""}},"random_group":{"qid":"111","":{"qaid":"724","value":""}},"em_validation_q":{"qid":"111","":{"qaid":"725","value":""}},"em_validation_q_tip":{"qid":"111","en":{"qaid":"726","value":""}},"em_validation_sq":{"qid":"111","":{"qaid":"727","value":""}},"em_validation_sq_tip":{"qid":"111","en":{"qaid":"728","value":""}},"prefix":{"qid":"111","en":{"qaid":"729","value":""}},"suffix":{"qid":"111","en":{"qaid":"730","value":""}},"label_input_columns":{"qid":"111","":{"qaid":"731","value":""}},"random_order":{"qid":"111","":{"qaid":"732","value":"0"}},"text_input_width":{"qid":"111","":{"qaid":"733","value":""}},"hide_tip":{"qid":"111","":{"qaid":"734","value":"0"}},"input_size":{"qid":"111","":{"qaid":"735","value":""}},"hidden":{"qid":"111","":{"qaid":"736","value":"0"}},"cssclass":{"qid":"111","":{"qaid":"737","value":""}},"printable_help":{"qid":"111","en":{"qaid":"738","value":""}},"value_range_allows_missing":{"qid":"111","":{"qaid":"739","value":"1"}},"num_value_int_only":{"qid":"111","":{"qaid":"740","value":"0"}},"min_num_value_n":{"qid":"111","":{"qaid":"741","value":""}},"min_num_value":{"qid":"111","":{"qaid":"742","value":""}},"maximum_chars":{"qid":"111","":{"qaid":"743","value":""}},"equals_num_value":{"qid":"111","":{"qaid":"744","value":""}},"max_num_value":{"qid":"111","":{"qaid":"745","value":""}},"max_num_value_n":{"qid":"111","":{"qaid":"746","value":""}},"page_break":{"qid":"111","":{"qaid":"747","value":"0"}},"public_statistics":{"qid":"111","":{"qaid":"748","value":"0"}},"statistics_showgraph":{"qid":"111","":{"qaid":"749","value":"1"}},"statistics_graphtype":{"qid":"111","":{"qaid":"750","value":"0"}},"slider_layout":{"qid":"111","":{"qaid":"751","value":"0"}},"slider_orientation":{"qid":"111","":{"qaid":"752","value":"0"}},"slider_handle":{"qid":"111","":{"qaid":"753","value":"0"}},"slider_custom_handle":{"qid":"111","":{"qaid":"754","value":"f1ae"}},"slider_min":{"qid":"111","":{"qaid":"755","value":""}},"slider_max":{"qid":"111","":{"qaid":"756","value":""}},"slider_accuracy":{"qid":"111","":{"qaid":"757","value":""}},"slider_middlestart":{"qid":"111","":{"qaid":"758","value":"0"}},"slider_reversed":{"qid":"111","":{"qaid":"759","value":"0"}},"slider_reset":{"qid":"111","":{"qaid":"760","value":"0"}},"slider_default":{"qid":"111","":{"qaid":"761","value":""}},"slider_default_set":{"qid":"111","":{"qaid":"762","value":"1"}},"slider_showminmax":{"qid":"111","":{"qaid":"763","value":"0"}},"slider_separator":{"qid":"111","":{"qaid":"764","value":"|"}},"save_as_default":{"qid":"111","":{"qaid":"765","value":"N"}}},"subquestions":[{"qid":112,"parentQid":111,"sid":596477,"type":"T","title":"SQ001","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":0,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":117,"qid":112,"question":"Subquestion 1","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":113,"parentQid":111,"sid":596477,"type":"T","title":"SQ003","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":1,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":118,"qid":113,"question":"Subquestion 2","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]},{"qid":114,"parentQid":111,"sid":596477,"type":"T","title":"SQ002","preg":null,"other":false,"mandatory":null,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"longfreetext","moduleName":null,"gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":119,"qid":114,"question":"Subquestion 3","help":null,"script":null,"language":"en"}},"attributes":[],"answers":[]}],"answers":[]},{"qid":115,"parentQid":0,"sid":596477,"type":"*","title":"G01Q19","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":2,"scaleId":0,"sameDefault":null,"questionThemeName":"equation","moduleName":"","gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":120,"qid":115,"question":"Equation","help":"","script":"","language":"en"}},"attributes":{"equation":{"qid":"115","":{"qaid":"766","value":""}},"hidden":{"qid":"115","":{"qaid":"767","value":"0"}},"cssclass":{"qid":"115","":{"qaid":"768","value":""}},"printable_help":{"qid":"115","en":{"qaid":"769","value":""}},"page_break":{"qid":"115","":{"qaid":"770","value":"0"}},"scale_export":{"qid":"115","":{"qaid":"771","value":"0"}},"numbers_only":{"qid":"115","":{"qaid":"772","value":"0"}},"public_statistics":{"qid":"115","":{"qaid":"773","value":"0"}},"statistics_showgraph":{"qid":"115","":{"qaid":"774","value":"1"}},"statistics_graphtype":{"qid":"115","":{"qaid":"775","value":"0"}},"save_as_default":{"qid":"115","":{"qaid":"776","value":"N"}}},"answers":[]},{"qid":116,"parentQid":0,"sid":596477,"type":"|","title":"G01Q20","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":3,"scaleId":0,"sameDefault":null,"questionThemeName":"file_upload","moduleName":"","gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":121,"qid":116,"question":"File upload","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"116","":{"qaid":"777","value":""}},"hide_tip":{"qid":"116","":{"qaid":"778","value":"0"}},"hidden":{"qid":"116","":{"qaid":"779","value":"0"}},"cssclass":{"qid":"116","":{"qaid":"780","value":""}},"page_break":{"qid":"116","":{"qaid":"781","value":"0"}},"max_filesize":{"qid":"116","":{"qaid":"782","value":"10240"}},"max_num_of_files":{"qid":"116","":{"qaid":"783","value":"1"}},"min_num_of_files":{"qid":"116","":{"qaid":"784","value":"0"}},"allowed_filetypes":{"qid":"116","":{"qaid":"785","value":"png, gif, doc, odt, jpg, jpeg, pdf, png, heic"}},"statistics_showgraph":{"qid":"116","":{"qaid":"786","value":"1"}},"statistics_graphtype":{"qid":"116","":{"qaid":"787","value":"0"}},"show_title":{"qid":"116","":{"qaid":"788","value":"1"}},"show_comment":{"qid":"116","":{"qaid":"789","value":"1"}},"save_as_default":{"qid":"116","":{"qaid":"790","value":"N"}}},"answers":[]},{"qid":117,"parentQid":0,"sid":596477,"type":"G","title":"G05Q21","preg":null,"other":false,"mandatory":false,"encrypted":false,"sortOrder":4,"scaleId":0,"sameDefault":null,"questionThemeName":"gender","moduleName":"","gid":8,"relevance":"1","sameScript":null,"l10ns":{"en":{"id":122,"qid":117,"question":"Gender","help":"","script":"","language":"en"}},"attributes":{"random_group":{"qid":"117","":{"qaid":"791","value":""}},"display_type":{"qid":"117","":{"qaid":"792","value":"0"}},"hide_tip":{"qid":"117","":{"qaid":"793","value":"0"}},"hidden":{"qid":"117","":{"qaid":"794","value":"0"}},"cssclass":{"qid":"117","":{"qaid":"795","value":""}},"printable_help":{"qid":"117","en":{"qaid":"796","value":""}},"page_break":{"qid":"117","":{"qaid":"797","value":"0"}},"scale_export":{"qid":"117","":{"qaid":"798","value":"0"}},"public_statistics":{"qid":"117","":{"qaid":"799","value":"0"}},"statistics_showgraph":{"qid":"117","":{"qaid":"800","value":"1"}},"statistics_graphtype":{"qid":"117","":{"qaid":"801","value":"0"}},"save_as_default":{"qid":"117","":{"qaid":"802","value":"N"}}},"answers":[]}]}]}}');let dG=()=>{let{data:e}=(0,b.I)({queryKey:[eh],initialData:new Map,queryFn:()=>[],staleTime:1/0});return{subscribeToOperationFinish:(0,h.useCallback)(e=>{let{entity:i,operation:a,callback:s,once:l=!0}=e,n=`${i}_${a}`,r={callback:s,once:l},o=A.getQueryData([eh]);o.has(n)?o.get(n).push(r):o.set(n,[r]),A.setQueryData([eh],o)},[]),triggerCallbacks:(0,h.useCallback)((e,i)=>{if(!e||0===e.length)return;let a=A.getQueryData([eh]);e.forEach(e=>{let s=`${e.entity}_${e.op}`;if(a.has(s)){let e=a.get(s);e.forEach(e=>{e.callback(i.extras)});let l=e.filter(e=>!e.once);l.length>0?a.set(s,l):a.delete(s),A.setQueryData([eh],a)}})},[])}},dV=e=>{var i,a,s,l;let{triggerCallbacks:n}=dG(),{surveyService:r}=dz(),{refetchInterval:o,handleRetry:d}=dW({}),{getSurveyRequestTimestamp:u,setSurveyRequestTimestamp:c}=d4(),[,m]=j(eu),[p,g]=j(ed,{updateHash:0,refetchHash:0}),{data:v}=(0,b.I)({queryKey:[X],queryFn:async i=>{let{signal:a}=i;return x(e,a)},staleTime:1/0,refetchOnWindowFocus:"always",refetchInterval:o,retry:d,meta:{persist:!0}}),x=async(e,i)=>{var a,s;let l=null==v||null==(s=v.survey)||null==(a=s.sid)?void 0:a.toString(),n=(null==e?void 0:e.toString())===l,o=u(e);n||(_({}),o=null);let d=await r.getSurveyDetail(e,i,o);if(!d)return{};if((null==d?void 0:d.survey)==="not changed")return A.getQueryData([X])||{survey:{}};let h=A.getQueryData([ee]),x=A.getQueryData(["appState",es]);return((null==h?void 0:h.length)||x)&&v?(m(!0),A.cancelQueries({queryKey:[X]}),v):(c(l),_({...d.survey,themesettings:{...d.survey.themesettings}}),g({...p,refetchHash:Math.random()}),d)},{data:I}=(0,b.I)({queryKey:["surveyList"],queryFn:async()=>r.getSurveyList()||[],staleTime:1/0,refetchOnWindowFocus:"always",refetchInterval:o,retry:d}),_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.setQueryData([X],{survey:{...e}})},T=(0,h.useCallback)((0,i_.debounce)(async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};if(e.length)return i(),r.patchSurvey(e).then(i=>{a(i),n(e,i)}).finally(s).catch(l)},1e3),[r.surveyId,null==(a=r.auth)||null==(i=a.restHeaders)?void 0:i.Authorization]);return{survey:(null==v?void 0:v.survey)||{},surveyList:(null==I?void 0:I.surveys)||[],update:e=>{g({...p,updateHash:Math.random()}),A.setQueryData([X],{survey:{...v.survey,...e}})},language:null==v||null==(s=v.survey)?void 0:s.language,surveyPatch:T,clearSurvey:()=>{_({})},fetchSurvey:x,surveyMenus:null==v||null==(l=v.survey)?void 0:l.surveyMenus,surveyHash:p}},dY=e=>{let i=dP(),a=(0,h.useMemo)(()=>new dc(i,e,H()),[i,e]),{data:s,refetch:l}=(0,b.I)({queryKey:["survey_archived_responses",e],queryFn:async i=>{let{signal:s}=i,l=await a.getSurveyArchives(e,s);return l?(Array.isArray(l)?l:[]).filter(e=>e.newformat&&e.count>0).sort((e,i)=>i.timestamp-e.timestamp):[]},enabled:!!e,initialData:[],staleTime:1/0,cacheTime:1/0});return{surveyArchives:s,fetchSurveyArchives:l,fetchFilteredSurveyArchivesByBase:async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tokens",s=arguments.length>2?arguments[2]:void 0;if(!e)return[];try{let l=await a.getSurveyArchivesByBaseTable(e,i,s),n=(Array.isArray(l)?l:Object.values(l||{})).sort((e,i)=>i.timestamp-e.timestamp),r=`${eY}${i}`;return A.setQueryData([r],n),n}catch(e){return[]}}}},dQ=function(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=(0,h.useRef)();return(0,h.useEffect)(()=>{let s=s=>{a.current&&(i&&!a.current.contains(s.target)?e():!i&&a.current.contains(s.target)&&e())};return document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)}},[a,e,i]),a},dB=()=>{let{data:e={}}=(0,b.I)({queryKey:[ei],queryFn:()=>[],cacheTime:1/0,staleTime:1/0}),{data:i}=(0,b.I)({queryKey:[ea],queryFn:()=>[],cacheTime:1/0,staleTime:1/0}),a=(0,h.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A.setQueryData([ei],{});let i=n(e);A.setQueryData([ei],{...i})},[]),s=e=>{A.setQueryData([ea],e)},l=(i,a)=>e[i]&&e[i][a]?e[i][a]:null,n=e=>{let i={},a=aQ(e,["id","entity","context","op"]);return e.forEach(e=>{let{id:a,entity:s,error:l}=e;i[a]||(i[a]={}),i[a][s]=l}),s(a),i};return{errors:e,errorMessages:i,clearErrors:()=>{a([])},getError:l,setErrorsFromPatchResponse:a,clearErrorMessages:()=>{s([])},removeError:(i,a)=>{let s={...e};l(i,a)&&delete s[i][a],A.setQueryData([ei],{...s})}}},dF=()=>{let{data:e}=(0,b.I)({queryKey:[ee],queryFn:()=>[],cacheTime:1/0,staleTime:1/0}),{data:i=""}=(0,b.I)({queryKey:[et],queryFn:()=>"",cacheTime:1/0,staleTime:1/0}),{removeError:a}=dB(),s=(e,i)=>{A.setQueryData([ee],e),i&&A.setQueryData([et],i)},l=(0,h.useCallback)(function(){let{ready:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new iY(A.getQueryData([ee])),a=void 0===e?[]:i.getOperations({ready:!e});A.setQueryData([ee],a)},[]);return{operationsBuffer:new iY(e,i),addToBuffer:function(e){var i;let l=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new iY(A.getQueryData([ee]));(null==(i=A.getQueryData([X]))?void 0:i.survey)&&(n.addOperation(e,l),n.setBufferHash(Math.random()),s(n.getOperations(),n.bufferHash),a(e.id,e.entity))},clearBuffer:l,setBuffer:s}},dz=()=>{let e=dP(),{surveyId:i}=(0,_.g)();return{surveyService:new du(e,i,H())}};var d$=a(89331);let dW=e=>{let{normalFetchInterval:i=6e4,idleFetchInterval:a=3e5,idleTimeOut:s=3e5,refetchStopTime:l=36e5,detectUserIdleInterval:n=3e5}=e,[r,o]=(0,h.useState)(i),{getTotalIdleTime:d}=(0,d$.hb)({onIdle:()=>{o(a)},onActive:()=>{o(i)},onAction:()=>{},timeout:s});return(0,h.useEffect)(()=>{let e=setInterval(()=>{d()>l&&o(!1)},n);return()=>{clearInterval(e)}},[d,l,n]),{refetchInterval:r,handleRetry:(e,i)=>e<10||(ip.fire({title:(0,m.jsx)("strong",{children:i.message}),html:(0,m.jsxs)("i",{children:[t("Sorry, we encountered an issue while fetching the data.")," ",t("Please try again later!")]}),icon:"error",width:400}),!1)}},dZ=e=>{let{question:i,handleUpdate:a,surveySettings:s,language:l}=e,{addToBuffer:n}=dF(),[r,o]=(0,h.useState)([]),d=lg.includes(i.questionThemeName),{data:u={}}=(0,b.I)({queryKey:["appState",z],queryFn:()=>({}),staleTime:1/0,cacheTime:1/0,meta:{persist:!0}}),{data:c=l}=(0,b.I)({queryKey:["appState",ep],queryFn:()=>l,staleTime:1/0,cacheTime:1/0,meta:{persist:!0}});return(0,h.useEffect)(()=>{o(d?i.answers:i.subquestions)},[i.answers,i.subquestions,l,d]),{children:r,handleChildAdd:function(){let e,l,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=d===iQ.answer?"answers":"subquestions",p=d===iQ.answer?aq({qid:i.qid,code:aW(u,i.qid,0),languages:s.languages,...c}):aM({gid:i.gid,scaleId:i.scaleId,parentQid:i.qid,languages:s.languages,title:a$(u,i.qid,null),...c}),h=(e=[],l=[],r=[...o],void 0!==c.scaleId&&(e=r.filter(e=>0===e.scaleId),l=r.filter(e=>1===e.scaleId),r=0===c.scaleId?e:l),p&&r.push(p),(r=void 0!==c.scaleId?[...e,...l]:r).map((e,i)=>({...e,sortOrder:i})));n(d===iQ.answer?iJ(i.qid).answer().update([...h]):iJ(i.qid).subquestion().update([...h])),a({[m]:h})},handleChildDelete:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,r=l===iQ.answer?"answers":"subquestions",o=l===iQ.answer?"aid":"qid",d=(s||[]).filter(i=>i[o]!==e);n(l===iQ.answer?iJ(i.qid).answer().update([...d]):iJ(i.qid).subquestion().update([...d])),a({[r]:d})},handleOnChildDragEnd:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e.destination)return;let o=l===iQ.answer?"answers":"subquestions",d=[],u=[],c=[...s];void 0!==r.scaleId&&(d=c.filter(e=>0===e.scaleId),u=c.filter(e=>1===e.scaleId),c=0===r.scaleId?d:u);let m=e.source.index,p=e.destination.index,[h]=c.splice(m,1);c.splice(p,0,h),c=(c=void 0!==r.scaleId?[...d,...u]:c).map((e,i)=>({...e,sortOrder:i})),n(l===iQ.answer?iJ(i.qid).answer().update([...c]):iJ(i.qid).subquestion().update([...c])),a({[o]:c})},handleChildL10nsUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=[...l],d=r===iQ.answer?"answer":"question",u=r===iQ.answer?"answers":"subquestions";if(void 0===o[s])return void iG({extraData:{questionThemeName:i.questionThemeName,updatedEntities:o,updateKey:u,index:s,question:i},message:`Error while updating l10n in ${i.questionThemeName} - unable to find item`});let m=o[s].l10ns||{};o[s]={...o[s],l10ns:{...m,[c]:{...m[c],[d]:e,language:c}}},n(r===iQ.answer?iJ(i.qid).answer().update([...o]):iJ(i.qid).subquestion().update([...o])),a({[u]:o})},activeLanguage:c}},dK=()=>({translationsService:new dm(dP(),H())}),dX=()=>{let e=dP(),{userId:i}=(0,_.g)();return new dp(e,i,H())},dJ=(e,i)=>{(0,h.useEffect)(()=>{let a=!1,s=!1,l=l=>{a||!s||!e.current||e.current.contains(l.target)||i(l)},n=i=>{s=e.current,a=e.current&&e.current.contains(i.target)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),document.addEventListener("click",l),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n),document.removeEventListener("click",l)}},[e,i])};a(39398);let d0=()=>{let e=dO(),i=Object.values(e).map(e=>e.cookieKey),[a,s]=(0,C.lT)(i),l=(0,h.useCallback)(i=>a[e[i].cookieKey]??{initialLoad:null,previouslyShown:null,dontAskAgain:!1,feedbackGiven:!1},[a]),n=(0,h.useCallback)((i,a)=>{let n=e[i],r=l(i);s(n.cookieKey,a(r),{path:"/",expires:new Date(Date.now()+31536e6)})},[l,s]);return{getFeedbackData:l,updateFeedbackData:(0,h.useCallback)((e,i)=>{n(e,e=>({...e,...i}))},[n])}},d1=()=>{let{userId:e}=dP(),{getFeedbackData:i,updateFeedbackData:a}=d0(),s=(0,h.useMemo)(()=>dO(),[]),l=(0,h.useMemo)(()=>new URLSearchParams({domain:window.location.hostname,userId:e}),[e]),n=(0,h.useCallback)(e=>{i(e).initialLoad||a(e,{initialLoad:U().toISOString()})},[i,a]),r=(0,h.useCallback)(e=>{let a=s[e],l="automatic"===a.triggerType,n=i(e);if(!n||n.feedbackGiven||n.dontAskAgain)return!1;if(l)return!(!n.initialLoad||U(n.initialLoad)>U().subtract(a.delayMins,"minute"))&&(!n.previouslyShown||U(n.previouslyShown)<U().subtract(a.intervalMinutes,"minute"));return!0},[i]),o=(0,h.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dC.GENERAL,i=s[e];[".limequery.",".limesurvey."].some(e=>window.location.hostname.includes(e))?d(i.surveyId):window.open(`https://survey.limesurvey.org/${i.surveyId}?${l.toString()}`,"_blank")},[l]),d=e=>{ig({html:(0,m.jsx)(d_,{surveyId:e,urlParams:l}),showCloseButton:!0,closeButtonClass:"feedback-close-button"})};return{trackInitialLoad:n,shouldShowFeedback:r,showFeedbackForm:o}};function d2(e){let[i,a]=j("sharing_update_permission",e.hasSurveyUpdatePermission);return(0,h.useEffect)(()=>{a(e.hasSurveyUpdatePermission)},[e,e.sid,e.hasSurveyUpdatePermission]),i}var d3=a(56331),d6=a(34316);let d4=()=>{let e=(0,h.useCallback)(e=>(A.getQueryData([e_])||{})[e]||null,[]),i=(0,h.useCallback)(e=>(A.setQueryData([e_],function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...i,[e]:dR()}}),dR()),[]);return(0,h.useEffect)(()=>{let e=()=>{A.removeQueries({queryKey:[e_]})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[]),{getSurveyRequestTimestamp:e,setSurveyRequestTimestamp:i}},d5=e=>{let{shouldBeVisible:i=!0}=e,{surveyId:a}=(0,_.g)(),{survey:s}=dV(a),{subscribeToOperationFinish:l}=dG(),n=(0,h.useMemo)(()=>new URL(aH(s.previewLink),window.location.origin).toString()+"&popuppreview=true",[s.previewLink]),r=(0,h.useRef)(null),o=(0,h.useRef)(i),[d,u]=(0,h.useState)(!1),[c,p]=(0,h.useState)(!1),g=(0,h.useCallback)(()=>u(e=>!e),[]);(0,h.useEffect)(()=>{l({entity:iQ.themeSettings,operation:iX.update,callback:()=>{r.current&&(p(!0),r.current.src=r.current.src)},once:!1})},[l]),(0,h.useEffect)(()=>{!o.current&&i&&p(!0),o.current=i},[i]);let v=(0,h.useCallback)(()=>p(!1),[]);return i||c?(0,m.jsx)("div",{id:"theme-options-preview-container",className:sN()("theme-options-preview-container",{"theme-options-preview-largeSize":d,"theme-options-preview-normalSize":!d,"theme-options-preview-visible":i,"theme-options-preview-hidden":!i}),children:(0,m.jsxs)("div",{className:"theme-options-preview-container-inner",children:[(0,m.jsx)("iframe",{ref:r,className:"theme-options-preview-iframe",style:{border:i?"1px solid black":"none"},onLoad:v,src:n}),c&&i&&(0,m.jsx)("span",{className:"theme-options-preview-loading loader"}),i&&(0,m.jsx)("div",{className:"theme-options-preview-icon",onClick:g,children:d?(0,m.jsx)(is,{}):(0,m.jsx)(il,{})})]})}):null},d7=e=>{let{surveyId:i}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a1.A.Label,{children:t("Explore additional configuration options, more detailed features and settings.")}),(0,m.jsxs)(sk.A,{variant:"secondary",className:"d-flex align-items-center",onClick:()=>{window.open(aH("/surveyAdministration/view/surveyid/"+i),"_blank")},children:[(0,m.jsx)("span",{className:"me-1",children:t("Go to advanced options")}),(0,m.jsx)(t_,{className:"text-white fill-current"})]})]})},d9=e=>{let{setting:i,formattedValue:a,previewUrl:s,component:l,active:n,sid:r,updateSurveySetting:o,rerenderSettings:d,setRerenderSettings:u,globalStates:c,noAccessDisabled:p=!1}=e;return(0,m.jsx)("div",{className:sN()("mb-2 survey-setting",{"survey-border-top":!i.noBorderTop}),children:(0,m.jsx)(l,{options:i.selectOptions?i.selectOptions(c):[],...i.props,value:a,defaultValue:a,previewUrl:s,update:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return o(a,e)},activeDisabled:n&&i.props.activeDisabled,noPermissionDisabled:i.props.noPermissionDisabled,noAccessDisabled:p,disabled:i.disabled,overlayMessage:i.overlayMessage,setting:i,surveyId:r,rerenderSettings:d,setRerenderSettings:u})})},d8=e=>{let[i,a]=(0,h.useState)(!1),s=null==e?void 0:e.childOnNewLine;return e.renderFullWidth?(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)(a1.A.Label,{children:e.subText}),(0,m.jsx)("div",{className:` ${e.extraClass||""}`,children:(0,m.jsx)(e.childComponent,{...e})})]}):((0,h.useEffect)(()=>{!0===e.rerenderSettings[e.setting.keyPath]?(a(!0),e.setRerenderSettings({...e.rerenderSettings,[e.setting.keyPath]:!1})):i&&a(!1)},[e.rerenderSettings,i]),i)?(0,m.jsx)("div",{style:{height:"100%"},className:"d-flex flex-column justify-content-center align-items-center",children:(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"})}):s?(0,m.jsxs)("div",{className:"mt-3",children:[(0,m.jsxs)("div",{className:"w-100 mb-1",children:[(0,m.jsx)("p",{className:"h6 mb-0",children:e.mainText}),e.subText&&(0,m.jsx)(a1.A.Label,{className:sN()("mb-0 text-secondary",{"d-none":!0}),children:e.subText})]}),(0,m.jsxs)("div",{className:`w-100 ${e.extraClass||""}`,children:[(0,m.jsx)(e.childComponent,{...e}),e.secondaryChildComponent&&(0,m.jsx)(e.secondaryChildComponent,{...e})]})]}):(0,m.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[(0,m.jsxs)("div",{className:"w-50",children:[(0,m.jsx)("p",{className:"h6 mb-0",children:e.link?(0,m.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,lD.format)(e.mainText,`<a href="${e.link}" target="_blank" rel="noopener noreferrer">`,"</a>")}}):e.mainText}),e.subText&&(0,m.jsx)(a1.A.Label,{className:sN()("mb-0 text-secondary",{"d-none":!0}),children:e.subText})]}),(0,m.jsxs)("div",{className:`w-50 ms-2 ${e.extraClass||""}`,children:[(0,m.jsx)(e.childComponent,{...e}),e.secondaryChildComponent&&(0,m.jsx)(e.secondaryChildComponent,{...e})]})]})},ue=e=>{let{blockSettingsInfo:i,currentOpenPanelLabel:a,globalStates:s,helperSettings:l,survey:{active:n=!1,sid:r=""},survey:o,updateSurveySetting:d,rerenderSettings:u,setRerenderSettings:c}=e;return(0,m.jsxs)("div",{className:"settings-block p-4 mb-4 bg-white",children:[(0,m.jsx)("div",{className:"d-flex justify-content-between",children:(0,m.jsx)("h5",{children:aU(i.title||a)})}),Object.entries(i.settings??{}).map(e=>{let[i,a]=e;if("blockTitle"===i||!((e,i,a,s)=>{var l;let n=null==(l=e.condition)?void 0:l.render;if(!n)return!0;let r=n.settings.map(e=>{let s=e.helperSetting?i[e.keyPath]:ak(a,e);return{setting:e,value:s}});return n.check(r,s)})(a,l,o,s))return null;((e,i)=>{if(!e.disableCondition)return;let a=e.disableCondition.check(i);e.disabled=a,e.overlayMessage=e.disableCondition.message})(a,s);let p=a.helperSetting?l[a.keyPath]:ak(o,a),h=a.formatDisplayValue?a.formatDisplayValue(p,s):p,g=a.formatPreview?a.formatPreview(p,s):null,v=a.component||d8;return(0,m.jsx)(d9,{settingKey:i,setting:a,formattedValue:h,previewUrl:g,component:v,active:n,sid:r,updateSurveySetting:d,rerenderSettings:u,setRerenderSettings:c,globalStates:s,noAccessDisabled:!1},i)})]})},ut=e=>{let{menu:i,settingsBlocksInfo:a,panelInfo:s,globalStates:l,helperSettings:n,survey:r,updateSurveySetting:o,rerenderSettings:d,setRerenderSettings:u}=e,c=(0,h.useMemo)(()=>Object.entries((null==a?void 0:a[i])||{}),[a,i]);return(0,m.jsx)(m.Fragment,{children:c.map((e,a)=>{let[c,p]=e;return(0,m.jsxs)("div",{children:[(0,m.jsx)(ue,{blockSettingsInfo:p,currentOpenPanelLabel:s.label,globalStates:l,helperSettings:n,survey:r,updateSurveySetting:o,rerenderSettings:d,setRerenderSettings:u},`${a}-${c}`),i===eS&&(0,m.jsx)(ro,{slotName:"surveysettingsblock:tokens:bottom"})]},`${a}-${c}-container`)})})},ui=e=>{let{survey:i}=dV(e.surveyId),a=null==i?void 0:i.templatePreview;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d8,{...e}),a&&(0,m.jsx)("img",{className:"img-thumbnail theme-preview p-0 mt-4 rounded-0",src:a,alt:t("Theme preview")})]})},ua=()=>({GENERAL:{title:t("General"),settings:{LANGUAGES:{keyPath:"additionalLanguages",formatUpdateValue:(e,i)=>{let{language:a}=i[X].survey,s=e.filter(e=>e!==a);return{updateValue:s.join(" "),operationValue:s}},condition:{update:{get settings(){return[ua().GENERAL.settings.BASE_LANGUAGE]},check:(e,i)=>{let[a]=i,s=a.value,l=!1;return e.map(e=>{e===s&&(l=!0)}),{valid:l,errorMessage:l?"":t("You cannot delete the base language. Please select a different language as base language, first.")}}}},selectOptions:e=>{var i;let a=(e[ec]||{})[null==(i=e[J])?void 0:i.lang]||{};return Object.keys(a).map(e=>({value:e,label:a?a[e].description:t("No data available")}))},formatDisplayValue:(e,i)=>{let a=i[ec][i[J].lang],{language:s}=i[X].survey;e=e.replace(s,"").trim().split(" ").sort().join(" ");let l=s.concat(e?` ${e}`:"").split(" ").map(e=>{var i;return{value:e,label:a?null==(i=a[e])?void 0:i.description:t("No data available")}});return[l[0],...l.slice(1).sort((e,i)=>{var a;return null==(a=e.label)?void 0:a.localeCompare(i.label)})]},linkedSettingsHandler:{get linkedSettings(){return[ua().GENERAL.settings.BASE_LANGUAGE]},getUpdateValue:(e,i)=>e.concat(` ${i}`).split(" ")},props:{id:"multiLanguages",mainText:t("Survey languages"),childComponent:sY,noPermissionDisabled:!0,childOnNewLine:!0,isMultiselect:!0,dataTestId:"additionalLanguages"}},BASE_LANGUAGE:{keyPath:"language",selectOptions:e=>{let i=(e[ec]||{})[e[J].lang],{survey:a}=e[X];return a.language.concat(` ${a.additionalLanguages}`).trim().split(" ").map(e=>{var a;return{value:e,label:i?null==(a=i[e])?void 0:a.description:t("No data available")}})},props:{id:"baseLanguage",mainText:t("Base language"),childComponent:sY,noPermissionDisabled:!0,childOnNewLine:!0,dataTestId:"baseLanguage"}},OWNER_ID:{keyPath:"ownerId",props:{id:"ownerId",mainText:t("Survey owner"),childComponent:sY,childOnNewLine:!0,noPermissionDisabled:!0},selectOptions:e=>{var i;let{survey:a}=e[X];return null==a||null==(i=a.ownersList)?void 0:i.map(e=>({value:parseInt(e.value),label:e.label}))}},ADMIN:{keyPath:"admin",props:{id:"admin",mainText:t("Administrator"),dataTestId:"",childComponent:s_,childOnNewLine:!0,noPermissionDisabled:!0}},ADMIN_EMAIL:{keyPath:"adminEmail",props:{id:"adminEmail",mainText:t("Administrator email address"),dataTestId:"",childComponent:s_,childOnNewLine:!0,noPermissionDisabled:!0}},BOUNCE_EMAIL:{keyPath:"bounceEmail",props:{id:"bounceEmail",mainText:t("Bounce email address"),dataTestId:"",childComponent:s_,childOnNewLine:!0,noPermissionDisabled:!0}},GSID:{keyPath:"gsid",props:{id:"gsid",mainText:t("Group"),dataTestId:"",childComponent:sY,childOnNewLine:!0,noPermissionDisabled:!0},selectOptions:e=>{var i;let{survey:a}=e[X];return null==(i=Object.keys(null==a?void 0:a.groupsList))?void 0:i.map(e=>({label:null==a?void 0:a.groupsList[parseInt(e)],value:parseInt(e)}))}},FORMAT:{keyPath:"format",props:{id:"format",mainText:t("Format"),dataTestId:"",childComponent:sY,childOnNewLine:!0,noPermissionDisabled:!0},selectOptions:e=>{let{survey:i}=e[X];return t("Inherit"),[{label:t("All in one"),value:"A"},{label:t("Question by Question"),value:"S"},{label:t("Group by Group"),value:"G"}]}}}},THEME:{title:t("Theme"),settings:{TEMPLATE:{component:ui,keyPath:"template",props:{id:"template",mainText:t("Theme"),dataTestId:"",childComponent:sY,childOnNewLine:!0,noPermissionDisabled:!0},selectOptions:e=>{let{survey:i}=e[X];return Y}}}}}),us=()=>({PARTICIPANTS:{title:t("Participant settings"),settings:{ANONYMIZED:{keyPath:"anonymized",props:{id:"anonymize-responses",mainText:t("Anonymized responses"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},ENABLE_PARTICIPANT_BASED_RESPONSE_PERSISTENCE:{keyPath:"tokenAnswersPersistence",props:{id:"token-answer-persistence",mainText:t("Enable participant-based response persistence"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},ALLOWED_IT_AFTER_COMPLETION:{keyPath:"allowedItAfterCompletion",props:{id:"allow-multiple-responses",mainText:t("Allow multiple responses with the same access code"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},ALLOWED_PUBLIC_REGISTRATION:{keyPath:"allowRegister",props:{id:"allow-public-registration",mainText:t("Allow public registration"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},HTML_EMAIL:{keyPath:"htmlEmail",props:{id:"html-email",mainText:t("Use HTML format for participant emails"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},SEND_CONFIRMATION:{keyPath:"sendConfirmation",props:{id:"send-confirmation",mainText:t("Send confirmation emails"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},SET_ACCESS_CODE_LENGTH:{keyPath:"setAccessCodeLength",helperSetting:!0,props:{id:"setAccessCodeLength",mainText:t("Set access code length"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return -1!=ak(a,us().PARTICIPANTS.settings.TOKEN_LENGTH)}},TOKEN_LENGTH:{keyPath:"tokenLength",linkedSettingsHandler:{get linkedSettings(){return[us().PARTICIPANTS.settings.SET_ACCESS_CODE_LENGTH]},getUpdateValue:(e,i,a)=>a?e<0?15:e:-1},condition:{update:{get settings(){return[us().PARTICIPANTS.settings.TOKEN_LENGTH,us().PARTICIPANTS.settings.SET_ACCESS_CODE_LENGTH]},check:(e,i)=>{let[,a]=i,s=!a.value||e>4;return{valid:s,errorMessage:s?"":"Token length must be at least 5"}}},render:{get settings(){return[us().PARTICIPANTS.settings.SET_ACCESS_CODE_LENGTH]},check:e=>{let[i]=e;return i.value}}},props:{id:"token-length",type:"number",mainText:t("Access code length"),childComponent:s_,childOnNewLine:!0}}}}}),ul=()=>({DISPLAY:{title:t("Display"),settings:{SHOW_PROGRESS:{keyPath:"showProgress",props:{id:"show-progress-bar",mainText:t("Progress bar"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},SHOW_NO_ANSWER:{keyPath:"showNoAnswer",props:{id:"show-no-answer",mainText:t("No answer"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},SHOW_GROUP_INFO:{keyPath:"showGroupInfo",props:{id:"show-group-info",groupName:"show-group-info",mainText:t("Group name and description"),childComponent:s8,optionClassName:"",options:[{label:t("Group name"),value:"showGroupName"},{label:t("Description"),value:"showGroupDescription"}],noPermissionDisabled:!0}},SHOW_QNUM_CODE_INFO:{keyPath:"showQNumCode",props:{id:"show-qnum-code",groupName:"show-qnum-code",mainText:t("Question number and code"),childComponent:s8,optionClassName:"",options:[{label:t("Question number"),value:"showNumber"},{label:t("Code"),value:"showCode"}],noPermissionDisabled:!0}},NO_KEYBOARD:{keyPath:"noKeyboard",props:{id:"no-keyboard",mainText:t("On-screen keyboard"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},QUESTION_INDEX:{keyPath:"questionIndex",props:{id:"question-index",mainText:t("Question index"),childComponent:s4,toggleOptions:[{name:t("Enabled"),value:2},{name:t("Disabled"),value:0},{name:t("Incremental"),value:1}],noPermissionDisabled:!0}}}},LANGUAGE_DISPLAY:{title:t("Language specific display"),settings:{LANGUAGE_HELPER:{keyPath:"languageHelper",helperSetting:!0,selectOptions:e=>{let i=e[ec][e[J].lang],{survey:a}=e[X];return[a.language].concat(a.additionalLanguages?a.additionalLanguages.split(" "):[]).map(e=>{var s;let l=e===a.language?" ("+t("Base language")+")":"";return{value:e,label:i?(null==(s=i[e])?void 0:s.description)+l:"No data available"}})},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath]||a.language},props:{id:"presentation-language",mainText:t("Language"),childComponent:sY,noPermissionDisabled:!0,childOnNewLine:!0,dataTestId:"presentation-language"}},DATE_FORMAT:{entity:iQ.languageSetting,keyPath:"languageSettings.dateFormat",props:{childComponent:sY,childOnNewLine:!0,mainText:t("Date format"),id:"date-format",placeholder:"DD/MM/YYYY",noPermissionDisabled:!0},selectOptions:e=>{let{dateFormats:i}=e[er];return Object.keys(i).map(e=>({value:parseInt(e),label:i[e].dateformat}))},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],dateFormat:e}},updateValueKey:"languageSettings",operationValue:{dateFormat:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return ak(a,ul().LANGUAGE_DISPLAY.settings.DATE_FORMAT,s)}},NUMBER_FORMAT:{entity:iQ.languageSetting,keyPath:"languageSettings.numberFormat",props:{id:"number-format",mainText:t("Decimal mark"),childComponent:s4,toggleOptions:[{name:t("Dot (.)"),value:0},{name:t("Comma (,)"),value:1}],noPermissionDisabled:!0},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],numberFormat:e}},updateValueKey:"languageSettings",operationValue:{numberFormat:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return ak(a,ul().LANGUAGE_DISPLAY.settings.NUMBER_FORMAT,s)}},ALIAS:{entity:iQ.languageSetting,keyPath:"languageSettings.alias",props:{id:"alias",mainText:t("Survey alias"),childOnNewLine:!0,childComponent:s_,noPermissionDisabled:!0},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],alias:e}},updateValueKey:"languageSettings",operationValue:{alias:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][ul().LANGUAGE_DISPLAY.settings.LANGUAGE_HELPER.keyPath];return ak(a,ul().LANGUAGE_DISPLAY.settings.ALIAS,s)}}}},NAVIGATION:{title:t("Navigation"),settings:{AUTO_REDIRECT:{keyPath:"autoRedirect",props:{id:"auto-load-end-url",mainText:t("Automatically load end URL when survey complete"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},ALLOW_PREV:{keyPath:"allowPrev",props:{id:"allow-backward-navigation",mainText:t("Allow backward navigation"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},DELAY_TOGGLE:{keyPath:"delayToggle",helperSetting:!0,props:{id:"delay-toggle",mainText:t("Navigation delay"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return ak(a,ul().NAVIGATION.settings.NAVIGATION_DELAY)>0}},NAVIGATION_DELAY:{keyPath:"navigationDelay",props:{id:"navigation-delay",mainText:t("Navigation delay duration (in seconds)"),childComponent:s_,noPermissionDisabled:!0,type:"number"},linkedSettingsHandler:{get linkedSettings(){return[ul().NAVIGATION.settings.DELAY_TOGGLE]},getUpdateValue:(e,i,a)=>a?a&&0===e?10:Q:0},condition:{render:{get settings(){return[ul().NAVIGATION.settings.DELAY_TOGGLE]},check:e=>{let[i]=e;return i.value}}}},PRINT_ANSWERS:{keyPath:"printAnswers",props:{id:"print-answers",mainText:t("Participants may print answers"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}}}},BLOCK_PUBLIC_STATS:{title:t("Public statistics"),settings:{PUBLIC_STATS:{keyPath:"publicStatistics",props:{id:"public-statistics",mainText:t("Public statistics"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},PUBLIC_GRAPHS:{keyPath:"publicGraphs",props:{id:"public-graphs",mainText:t("Show graphs in public statistics"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}}}}});a(44328);let un=()=>({TOGGLES:{settings:{SHOW_SURVEY_POLICY_NOTICE:{keyPath:"showSurveyPolicyNotice",props:{id:"show-survey-policy-notice",mainText:t("Show privacy policy text with mandatory checkbox"),childComponent:s4,toggleOptions:[{name:t("No"),value:0},{name:t("Inline"),value:1},{name:t("Collapsible"),value:2}],noPermissionDisabled:!0}},SHOW_LEGAL_NOTICE_BUTTON:{keyPath:"showLegalNoticeButton",renderExistCondition:"showLegalNoticeButton",props:{id:"show-legal-notice",mainText:t("Show link to legal notice in survey"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0},condition:{render:{get settings(){return[un().TOGGLES.settings.SHOW_LEGAL_NOTICE_BUTTON]},check:(e,i)=>{let[a]=e,{survey:s}=i[X];return Object.hasOwn(s,a.setting.keyPath)}}}},SHOW_DATA_POLICY_BUTTON:{keyPath:"showDataPolicyButton",renderExistCondition:"showDataPolicyButton",props:{id:"show-privacy-policy",mainText:t("Show link to data policy in survey"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0},condition:{render:{get settings(){return[un().TOGGLES.settings.SHOW_DATA_POLICY_BUTTON]},check:(e,i)=>{let[a]=e,{survey:s}=i[X];return Object.hasOwn(s,a.setting.keyPath)}}}}}},TEXTS:{title:t("Languages and texts"),settings:{LANGUAGE_HELPER:{keyPath:"languageHelper",helperSetting:!0,selectOptions:e=>{let i=e[ec][e[J].lang],{survey:a}=e[X];return[a.language].concat(a.additionalLanguages?a.additionalLanguages.split(" "):[]).map(e=>{var s;let l=e===a.language?" ("+t("Base language")+")":"";return{value:e,label:i?(null==(s=i[e])?void 0:s.description)+l:t("No data available")}})},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath]||a.language},props:{id:"datasecurity-language",mainText:t("Language"),childComponent:sY,noPermissionDisabled:!0,childOnNewLine:!0,dataTestId:"datasecurity-language"}},LEGAL_NOTICE:{entity:iQ.languageSetting,keyPath:"languageSettings.legalNotice",renderExistCondition:"showLegalNoticeButton",props:{childComponent:sL,childOnNewLine:!0,extraClass:"editable-content-editor textarea",id:"legal-notice-message",mainText:t("Legal notice message"),placeholder:t("Legal notice message"),noPermissionDisabled:!0,showToolbar:!0},condition:{render:{get settings(){return[un().TOGGLES.settings.SHOW_LEGAL_NOTICE_BUTTON]},check:e=>{let[i]=e;return i.value}}},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],legalNotice:e}},updateValueKey:"languageSettings",operationValue:{legalNotice:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return ak(a,un().TEXTS.settings.LEGAL_NOTICE,s)}},POLICY_NOTICE:{entity:iQ.languageSetting,keyPath:"languageSettings.policyNotice",props:{childComponent:sL,childOnNewLine:!0,mainText:t("Privacy policy message"),id:"privacy-policy-message",placeholder:t("Privacy policy message"),extraClass:"editable-content-editor form-control textarea",noPermissionDisabled:!0,showToolbar:!0},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],policyNotice:e}},updateValueKey:"languageSettings",operationValue:{policyNotice:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return ak(a,un().TEXTS.settings.POLICY_NOTICE,s)},linkedSettingsHandler:{get linkedSettings(){return[un().TEXTS.settings.LANGUAGE_HELPER]},rerender:(e,i,a)=>i!==a}},POLICY_ERROR:{entity:iQ.languageSetting,keyPath:"languageSettings.policyError",props:{childComponent:sL,childOnNewLine:!0,mainText:t("Privacy policy error message"),id:"privacy-policy-message",placeholder:t("Privacy policy error message"),extraClass:"editable-content-editor form-control textarea",noPermissionDisabled:!0,showToolbar:!0},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],policyError:e}},updateValueKey:"languageSettings",operationValue:{policyError:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return ak(a,un().TEXTS.settings.POLICY_ERROR,s)},linkedSettingsHandler:{get linkedSettings(){return[un().TEXTS.settings.LANGUAGE_HELPER]},rerender:(e,i,a)=>i!==a}},POLICY_NOTICE_LABEL:{entity:iQ.languageSetting,keyPath:"languageSettings.policyNoticeLabel",props:{childComponent:s_,childOnNewLine:!0,mainText:t("Privacy policy checkbox label"),id:"privacy-policy-label-message",placeholder:t("Privacy policy checkbox label"),extraClass:"editable-content-editor",noPermissionDisabled:!0},formatUpdateValue:(e,i)=>{let{survey:{languageSettings:a}}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return{updateValue:{...a,[s]:{...a[s],policyNoticeLabel:e}},updateValueKey:"languageSettings",operationValue:{policyNoticeLabel:e},updateOperationKey:s}},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=i[eo][un().TEXTS.settings.LANGUAGE_HELPER.keyPath];return ak(a,un().TEXTS.settings.POLICY_NOTICE_LABEL,s)},linkedSettingsHandler:{get linkedSettings(){return[un().TEXTS.settings.LANGUAGE_HELPER]},rerender:(e,i,a)=>i!==a}}}}}),ur=()=>({DATE:{title:t("Publication date"),settings:{START_DATE:{keyPath:"startDate",props:{id:"start-date-time",mainText:t("Start date/time"),childComponent:a4,childOnNewLine:!0,noPermissionDisabled:!0}},EXPIRES:{keyPath:"expires",props:{id:" end-date-time",mainText:t("End date/time"),childComponent:a4,noPermissionDisabled:!0,childOnNewLine:!0}}}},ACCESS:{settings:{LIST_PUBLIC:{keyPath:"listPublic",props:{id:"listPublic",mainText:t("Link survey on %spublic index page%s"),link:aH(),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},USE_COOKIE:{keyPath:"useCookie",props:{id:"useCookie",mainText:t("Set cookie to prevent repeated participation"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},USE_CAPTCHA_ACCESS:{keyPath:"useCaptchaAccess",props:{id:"useCaptchaAccess",mainText:t("Use CAPTCHA for survey access"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},USE_CAPTCHA_REGISTRATION:{keyPath:"useCaptchaRegistration",props:{id:"useCaptchaRegistration",mainText:t("Use CAPTCHA for registration"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},USE_CAPTCHA_SAVE_LOAD:{keyPath:"useCaptchaSaveLoad",props:{id:"useCaptchaSaveLoad",mainText:t("Use CAPTCHA for save and load"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}}}}}),uo=()=>({NOTIFICATIONS_DATA:{title:t("Notifications & data"),settings:{DATESTAMP:{keyPath:"datestamp",props:{id:"datestamp",mainText:t("Date stamp"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},IP_ADDR:{keyPath:"ipAddr",props:{id:"ipAddr",mainText:t("Save IP address"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},IP_ANONYMIZE:{keyPath:"ipAnonymize",props:{id:"ipAnonymize",mainText:t("Anonymize IP address"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},REF_URL:{keyPath:"refUrl",props:{id:"refUrl",mainText:t("Save referrer URL"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},SAVE_TIMINGS:{keyPath:"saveTimings",props:{id:"saveTimings",mainText:t("Save timings"),childComponent:s4,toggleOptions:sh(sc),activeDisabled:!0,noPermissionDisabled:!0}},ASSESSMENTS:{keyPath:"assessments",props:{id:"assessments",mainText:t("Enable assessment mode"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},ALLOW_SAVE:{keyPath:"allowSave",props:{id:"allowSave",mainText:t("Participant may save and resume later"),childComponent:s4,toggleOptions:sh(sc),noPermissionDisabled:!0}},EMAIL_NOTIFICATION_TO_TOGGLER:{keyPath:"emailNotificationToToggler",helperSetting:!0,props:{id:"emailNotificationToToggler",mainText:t("Send basic admin notifications"),noPermissionDisabled:!0,childComponent:s4,toggleOptions:su(sl)},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return!!ak(a,uo().NOTIFICATIONS_DATA.settings.EMAIL_NOTIFICATION_TO)||!!e}},EMAIL_NOTIFICATION_TO:{keyPath:"emailNotificationTo",noBorderTop:!0,props:{id:"emailNotificationTo",mainText:t("Basic admin notifications email address"),noPermissionDisabled:!0,childComponent:s_,childOnNewLine:!0},linkedSettingsHandler:{get linkedSettings(){return[uo().NOTIFICATIONS_DATA.settings.EMAIL_NOTIFICATION_TO_TOGGLER]},getUpdateValue:(e,i,a)=>a?Q:""},condition:{render:{get settings(){return[uo().NOTIFICATIONS_DATA.settings.EMAIL_NOTIFICATION_TO_TOGGLER]},check:e=>{let[i]=e;return i.value}}}},EMAIL_RESPONSE_TO_TOGGLER:{keyPath:"emailResponseToToggler",helperSetting:!0,props:{id:"emailResponseToToggler",mainText:t("Send detailed admin notifications"),noPermissionDisabled:!0,childComponent:s4,toggleOptions:su(sl)},formatDisplayValue:(e,i)=>{let{survey:a}=i[X];return!!ak(a,uo().NOTIFICATIONS_DATA.settings.EMAIL_RESPONSE_TO)||!!e}},EMAIL_RESPONSE_TO:{keyPath:"emailResponseTo",noBorderTop:!0,props:{id:"emailResponseTo",mainText:t("Detailed admin notifications email address"),activeDisabled:!0,noPermissionDisabled:!0,childOnNewLine:!0,childComponent:s_},linkedSettingsHandler:{get linkedSettings(){return[uo().NOTIFICATIONS_DATA.settings.EMAIL_RESPONSE_TO_TOGGLER]},getUpdateValue:(e,i,a)=>a?Q:""},condition:{render:{get settings(){return[uo().NOTIFICATIONS_DATA.settings.EMAIL_RESPONSE_TO_TOGGLER]},check:e=>{let[i]=e;return i.value}}}},GOOGLE_ANALYTICS_API_KEY_SETTING:{keyPath:"googleAnalyticsApiKeySetting",helperSetting:!0,props:{id:"googleAnalyticsApiKeySetting",mainText:t("Google Analytics settings"),childComponent:s4,toggleOptions:[{name:t("None"),value:"N"},{name:t("Survey settings"),value:"Y"},{name:t("Global settings"),value:"G"}],defaultValue:"N",noPermissionDisabled:!0},formatDisplayValue:(e,i)=>{let{survey:a}=i[X],s=ak(a,uo().NOTIFICATIONS_DATA.settings.GOOGLE_ANALYTICS_API_KEY);return s||"Y"===e?"9999useGlobal9999"===s?"G":"Y":"N"}},GOOGLE_ANALYTICS_API_KEY:{keyPath:"googleAnalyticsApiKey",noBorderTop:!0,props:{id:"googleAnalyticsApiKey",mainText:t("Google Analytics Tracking ID"),childComponent:s_,childOnNewLine:!0,noPermissionDisabled:!0},condition:{render:{get settings(){return[uo().NOTIFICATIONS_DATA.settings.GOOGLE_ANALYTICS_API_KEY_SETTING]},check:e=>{let[i]=e;return"Y"===i.value}}},linkedSettingsHandler:{get linkedSettings(){return[uo().NOTIFICATIONS_DATA.settings.GOOGLE_ANALYTICS_API_KEY_SETTING]},getUpdateValue:(e,i,a)=>"N"===a?"":"G"===a?"9999useGlobal9999":"Y"===a?"9999useGlobal9999"===e?"":e:Q}},GOOGLE_ANALYTICS_STYLE:{keyPath:"googleAnalyticsStyle",noBorderTop:!0,props:{id:"googleAnalyticsStyle",mainText:t("Google Analytics style"),childComponent:s4,toggleOptions:[{name:t("Off"),value:0},{name:t("Default"),value:1},{name:t("Survey-SID/Group"),value:2}],noPermissionDisabled:!0},condition:{render:{get settings(){return[uo().NOTIFICATIONS_DATA.settings.GOOGLE_ANALYTICS_API_KEY_SETTING]},check:e=>{let[i]=e;return"Y"===i.value||"G"===i.value}}}}}}}),ud={"cornerradius_0.svg":e=>{let{color:i="black"}=e;return(0,m.jsx)("svg",{width:"17",height:"12",viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:i},children:(0,m.jsx)("path",{d:"M17 1H1V11H17",stroke:"currentColor",strokeWidth:"1.5"})})},"cornerradius_4.svg":e=>{let{color:i="black"}=e;return(0,m.jsx)("svg",{width:"19",height:"14",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:i},children:(0,m.jsx)("path",{d:"M19 1.5H3C1.89543 1.5 1 2.39543 1 3.5V10.5C1 11.6046 1.89543 12.5 3 12.5H19",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})},"cornerradius_20.svg":e=>{let{color:i="black"}=e;return(0,m.jsx)("svg",{width:"19",height:"14",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:i},children:(0,m.jsx)("path",{d:"M19 1.5H6.5C3.46243 1.5 1 3.96243 1 7V7C1 10.0376 3.46243 12.5 6.5 12.5H19",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})}},uu=function(){var e,i,a;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${l}`,entity:iQ.themeSettings,props:{id:l,mainText:t(s.title),noPermissionDisabled:!0,childComponent:s4,toggleOptions:(e=s.optionlabels,i=s.options,a=s.optionimages,e=e.split("|"),a=a.split("|"),(i=i.split("|")).map((i,s)=>({name:t(e[s]),icon:ud[a[s]]??a[s],value:i})))}}},uc=e=>{let{previewUrl:i,update:a,setting:s}=e,l=t("Drop image here or click here to select a file"),{fileService:n}=dU();return(0,m.jsx)("div",{className:"mt-3",children:(0,m.jsx)(sG,{fileService:n,emptyZoneText:l,previewUrlInit:i?""+i:null,cleanPreviewOnInitValueChange:!0,onChange:e=>{if(!e)return;let i=null==s?void 0:s.keyPath.split(".").pop(),l=e.split("/").pop(),n=`image::survey::${l}`,r={entity:iQ.themeSettings,keyPath:`themesettings.${i}`,type:"dropdown",formatUpdateValue:()=>{let a={updateValueKey:i,updateOperationKey:i,updateValue:n,operationValue:l,filePath:e};return a.secondaryKey=i,a.secondaryValue=n,a}};a(n,r)},onDelete:()=>{let e=null==s?void 0:s.keyPath.split(".").pop();a(null,{entity:iQ.themeSettings,keyPath:`themesettings.${e}`,formatUpdateValue:()=>({updateValueKey:e,updateOperationKey:e,updateValue:null,operationValue:null})})},previewCover:!1})})},um=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=(arguments.length>2&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]);return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,selectOptions:()=>e.dropdownoptions,formatPreview:e=>{if(!a)return null;let i="inherit"===e.currentValue?e.parentValue:e.currentValue,s=e.dropdownoptions.find(e=>e.value===i);return s?(null==s?void 0:s.imagePreviewPath)??null:null},props:{id:i,mainText:t(e.title),childComponent:sY,subText:a?(0,lD.format)(t("Change or upload your own background image (max. file size %s)"),"40mb"):null,secondaryChildComponent:a?uc:null,childOnNewLine:!0,noPermissionDisabled:!0}}},up=e=>{let{options:i=[],value:a="",onChange:s=()=>{},update:l=()=>{}}=e,n=(0,h.useRef)(),[r,o]=(0,h.useState)(!1),d=(0,h.useCallback)(()=>o(!1),[]),u=(0,h.useCallback)(()=>o(!0),[]);dJ(n,d);let c=(0,h.useMemo)(()=>String.fromCharCode(parseInt(a,16)),[a]);return(0,m.jsxs)("div",{className:"icon-select-container",children:[(0,m.jsxs)("div",{className:"swatch-container",onClick:u,children:[(0,m.jsx)("div",{className:"icon-label-padding",children:(0,m.jsx)("i",{className:"fa icon-preview",children:c})}),(0,m.jsx)(tB,{})]}),r&&(0,m.jsx)("div",{className:"icon-select-dropdown",ref:n,children:i.map(e=>(0,m.jsxs)("div",{className:sN()("icon-select-option",{selected:e.value===a}),onClick:()=>{var i;s(i=e.value),l(i),d()},children:[(0,m.jsx)("i",{className:"fa icon-preview me-2",children:String.fromCharCode(parseInt(e.value,16))}),(0,m.jsx)("span",{children:e.label})]},e.value))})]})},uh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,selectOptions:()=>e.dropdownoptions,props:{id:i,mainText:t(e.title),childComponent:up,noPermissionDisabled:!0}}},ug=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,props:{id:i,mainText:t(e.title),childComponent:s_,noPermissionDisabled:!0}}},uv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,props:{id:i,mainText:t(e.title),childComponent:s_,type:"number",noPermissionDisabled:!0}}},ux=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,props:{id:i,mainText:t(e.title),title:t(e.title),label:t(e.title),rows:+e.rows,as:"textarea",childComponent:a1.A.Control,childOnNewLine:!0,noPermissionDisabled:!0}}},uI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return{keyPath:`themesettings.${i}`,entity:iQ.themeSettings,props:{id:i,mainText:t(e.title),childComponent:li,noPermissionDisabled:!0}}},u_=e=>{let i=Object.keys(e&&e.themesettings||{}),a={};return i.forEach(i=>{let s,l=e.themesettings[i],n=e.themesettings[i].category;a[n]||(a[n]={title:t(n),settings:{}}),"buttons"===l.type?s=uu(l,i):"dropdown"===l.type?s=um(l,i,null,l.hasFileUpload):"colorpicker"===l.type?s=uI(l,i):"icon"===l.type?s=uh(l,i):"text"===l.type?s=ug(l,i):"duration"===l.type?s=uv(l,i):"textarea"===l.type&&(s=ux(l,i)),a[n].settings[i]=s,a[n].settings[i].formatDisplayValue=e=>"inherit"===e.currentValue?e.parentValue:e.currentValue}),a},uT={...l,...n,...r,...o,...d,...u,...c},uN=e=>{var i;let{id:a}=e,{panel:s,menu:l}=(0,_.g)(),{survey:n,update:r}=dV(a),{operationsBuffer:o,addToBuffer:d}=dF(),[u,c]=(0,h.useState)({}),[p={}]=j(ed),[g={},v]=j(eo),[,x]=j(eu),[I,T]=(0,h.useState)({value:"",previousValue:"",entity:"",setting:{}}),N=(0,h.useMemo)(()=>Object.values(se()).find(e=>e.panel===s)||{},[s]),b=(0,h.useMemo)(()=>Object.assign({},...A.getQueriesData().map(e=>{let i=e[0],a=e[1];return{[i[1]?i[1]:i[0]]:a}})),[A,o.bufferHash,p.updateHash,p.refetchHash]),E={[eN]:Object.values(uT.getGeneralSettingsBlocks()),[eb]:Object.values(uT.getPrivacyPolicySettingsBlocks()),[ef]:Object.values(uT.getPublicationAccessSettingsBlocks()),[eA]:Object.values(uT.getNotificationsDataSettingsBlocks()),[eS]:Object.values(uT.getParticipantsSettingsBlocks()),[ey]:Object.values(uT.getPresentationSettingsBlocks()),[eE]:Object.values(u_(n))};(0,h.useEffect)(()=>{let e={};Object.entries((null==E?void 0:E[l])||{}).forEach(i=>{let[,a]=i;Object.values(a.settings).forEach(i=>{if(!i.helperSetting)return;let a=ak(n,i),s="function"==typeof i.formatDisplayValue?i.formatDisplayValue(a,b):a;r({[i.keyPath]:s}),void 0!==s&&(e[i.keyPath]=s)})}),v(e)},[l,p.refetchHash]);let y=(0,h.useCallback)(function(e,i){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=ak(n,e),l=e.entity;if(((e,i,a)=>{var s,l;let n=null==(l=e.condition)||null==(s=l.update)?void 0:s.settings;if(!n)return null;let r=n.map(e=>({setting:e,value:ak(a,e)})),o=e.condition.update.check(i,r);return o.valid?null:(iv(o.errorMessage),{error:!0})})(e,i,n))return;let o=e.formatUpdateValue?e.formatUpdateValue(i,b):{updateValue:i,operationValue:i},u=o.updateValueKey?o.updateValueKey:null==e?void 0:e.keyPath.split(".").pop();if(r(((e,i,a,s,l)=>{if(s!=iQ.themeSettings)return{[a]:i.updateValue};{let s={themesettings:{...l.themesettings,[a]:{...l.themesettings[a],currentValue:i.updateValue}}};return i.secondaryKey&&i.secondaryValue&&(s.themesettings[i.secondaryKey]={...l.themesettings[i.secondaryKey],currentValue:i.secondaryValue}),"dropdown"!==e.type||s.themesettings[a].dropdownoptions[i.updateValue]||s.themesettings[a].dropdownoptions.push({value:i.updateValue,label:i.operationValue,group:"Survey",imagePreviewUrl:i.filePath||null}),s}})(e,o,u,l,n)),null==e?void 0:e.helperSetting)v({...g,[e.keyPath]:o.updateValue});else{let{operation:i,operationEntity:a}=((e,i,a,s,l,n,r)=>{let o,d={[i.updateOperationKey?i.updateOperationKey:null==e?void 0:e.keyPath.split(".").pop()]:i.operationValue};i.secondaryKey&&i.secondaryValue&&(d[i.secondaryKey]=i.secondaryValue);let u=l;switch(s){case iQ.languageSetting:o=iQ.languageSetting,u=null;break;case iQ.themeSettings:o=iQ.themeSettings,d={templateName:n.template,...d};break;default:o=iQ.survey}return{operation:r(u)[o]().update(d),operationEntity:o}})(e,o,0,l,n.sid||n.id,n,iJ);d(i),a===iQ.survey&&x(!0)}a&&T({value:o.updateValue,previousValue:s,setting:e,entity:l})},[n,r,b,g,v,d,x,T]);return(0,h.useEffect)(()=>{let e=I.setting,i=I.value,a=I.previousValue,s={};Object.entries((null==E?void 0:E[l])||{}).forEach(l=>{let[,r]=l;Object.values(r.settings).forEach(l=>{if(null==l?void 0:l.linkedSettingsHandler){var r,o,d,u,c,m,p;if(null==l||null==(d=l.linkedSettingsHandler)||null==(o=d.linkedSettings)||null==(r=o.map(e=>e.keyPath))?void 0:r.includes(e.keyPath)){if(null==l||null==(u=l.linkedSettingsHandler)?void 0:u.getUpdateValue){let s=null==l||null==(m=l.linkedSettingsHandler)?void 0:m.getUpdateValue(ak(n,l),a,i,e,b);s!==Q&&y(l,s,!1)}if(null==(c=l.linkedSettingsHandler)?void 0:c.rerender){let r=null==l||null==(p=l.linkedSettingsHandler)?void 0:p.rerender(ak(n,l),a,i,e,b);s[l.keyPath]=r}}}})}),c({...u,...s})},[I.value,null==(i=I.setting)?void 0:i.keyPath]),(0,m.jsxs)("div",{id:"survey-settings",className:"survey-settings-panel mt-5",children:[(0,m.jsx)(ut,{menu:l,settingsBlocksInfo:E,panelInfo:N,globalStates:b,helperSettings:g,survey:n,updateSurveySetting:y,rerenderSettings:u,setRerenderSettings:c}),"advancedOptions"===l&&(0,m.jsx)(d7,{surveyId:a})]})};var ub=a(9978),uE=a(79734);let uy=class{init(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=i,this.translationsService=i.translationsService,!this.translationsService||"function"!=typeof this.translationsService.getTranslations)throw Error("translationsService.getTranslations must be a valid function")}read(e,i,a){this.translationsService.getTranslations(e).then(i=>{this.setLanguages({...this.languages,[e]:i[0].languages}),a(null,i[0].translations)}).catch(e=>{a(e,!1)})}constructor(e,i){(0,ik._)(this,"setLanguages",void 0),(0,ik._)(this,"languages",void 0),this.setLanguages=e,this.languages=i||{}}};var uS=a(57490);let uA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=new dm(i,H()),o=uS.Ay.createInstance();return n?a.g.st=o.t.bind(o):a.g.t=o.t.bind(o),o.use(ub.A).init({lng:e,fallbackLng:"en",debug:!1,backend:{backends:[uE.A,new uy(s,l)],backendOptions:[{prefix:"i18next_res_",expirationTime:6048e5},{translationsService:r}]},interpolation:{escapeValue:!1}}),o},uf=e=>{let{i18n:i,children:a,language:s}=e,l=dP(),[,n]=j(J),[r,o]=j(ec),d=dX(),[u,c]=(0,h.useState)(null),[p,g]=(0,h.useState)(!1);return((0,h.useEffect)(()=>{if(!l.isLoggedIn||0==l.userId){n({lang:"en"}),c(i("en",l,o,r)),g(!0);return}s?c(i(s,l,o,r)):d.getUserDetail(l.userId).then(e=>{if(!e)return;n(e);let a=e.lang;"auto"===a&&((a=(navigator.language||navigator.userLanguage).substring(0,2))||(a="en")),c(i(a,l,o,r))}),g(!0)},[l.token,s]),p)?(0,m.jsx)(N.xC,{i18n:u,children:a}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{"data-testid":"editor",style:{height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{children:"Loading translations..."})]})})},uj=e=>{let{question:i,handleUpdate:a,isAdvanced:s=!1,language:l="en",title:n="",attributes:r=[],simpleSettings:o=!1}=e,[d]=j(F),u=(e,a)=>{let s=e.split(".").reduce((e,i)=>e[i],i);return s?["string","number","boolean"].includes(typeof s)?s:"object"==typeof s?s[""]&&!a?s[""]:s[l]:void 0:""},c=(e,i)=>{let a=(null==i?void 0:i.attributePath)??"",s=a.toString().includes("attributes.")?a.replace("attributes.",""):"",n=a.includes("attributes."),r={};return n?r[s]={[i.languageBased?l:""]:e}:i.returnValues.map(i=>{r[i]=e[i]?e[i]:e}),{...r}};return r.length?(0,m.jsx)(a0,{simpleSettings:o,isAdvanced:s,title:n,children:r.map(e=>{if(e.attributePath,e.hidden)return(0,m.jsx)(h.Fragment,{},`${n}-settings-${e.attributePath}`);if(e.dependsOn){let i=e.dependsOn;if(!iq(u(i.attributePath,i.languageBased)))return(0,m.jsx)(h.Fragment,{},`${n}-settings-${e.attributePath}`)}let i=u(e.attributePath,e.languageBased);return(0,m.jsx)("div",{className:"right-side-bar-settings",children:(0,m.jsx)(sx,{tip:ss().ACTIVE_DISABLED,showTip:d,children:(0,m.jsx)(e.component,{...e.props,activeDisabled:d,noPermissionDisabled:!0,value:i||(e.props.value?e.props.value:""),name:e.attributePath,update:i=>{let s;return s=e.attributePath.includes("attributes."),void(a(c(i,e),s),r.map(s=>{if(s.dependsOn&&s.dependsOn.attributePath===e.attributePath&&"object"!=typeof i&&!iq(i)){let e=s.attributePath.includes("attributes.");a(c(s.onDependsToggle.onFalse,s),e)}}))},isSimpleSettings:o})})},`${n}-settings-${e.attributePath}${e.props.labelText}`)})}):(0,m.jsx)(m.Fragment,{})},uC=()=>{let e,i,a,s,l;return[{title:aK().SIMPLE,attributes:[(e=nO()).QUESTION_CODE,e.QUESTION_TYPE,e.MANDATORY,e.NUMBERS_ONLY,e.MAX_CHARACTERS,nH().SHOW_IN_STATISTICS,e.LOGIC,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(i=nO()).QUESTION_CODE,i.QUESTION_TYPE,i.MANDATORY,i.NUMBERS_ONLY,i.MAX_CHARACTERS,i.ENCRYPTED,i.SAVE_AS_DEFAULT,i.INPUT_VALIDATION]},{title:aK().DISPLAY,attributes:[(a=ng()).IMAGE_SETTINGS,a.ANSWER_PREFIX,a.ANSWER_SUFFIX,a.HIDE_TIP,a.ALWAYS_HIDE_THIS_QUESTION,a.CSS_CLASSES,a.TEXT_INPUT_WIDTH,a.TEXT_INPUT_BOX_SIZE,a.DISPLAY_ROWS]},{title:aK().LOGIC,attributes:[(s=nL()).RANDOMIZATION_GROUP_NAME,s.QUESTION_VALIDATION_EQUATION,s.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(l=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,l.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}]},uO=e=>{let{setScenarioToPatch:i,pendingScenarioName:a,setPendingScenarioName:s}=e,{surveyId:l}=(0,_.g)(),{survey:n,update:r}=dV(l),{focused:o,groupIndex:d,questionIndex:u}=dH(),{addToBuffer:c}=dF(),p=ay(o.qid,n).question,g=(null==p?void 0:p.scenarios)||[],[v,x]=(0,h.useState)(!!a);(0,h.useEffect)(()=>{if(!a)return;let e=g.find(e=>e.scid===a);if(e){let i=e.conditions.some(e=>e.cid.toString().includes("temp"));x(i),a&&!i&&s(null)}},[p,a,g]);let I=e=>{let i={qid:p.qid,scenarios:[{scid:e,action:op().SCENARIO.DELETE}]},a=iJ(p.qid).questionCondition(p.qid).delete();a.qid=p.qid,a.props=i,c(a),p.scenarios=g.filter(i=>i.scid!==e),p.scenarios.length||(p.relevance="1");let s=[...n.questionGroups];s[d].questions[u]=p,r({questionGroups:s}),o.scenarios=p.scenarios,o.relevance=p.relevance},T=(0,h.useCallback)(e=>e.scid===a&&v,[a,v]);return(0,m.jsx)("div",{className:"d-grid gap-2",children:g.map(e=>(0,m.jsxs)("div",{id:`scenario-${e.scid}`,className:sN()("scenario-list-item",{disabled:T(e)}),children:[(0,m.jsxs)("span",{className:"fw-medium",style:{cursor:"pointer"},onClick:()=>i({...e,qid:o.qid}),children:[t("Scenario")," ",e.scid]}),(0,m.jsx)("div",{className:"d-flex gap-2",children:(0,m.jsx)(s5,{className:"d-flex align-items-center p-0 text-secondary",variant:"link",onClick:()=>{var i;return i=e.scid,void ig({html:(0,m.jsx)(oC,{scenarioId:i,onConfirmDelete:()=>{I(i)}}),title:"",showCloseButton:!0,width:"807px"})},children:(0,m.jsx)(tY,{})})})]},e.scid))})};a(38263);let uw=e=>{let{index:i,condition:a,updateCondition:s,previousQuestions:l,valueIdentifier:n="cfieldname",onChange:r}=e,{focused:o}=dH(),d=oc(),u=(0,h.useMemo)(()=>l.map((e,i)=>{let{cfield:a,title:s,qid:l,answers:n}=e;return{value:a,label:`${i+1}. ${s.replace(/&nbsp;/g," ")}`,cqid:l,answers:n}}),[l]),c=(0,h.useMemo)(()=>u.find(e=>{let{value:i}=e;return i===a[n]})||null,[u,a[n],n]),p=r||(e=>{let{value:a,cqid:l,answers:n}=e;Object.entries({qid:+o.qid,cqid:+l,cfieldname:a,cquestions:a,answers:n,targetType:n.length>0?d.TARGET.ANSWER_OPTIONS:d.TARGET.CONSTANT,value:null,method:""}).forEach(e=>{let[a,l]=e;return s(i,a,l)})});return(0,m.jsx)(sY,{options:u,value:(null==c?void 0:c.value)||null,onChange:p,placeholder:t("Previous questions"),className:"mb-3 flex-grow-1"})},uq=e=>{let{index:i,condition:a,updateCondition:s,type:l="source",survey:n}=e,{focused:r}=dH(),o=(0,h.useMemo)(()=>{let e,i,a;return e=Object.entries((null==n?void 0:n.attributeDescriptions)||{}).map(e=>{let[i,a]=e;return{value:`{TOKEN:${i.toUpperCase()}}`,label:a.description?a.description:i}}),i=new Set(aY().map(e=>{let{value:i}=e;return i})),a=e.filter(e=>{let{value:a}=e;return!i.has(a)}),[...aY(),...a]},[n]),d=(0,h.useMemo)(()=>o.find(e=>{let{value:i}=e;return"source"===l?i===a.cfieldname:i===a.value})||null,[o,a.cfieldname,a.value,l]);return(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)(sY,{id:`participant-data-select-${i}-${l}`,options:o,value:(null==d?void 0:d.value)||null,onChange:e=>{let{value:a}=e;if("target"===l)return void s(i,"value",a);let n={qid:r.qid,cqid:0,cfieldname:a,cquestions:a,targetType:oc().TARGET.CONSTANT};Object.keys(n).forEach(e=>s(i,e,n[e]))},placeholder:t("Participant data")})})},uM=e=>{let{index:i,condition:a,updateCondition:s}=e,{groupIndex:l,questionIndex:n}=dH(),r=0===l&&0===n,o=oc(),d=(0,h.useMemo)(()=>r?o.SOURCE.PARTICIPANT_DATA:a.sourceType||o.SOURCE.QUESTION,[r,a.sourceType]);return r&&a.sourceType!==o.SOURCE.PARTICIPANT_DATA&&s(i,"sourceType",o.SOURCE.PARTICIPANT_DATA),(0,m.jsx)("div",{className:"text-sm mb-3 p-0 advanced-toggle",children:(0,m.jsx)(s4,{id:`question-type-toggle-${i}`,toggleOptions:[{name:t("Question"),value:o.SOURCE.QUESTION,disabled:r},{name:t("Participant data"),value:o.SOURCE.PARTICIPANT_DATA}],className:"condition-toggle",value:d,onChange:e=>{if(e===a.sourceType)return;let l={sourceType:e,targetType:o.TARGET.CONSTANT,cqid:"",cfieldname:"",cquestions:"",method:"",value:null,answers:[]};Object.keys(l).forEach(e=>s(i,e,l[e]))}})})},uL=e=>{let{index:i,condition:a,updateCondition:s,previousQuestions:l}=e,n=l.filter(e=>"M"!==e.type&&"P"!==e.type).map(e=>({...e,cfield:`@${e.cfield}@`}));return 0===n.length?null:(0,m.jsx)(uw,{index:i,condition:a,updateCondition:()=>{},previousQuestions:n,valueIdentifier:"value",onChange:e=>{let{value:a}=e;s(i,"value",a)}})},uD=e=>{let{index:i,condition:a,updateCondition:s}=e,l=(0,h.useMemo)(()=>a.answers.map(e=>{let{value:i,label:a}=e;return{value:String(i),label:a}}),[a.answers]),n=(0,h.useMemo)(()=>{if(null==a.value)return null;if(""===a.value)return l.find(e=>""===e.value)||null;let e=a.value.toString().split(","),i=l.filter(i=>{let{value:a}=i;return e.includes(a)});return a.cid?i[0]:i},[l,a.value,a.cid]);return(0,m.jsx)(sY,{options:l,value:n?a.cid?null==n?void 0:n.value:n:null,onChange:e=>{s(i,"value",Array.isArray(e)?e.length>0?e.map(e=>{let{value:i}=e;return i}).join(","):null:(null==e?void 0:e.value)??null)},placeholder:t("Predefined"),className:"mb-3",isMultiselect:!a.cid})},uR=e=>{let{index:i,condition:a,updateCondition:s,previousQuestions:l}=e,n=oc(),r=om(),o=(0,h.useCallback)(e=>{let l=(null==e?void 0:e.value)||"";s(i,"targetType",l),l===n.TARGET.REGEX&&s(i,"method",r.REGEX),s(i,"value",a.targetType===l?a.value:null)},[a.targetType,a.value]),d=(0,h.useMemo)(()=>{let e=[];if(a.method!==r.REGEX){var i;(null==(i=a.answers)?void 0:i.length)>0&&e.push({label:t("Select answer option(s)"),value:n.TARGET.ANSWER_OPTIONS}),e.push({label:t("Free value (constant)"),value:"Constant"}),l.length>0&&e.push({label:t("Compare to answer of other question"),value:n.TARGET.ANSWER_OF_OTHER_QUESTION}),e.push({label:t("Participant data"),value:n.TARGET.PARTICIPANT_DATA})}return e.push({label:t("RegExp"),value:n.TARGET.REGEX,isDisabled:a.method!==r.REGEX}),e},[a.answers,a.method,a.cfieldname]),u=d.find(e=>e.value===a.targetType);return(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)(sY,{options:d,value:(null==u?void 0:u.value)||null,onChange:o})})},uP=e=>{let{index:i,condition:a,updateCondition:s}=e,l=a.value??"",[n,r]=(0,h.useState)(l);return(0,h.useEffect)(()=>{null===a.value?(s(i,"value",""),r("")):a.value!==n&&r(l)},[a.value]),(0,m.jsx)(s_,{type:"text",placeholder:t("Value"),value:a.value,onChange:e=>{let a=e.target.value;r(a),s(i,"value",a)},className:"mb-3"})},uk=e=>{let{index:i,condition:a,updateCondition:s}=e,l=(0,h.useCallback)(e=>s(i,"value",e.target.value),[i]);return(0,m.jsx)("textarea",{value:a.value,onChange:l,placeholder:t("Enter regular expression"),className:"mb-3 p-2 w-100 form-control",rows:5})},uU=e=>{let{index:i,condition:a,updateCondition:s,survey:l}=e,n=[{value:"<",label:t("Less than")},{value:"<=",label:t("Less than or equal to")},{value:"==",label:t("equals")},{value:"!=",label:t("Not equal to")},{value:">=",label:t("Greater than or equal to")},{value:">",label:t("Greater than")},{value:"RX",label:t("Regular expression")}],r=oc(),o=om(),d=lh();(0,h.useEffect)(()=>{a.targetType===r.TARGET.REGEX&&a.method!==o.REGEX&&s(i,"method",o.REGEX)},[a.targetType,a.method,i,s]);let u=(0,h.useMemo)(()=>n.find(e=>e.value===a.method)||null,[a.method]),c=(0,h.useCallback)(e=>{let l=(null==e?void 0:e.value)||null,n=l===o.REGEX?r.TARGET.REGEX:a.answers.length>0?r.TARGET.ANSWER_OPTIONS:r.TARGET.CONSTANT;s(i,"method",l),l===o.REGEX&&s(i,"value",null),a.targetType&&a.targetType!==r.TARGET.REGEX&&l!==o.REGEX||s(i,"targetType",n)},[a.answers.length,a.targetType]),p=(0,h.useMemo)(()=>{if(a.sourceType===r.SOURCE.QUESTION){let e=ay(+a.cqid,l).question;if(e&&(e.type===d.MULTIPLE_CHOICE.type||e.type===d.MULTIPLE_CHOICE_WITH_COMMENTS.type))return n.map(e=>({...e,isDisabled:![o.EQUAL,o.NOT_EQUAL].includes(e.value)}))}return[...n]},[a.sourceType,a.cqid]);return(0,m.jsx)(sY,{options:p,value:(null==u?void 0:u.value)||null,onChange:c,placeholder:t("Comparison operator"),className:"mb-3"})},uH=e=>{let{index:i,condition:a,pervCondition:s,previousQuestions:l,updateCondition:n,removeCondition:r,focused:o,survey:d,isUpdateAction:u}=e,[c,p]=(0,h.useState)(a.isDeleted||!1),g=oc();return(0,m.jsxs)("div",{children:[i>0&&(0,m.jsx)("div",{className:"text-center text-muted mb-2",children:(0,m.jsx)("strong",{children:s.cfieldname===a.cfieldname?t("OR"):t("AND")})}),(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,m.jsx)("span",{className:"text-start text-muted fw-bold",children:t("Display only if")}),(0,m.jsx)(s5,{variant:"btn bg-transparent border-0 shadow-none p-0",onClick:()=>{if(a.cid){let e=!c;p(e),n(i,"isDeleted",e)}else r(i)},children:u&&c?(0,m.jsx)(t8,{width:"18",height:"18",className:"fill-current"}):(0,m.jsx)(tg,{className:"fill-current"})})]}),(0,m.jsxs)("div",{className:`${c?"disabled":""}`,children:[(0,m.jsx)(uM,{index:i,condition:a,updateCondition:n,focused:o}),(0,m.jsx)("div",{className:"mb-4",children:a.sourceType===g.SOURCE.QUESTION?(0,m.jsx)(uw,{index:i,condition:a,updateCondition:n,previousQuestions:l}):(0,m.jsx)(uq,{index:i,condition:a,updateCondition:n,survey:d})}),""!==a.cfieldname&&(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(uU,{index:i,condition:a,updateCondition:n,survey:d})}),""!==a.cfieldname&&""!==a.method&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("span",{className:"text-start text-muted fw-bold mb-2 d-block",children:t("Reference value")}),(0,m.jsx)(uR,{index:i,condition:a,updateCondition:n,previousQuestions:l})]}),a.targetType===g.TARGET.CONSTANT&&(0,m.jsx)(uP,{index:i,condition:a,updateCondition:n}),a.targetType===g.TARGET.ANSWER_OPTIONS&&(0,m.jsx)(uD,{index:i,condition:a,updateCondition:n}),a.targetType===g.TARGET.ANSWER_OF_OTHER_QUESTION&&(0,m.jsx)(uL,{index:i,condition:a,updateCondition:n,previousQuestions:l}),a.targetType===g.TARGET.PARTICIPANT_DATA&&(0,m.jsx)(uq,{index:i,condition:a,updateCondition:n,type:"target",survey:d}),a.targetType===g.TARGET.REGEX&&(0,m.jsx)(uk,{index:i,condition:a,updateCondition:n})]})]})]},`condition-item-${i}`)},uG=oc(),uV="update",uY=e=>{let{survey:i,update:a,language:s,scenarioToPatch:l=null,setPendingScenarioName:n,onNavigateBack:r=()=>{}}=e,{focused:o,groupIndex:d,questionIndex:u}=dH(),{addToBuffer:c}=dF(),p=(0,h.useMemo)(()=>{var e;return null==(e=ay(o.qid,i))?void 0:e.question},[o.qid,i]),[g,v]=(0,h.useState)(l?l.scid:1),x=(0,h.useMemo)(()=>((e,i,a,s)=>{let l=lh(),n=((e,i,a)=>{if(!e||"object"!=typeof e)return[];let s=[];return(e.questionGroups||[]).forEach(l=>{((null==l?void 0:l.questions)||[]).forEach(n=>{n&&((e,i,a,s,l)=>{if(!(null==e?void 0:e.questionGroups)||!(null==i?void 0:i.questions))return!1;let n=e.questionGroups.indexOf(i),r=i.questions.indexOf(a);return -1!==n&&-1!==r&&(n<s||n===s&&r<l)})(e,l,n,i,a)&&s.push(n)})}),s})(i,a,s),r=[],o=[],d=i=>{var a,s;return iO((null==(s=i.l10ns)||null==(a=s[e])?void 0:a.question)||"")},u=i=>{var a,s;return iO((null==(s=i.l10ns)||null==(a=s[e])?void 0:a.answer)||i.code)},c=function(e,i){var a;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=(a=e.type,["A","B","C","E",l.ARRAY.type,l.ARRAY_COLUMN.type,l.ARRAY_NUMBERS.type,l.ARRAY_TEXT.type,l.ARRAY_DUAL_SCALE.type,l.MULTIPLE_NUMERICAL_INPUTS.type,l.MULTIPLE_SHORT_TEXTS.type].includes(a))?"":" ";!0!==e.mandatory&&"S"!==e.mandatory&&o.push({cfield:m(e,i,s),value:n,label:t("No answer")})},m=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=i?i.title:"",l=p(e,i);return`${l}${e.sid}X${e.gid}X${e.qid}${s}${a}`},p=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i&&(e.type===l.MULTIPLE_CHOICE.type||e.type===l.MULTIPLE_CHOICE_WITH_COMMENTS.type)?"+":""},h=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=d(e),n=l;if(i){let e=d(i);n=`[${e}]${s?`[${s}]`:""} ${l}`}else s&&(n=`[${s}] ${l}`);r.push({title:n,qid:e.qid,type:e.type,cfield:m(e,i,a)})},g=function(e,i,a,s){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";o.push({cfield:m(e,i,l),value:a,label:s})},v=function(e,i,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";for(let n=s;n<=a;n++)g(e,i,n,n,l)},x=function(e,i,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";for(let l of a)g(e,i,l.code,`${l.code} (${u(l)})`,s)},I=e=>{h(e),v(e,null,5),c(e,null)},_=(e,i,a)=>{h(e,i),a.forEach(a=>{let{value:s,labelKey:l}=a;return g(e,i,s,l)}),c(e,i)},T=(e,i)=>{h(e,i),x(e,i,e.answers??[]),c(e,i)},N=e=>{let i={};(e.subquestions??[]).filter(e=>1===e.scaleId).forEach(e=>{i[e.title]=d(e)}),(e.subquestions??[]).filter(e=>0===e.scaleId).forEach(a=>{Object.entries(i).forEach(i=>{let[s,l]=i;h(e,a,`_${s}`,`${l}`)})})},b=e=>{let i=e.subquestions??[];for(let a=i.length-1;a>=0;a--)h(e,i[a]),c(e,i[a])},E=i=>{var a,s,l,n;let o=` [Group of checkboxes] ${iO((null==(s=i.l10ns)||null==(a=s[e])?void 0:a.question)||"")}`;r.push({title:o,qid:i.qid,type:i.type,cfield:m(i,null)});let d=i.subquestions??[];for(let a=d.length-1;a>=0;a--){let s=`${d[a].title} (${iO((null==(n=d[a].l10ns)||null==(l=n[e])?void 0:l.question)||d[a].title)})`;g(i,null,d[a].title,s),h(i,d[a],"","Single checkbox"),g(i,d[a],"Y",t("Checked (Y)")),g(i,d[a],"",t("Not checked"))}},y=e=>{h(e),"Y"===e.other&&g(e,null,"-oth-",t("Other")),x(e,null,e.answers??[]),c(e,null)},S=i=>{h(i);let a=i.answers??[];for(let n=0;n<a.length;n++){var s,l;g(i,null,a[n].code,`${a[n].code} (${iO((null==(l=a[n].l10ns)||null==(s=l[e])?void 0:s.answer)||a[n].code)})`)}c(i,null)},A={A:I,B:(e,i)=>{h(e,i),v(e,i,10),c(e,i)},C:(e,i)=>{_(e,i,[{value:"Y",labelKey:t("Yes")},{value:"N",labelKey:t("No")},{value:"U",labelKey:t("Uncertain")}])},E:(e,i)=>{_(e,i,[{value:"I",labelKey:t("Increase")},{value:"S",labelKey:t("Same")},{value:"D",labelKey:t("Decrease")}])},[l.ARRAY.type]:T,[l.ARRAY_COLUMN.type]:T,[l.ARRAY_NUMBERS.type]:N,[l.ARRAY_TEXT.type]:N,[l.ARRAY_DUAL_SCALE.type]:i=>{var a,s,l,n,r,o;let d=i.subquestions??[],m=(null==(l=i.attributes)||null==(s=l.dualscale_headerA)||null==(a=s[e])?void 0:a.trim())?i.attributes.dualscale_headerA[e]:t("Scale 1"),p=(null==(o=i.attributes)||null==(r=o.dualscale_headerB)||null==(n=r[e])?void 0:n.trim())?i.attributes.dualscale_headerB[e]:t("Scale 2");d.forEach(e=>{h(i,e,"#0",`${m}`),h(i,e,"#1",`${p}`),(i.answers??[]).filter(e=>0===e.scaleId||1===e.scaleId).forEach(a=>{let s=`#${a.scaleId}`;g(i,e,a.code,`${a.code} (${u(a)})`,s)}),c(i,e,"#0"),c(i,e,"#1")})},[l.MULTIPLE_NUMERICAL_INPUTS.type]:b,[l.MULTIPLE_SHORT_TEXTS.type]:b,[l.MULTIPLE_CHOICE.type]:E,[l.MULTIPLE_CHOICE_WITH_COMMENTS.type]:E,[l.RANKING.type]:e=>{let i=e.answers??[],a=i.map(e=>({value:e.code,label:`${e.code} (${u(e)})`}));for(let s=1;s<=i.length;s++)h(e,null,s,`${t("RANK")} ${s}`),a.forEach(i=>{g(e,null,i.value,i.label,s)}),c(e,null,s)},[l.YES_NO.type]:e=>{h(e),g(e,null,"Y",t("Yes")),g(e,null,"N",t("No")),c(e,null)},[l.GENDER.type]:e=>{h(e),g(e,null,"F",t("Female (F)")),g(e,null,"M",t("Male (M)")),c(e,null)},[l.NUMERIC.type]:e=>{h(e),c(e,null)},[l.DATE_TIME.type]:e=>{h(e),x(e,null,e.answers??[]),c(e,null)},[l.SINGLE_CHOICE_LIST_RADIO.type]:y,[l.SINGLE_CHOICE_DROPDOWN.type]:y,[l.SINGLE_CHOICE_FIVE_POINT_CHOICE.type]:I};for(let e of n)if(e.type in A){let i=A[e.type],a=i.length;if(1===a)i(e);else if(2===a)for(let a of e.subquestions||[])i(e,a)}else S(e);return r.forEach(e=>{e.answers=o.filter(i=>i.cfield===e.cfield)}),{cQuestions:r,cAnswers:o}})(s,i,d,u).cQuestions,[s,i.sid,d,u]),I=l?uV:"create",_=l?!!l&&l.conditions.map(e=>{let i,a=(i=l.scid,{cid:+e.cid,qid:+e.qid,cqid:+e.cqid,cfieldname:e.cfieldname,cquestions:e.cfieldname,method:e.method,scenario:i,value:e.value,answers:[],isDeleted:!1,isUpdated:!1});return a.sourceType=/^{TOKEN:([^}]*)}$/.test(e.cfieldname)?oh.SOURCE.PARTICIPANT_DATA:oh.SOURCE.QUESTION,((e,i,a)=>{if(e.method===og.REGEX){i.targetType=oh.TARGET.REGEX;return}if(/^{TOKEN:([^}]*)}$/.test(e.value)){i.targetType=oh.TARGET.PARTICIPANT_DATA;return}if(/^@([0-9]+X[0-9]+X[^@]*)@$/.test(e.value)){i.targetType=oh.TARGET.ANSWER_OF_OTHER_QUESTION;return}let s=a.find(e=>void 0!==e.answers.find(e=>e.cfield===i.cfieldname));if(s){var l;s.answers.find(i=>i.value.toString()===e.value.toString())&&(i.targetType=oh.TARGET.ANSWER_OPTIONS),(null==(l=s.answers)?void 0:l.length)>0&&(i.answers=s.answers)}i.targetType||(i.targetType=oh.TARGET.CONSTANT)})(e,a,x),a.answers||(a.answers=[]),a}).sort((e,i)=>e.cfieldname.localeCompare(i.cfieldname)):[ov()],[T,N]=(0,h.useState)(_),[b,E]=(0,h.useState)(!0),y=0===p.scenarios.length&&"1"!==p.relevance,S=(0,h.useRef)(!1);(0,h.useEffect)(()=>{y&&!S.current&&(oL(t("Switching to the visual condition builder will overwrite the condition written in expression script mode.")),S.current=!0)},[p]);let{removeCondition:A,addCondition:f,updateCondition:j,handleSavingScenario:C,handleScenarioNameChange:O}=(e=>{let{survey:i,question:a,focused:s,scid:l,scenarioToPatch:n,groupIndex:r,questionIndex:o,conditions:d,addToBuffer:u,setScid:c,setConditions:m,update:p,setPendingScenarioName:g,onNavigateBack:v}=e,x=a.scenarios,I=(0,h.useRef)(n?l:null),_=e=>{((e,i,a)=>{let[s]=e,{scid:l,conditions:n}=s;i.scenarios.some(e=>e.scid===l)?i.scenarios=i.scenarios.map(e=>e.scid===l?{...e,conditions:[...e.conditions.filter(e=>!n.some(i=>i.cid==e.cid)),...n].filter((e,i,a)=>a.findIndex(i=>i.cid==e.cid)===i)}:e):n.length&&(i.scenarios=[...i.scenarios,s]),a.current!==l&&(i.scenarios=i.scenarios.filter(e=>e.scid!==a.current)),i.scenarios=i.scenarios.filter((e,i,a)=>a.findIndex(i=>i.scid===e.scid)===i),a.current=l})(e,a,I),o_(i,a,r,o,p,s)},T=e=>"delete"===e?t("Condition deleted successfully"):t("Condition applied successfully");return{addCondition:()=>{m([...[...d].sort((e,i)=>Number(e.cqid)-Number(i.cqid)),{...ov(),scenario:l}])},updateCondition:(e,i,s)=>{m(l=>l.map((l,r)=>{if(r!==e)return l;let o={...l,[i]:s};return n&&(o.isUpdated=ox(o,n,a)),o}))},removeCondition:e=>{d[e].cid?m(i=>i.map((i,a)=>a===e?{...i,isDeleted:!0}:i)):m(i=>{let a=i.filter((i,a)=>a!==e);return 0===a.length?[ov()]:a})},handleScenarioNameChange:e=>{let i=Number(e.target.value);if(isNaN(i))return;c(i);let s=e=>{let s={...e,scenario:i};return{...s,...n&&{isUpdated:ox(s,n,a)}}};m(e=>e.map(s))},handleSavingScenario:()=>{try{let e=d.filter(e=>e.isDeleted),c="",m=!1;(d.splice(0,d.length,...d.filter(e=>!e.isDeleted).flatMap(e=>{let{value:i,...a}=e;return i.toString().split(",").map(e=>({...a,value:e}))})),e.length)&&(Object.values(e).forEach(e=>{let l={qid:e.qid,scenarios:[{scid:n.scid,conditions:[{cid:e.cid,action:op().CONDITION.DELETE}]}]},d=iJ(e.cid).questionCondition().delete();d.qid=e.qid,d.props=l,u(d),a.scenarios=a.scenarios.map(i=>(i.scid===n.scid&&(i.conditions=i.conditions.filter(i=>i.cid!=e.cid)),i)).filter(e=>e.conditions.length>0),0===a.scenarios.length&&(a.relevance="1"),o_(i,a,r,o,p,s),s.scenarios=a.scenarios,s.relevance="1"}),c=T("delete"),m=!0);let h={qid:a.qid,scenarios:[]},x=d.filter(e=>e.isUpdated);if(x.length){let e=oE(a,x,l);h.scenarios.push(...e.scenarios),_(e.scenarios),c=T("update"),m=!0}let I=d.filter(e=>!e.cid&&!a.scenarios.some(i=>i.conditions.some(a=>a.cid!=e.cid&&a.qid==e.qid&&a.cqid==e.cqid&&a.cfieldname===e.cfieldname&&a.method===e.method&&a.value===e.value&&(i.scid===l||i.scid===(null==n?void 0:n.scid))))),N=d.filter(e=>!e.cid).length!==I.length;if(I.length){let e=I.filter((e,i,a)=>i===a.findIndex(i=>e.qid===i.qid&&e.cqid===i.cqid&&e.cfieldname===i.cfieldname&&e.method===i.method&&e.value===i.value&&e.sourceType===i.sourceType&&e.targetType===i.targetType));if(e.length){let i=oE(a,e,l);h.scenarios.push(...i.scenarios),_(i.scenarios),c=T("create"),g(l),m=!0}}if(h.scenarios.length>0){let e=iJ(a.qid).questionCondition().update();e.qid=a.qid,e.props=h,u(e)}if(!m&&N){iv(t("Condition already exists"),"center"),v();return}oM(c),v()}catch(e){throw a.scenarios=x,s.scenarios=x,Error(`Scenario save failed: ${e.message}`)}}}})({question:p,scenarioToPatch:l,survey:i,groupIndex:d,questionIndex:u,update:a,focused:o,setPendingScenarioName:n,onNavigateBack:r,scid:g,setScid:v,setConditions:N,conditions:T,addToBuffer:c});(0,h.useEffect)(()=>{l&&l.qid!==o.qid&&r()},[o.qid]);let w=(0,h.useMemo)(()=>T.every(e=>{let{method:i,cqid:a,targetType:s,value:l,sourceType:n,cfieldname:r}=e,o=Object.values(om()).includes(i),d=s===uG.TARGET.CONSTANT||null!==l,u=""!==g&&!isNaN(g),c=n===uG.SOURCE.QUESTION?"number"==typeof a&&a>0:!!r;return o&&d&&u&&c}),[T,g]),q=(0,h.useCallback)(()=>I===uV,[I]),M=(0,h.useCallback)(()=>{oI(T,l,g,q)?oD(r):r()},[T,l,g,q,r]);return(0,h.useEffect)(()=>{E(!w||q()&&!oI(T,l,g,q))},[w,T,I]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:sN()("survey-settings"),"data-testid":"condition-designer",children:(0,m.jsx)(rN,{className:"condition-designer-sidebar right-side-bar-header primary",children:(0,m.jsxs)("div",{className:"d-flex gap-2 fw-bold",children:[(0,m.jsx)(s5,{className:"d-flex align-items-center p-0",variant:"btn bg-transparent border-0 shadow-none p-0",onClick:M,children:(0,m.jsx)(to,{className:"text-black"})}),(0,m.jsx)("span",{className:"text-start",children:t("Condition designer")})]})})}),(0,m.jsxs)("div",{className:"scenario-container",children:[(0,m.jsxs)("div",{className:"scenario-header",children:[(0,m.jsx)("span",{className:"text-muted fw-bold",children:1===g?t("Default scenario"):t("Scenario")}),(0,m.jsx)("div",{className:"scenario-input mt-2",children:(0,m.jsx)(s_,{type:"number",onChange:O,placeholder:t("Scenario"),value:g,min:"1"})})]}),(0,m.jsx)("div",{className:"conditions-container",children:T.map((e,a)=>(0,m.jsx)(uH,{index:a,condition:e,pervCondition:T[a-1],previousQuestions:x,updateCondition:j,removeCondition:A,focused:o,survey:i,isUpdateAction:q()},`condition-item-${e.cid??a}`))}),(0,m.jsx)("div",{className:"text-center",children:(0,m.jsxs)(s5,{className:"mb-3",onClick:f,variant:"outline-primary",style:{border:"none"},disabled:!w,children:[(0,m.jsx)(lG.A,{})," ",t("Add condition")]})})]}),T.length>0&&(0,m.jsx)("div",{className:"p-2 m-2 text-center",children:(0,m.jsx)(s5,{onClick:()=>{let e=()=>C();y?(e=>{let{script:i,onConfirm:a,onCancel:s=()=>{}}=e;ig({html:(0,m.jsx)(oq,{script:i,onConfirmChanges:a,onCancelChanges:s}),title:"",showCloseButton:!0,width:"807px"})})({script:p.relevance,onConfirm:e,onCancel:r}):e()},className:"mt-3 condition-apply-button",variant:b?"secondary":"primary",disabled:b,children:t("Apply")})})]})},uQ=e=>{let{onShowPanel:i}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsx)("hr",{className:"mb-3"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"mb-3 fw-bolder",children:t("Condition designer")}),(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)(s5,{variant:"secondary",className:"add-condition-button d-flex align-items-center justify-content-center",onClick:()=>i(null,!0),children:(0,m.jsx)(te,{className:"text-white fill-current"})}),(0,m.jsx)("span",{className:"d-inline fw-bolder",children:t("New logic")})]})]})]})})},uB=function(e,i,a,s,l,n){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{},o=i.questionGroups[s].questions[a];if("1"!==e.trim()&&e.trim()===o.relevance.trim())return;let d={qid:o.qid,action:op().CONDITION_SCRIPT.UPDATE,script:e.trim()},u=iJ(o.qid).questionCondition().update();u.qid=o.qid,u.props=d,l(u),o.relevance=e,o.scenarios=[];let c=[...i.questionGroups];c[s].questions[a]=o,n({questionGroups:c}),r(),"1"!==e.trim()&&oM()},uF=e=>{let{onNavigateBack:i=()=>{}}=e,{surveyId:a}=(0,_.g)(),{survey:s,update:l}=dV(a),{focused:n,groupIndex:r,questionIndex:o}=dH(),{addToBuffer:d}=dF(),u=ay(n.qid,s).question,[c,p]=(0,h.useState)("1"===u.relevance?"":u.relevance);(0,h.useEffect)(()=>{p("1"===u.relevance?"":u.relevance)},[n]);let g=()=>{uB(c,s,o,r,d,l,i)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:sN()("survey-settings"),"data-testid":"condition-designer-expression-script",children:(0,m.jsx)(rN,{className:"condition-designer-sidebar right-side-bar-header primary",children:(0,m.jsxs)("div",{className:"d-flex gap-2 fw-bold",children:[(0,m.jsx)(s5,{className:"d-flex align-items-center p-0",variant:"btn bg-transparent border-0 shadow-none p-0",onClick:()=>{(""!==c.trim()||"1"!==u.relevance.trim())&&u.relevance.trim()!==c.trim()?oD(i,t("You are about to go back without saving your changes. Do you want to proceed?")):i()},children:(0,m.jsx)(to,{className:"text-black"})}),(0,m.jsx)("span",{className:"text-start",children:t("Expression script")})]})})}),(0,m.jsxs)("div",{className:"expression-script-container",children:[(0,m.jsx)("div",{className:"expression-script-header",children:(0,m.jsx)("p",{children:t("All scenarios")})}),(0,m.jsxs)("div",{className:"expression-script-body",style:{maxWidth:"800px",margin:"0 auto"},children:[(0,m.jsx)("span",{className:"expression-script-label mb-1",children:t("Expression script")}),(0,m.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,m.jsx)("textarea",{onChange:e=>{p(e.target.value)},className:"expression-script-textarea no-resize",value:c})})]})]}),(0,m.jsx)("div",{className:"p-2 m-2 text-center",children:(0,m.jsx)(s5,{onClick:()=>{(null==u?void 0:u.scenarios.length)>0?oR({onConfirm:()=>g(c),onCancel:i}):g(c)},variant:oT(c,u)?"secondary":"primary",disabled:oT(c,u),children:t("Apply")})})]})},uz=e=>{let{onShowPanel:i,onNavigateBack:a}=e,{surveyId:s}=(0,_.g)(),{survey:l,update:n}=dV(s),{focused:r,groupIndex:o,questionIndex:d}=dH(),{addToBuffer:u}=dF(),c=ay(r.qid,l).question,p=((null==c?void 0:c.scenarios)??[]).length>0,h=()=>{p&&oL(t("Conditions written in ExpressionScript mode can’t be displayed inside the visual condition builder."))},g=e=>{uB(e,l,d,o,u,n,a)};return(0,m.jsxs)("div",{className:"condition-script-trigger",children:[(0,m.jsx)("span",{className:"text-muted text-truncate",style:{cursor:"pointer"},onClick:()=>{i(null,!1,!0),h()},children:(null==c?void 0:c.relevance)==="1"?t("Enter expression..."):(null==c?void 0:c.relevance)||""}),(0,m.jsxs)("div",{className:"d-flex gap-2",children:[(0,m.jsx)(s5,{className:"d-flex align-items-center p-0 text-secondary",variant:"link",onClick:()=>{ig({html:(0,m.jsx)(of,{question:c,onApply:g}),title:"",showCloseButton:!1,width:"1156px"}),h()},children:(0,m.jsx)(tV,{})}),(null==c?void 0:c.relevance)&&"1"!==c.relevance&&(0,m.jsx)(s5,{className:"d-flex align-items-center p-0",variant:"link",onClick:()=>{(e=>{let{onConfirmDelete:i}=e;ig({html:(0,m.jsx)(oj,{onConfirmDelete:i}),title:"",showCloseButton:!0,width:"807px"})})({onConfirmDelete:()=>g("1")})},children:(0,m.jsx)(tY,{})})]})]})},u$=e=>{var i;let{surveyId:a}=e,[s,l]=j("question_settings_options",{isAdvanced:!1}),{survey:n,update:r,language:o}=dV(a),{addToBuffer:d}=dF(),[u,c]=(0,h.useState)({isConditionPanelOpen:!1,isExpressionScriptPanelOpen:!1}),[p,g]=(0,h.useState)(null),[v,x]=(0,h.useState)(null),{focused:I={},unFocus:_,setFocused:T,groupIndex:N,questionIndex:b}=dH();(0,h.useEffect)(()=>{S()},[null==I?void 0:I.qid]);let E=(0,h.useMemo)(()=>{let e,i,a,s,l,n,r,o,d,u,c,m,p,h,g,v,x,_,T,N,b,E,y,S,A,f,j,C,O,w,q,M,L,D,R,P,k,U,H,G,V,Y,Q,B,F,z,$,W,Z,K,X,J,ee,et,ei,ea,es,el,en,er,eo,ed,eu,ec,em,ep,eh,eg,ev,ex,eI,e_,eT,eN,eb,eE,ey,eS,eA,ef,ej,eC,eO,ew,eq,eM,eL,eD,eR,eP,ek,eU,eH,eG,eV,eY,eQ,eB,eF,ez,e$,eW,eZ,eK,eX,eJ,e0,e1,e2,e3,e6,e4,e5,e7,e9,e8,te,tt,ti,ta,ts,tl,tn,tr,to,td,tu,tc,tm,tp,th,tg,tv,tx,tI,t_,tT,tN,tb,tE,ty,tS,tA,tf,tj,tC,tO,tw,tq,tM,tL,tD,tR,tP,tk,tU,tH,tG,tV,tY,tQ,tB;return(null==I?void 0:I.qid)?({[lh().ARRAY.theme]:[{title:aK().SIMPLE,attributes:[(e=nO()).QUESTION_CODE,e.QUESTION_TYPE,e.MANDATORY,e.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(i=nO()).QUESTION_CODE,i.QUESTION_TYPE,i.MANDATORY,i.ENCRYPTED,i.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(a=ng()).IMAGE_SETTINGS,a.RANDOM_ORDER,a.KEEP_CODE_ORDER,a.SUBQUESTION_WIDTH,a.REPEAT_HEADERS,a.HIDE_TIP,a.ALWAYS_HIDE_THIS_QUESTION,a.CSS_CLASSES,a.USE_DROPDOWN_PRESENTATION]},{title:aK().LOGIC,attributes:[(s=nL()).MINIMUM_ANSWERS,s.MAXIMUM_ANSWERS,s.ARRAY_FILTER_EXCLUSION,s.ARRAY_FILTER,s.ARRAY_FILTER_STYLE,s.EXCLUSIVE_OPTIONS,s.RANDOMIZATION_GROUP_NAME,s.QUESTION_VALIDATION_EQUATION,s.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(l=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,l.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(n=nH()).SHOW_IN_STATISTICS,n.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().ARRAY_COLUMN.theme]:[{title:aK().SIMPLE,attributes:[(r=nO()).QUESTION_CODE,r.QUESTION_TYPE,r.MANDATORY,r.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(o=nO()).QUESTION_CODE,o.QUESTION_TYPE,o.MANDATORY,o.ENCRYPTED,o.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(d=ng()).IMAGE_SETTINGS,d.RANDOM_ORDER,d.KEEP_CODE_ORDER,d.HIDE_TIP,d.ALWAYS_HIDE_THIS_QUESTION,d.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(u=nL()).RANDOMIZATION_GROUP_NAME,u.QUESTION_VALIDATION_EQUATION,u.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(c=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,c.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(m=nH()).SHOW_IN_STATISTICS,m.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().ARRAY_DUAL_SCALE.theme]:[{title:aK().SIMPLE,attributes:[(p=nO()).QUESTION_CODE,p.QUESTION_TYPE,p.MANDATORY,p.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(h=nO()).QUESTION_CODE,h.QUESTION_TYPE,h.MANDATORY,h.ENCRYPTED,h.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(g=ng()).IMAGE_SETTINGS,g.RANDOM_ORDER,g.KEEP_CODE_ORDER,g.SUBQUESTION_WIDTH,g.REPEAT_HEADERS,g.HIDE_TIP,g.ALWAYS_HIDE_THIS_QUESTION,g.CSS_CLASSES,g.USE_DROPDOWN_PRESENTATION,g.DROPDOWN_PREFIX_SUFFIX,g.DROPDOWN_SEPARATOR]},{title:aK().LOGIC,attributes:[(v=nL()).MINIMUM_ANSWERS,v.MAXIMUM_ANSWERS,v.ARRAY_FILTER_EXCLUSION,v.ARRAY_FILTER,v.ARRAY_FILTER_STYLE]},{title:aK().OTHER,attributes:[(x=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,x.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(_=nH()).SHOW_IN_STATISTICS,_.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().ARRAY_NUMBERS.theme]:[{title:aK().SIMPLE,attributes:[(T=nO()).QUESTION_CODE,T.QUESTION_TYPE,T.MANDATORY,T.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(N=nO()).QUESTION_CODE,N.QUESTION_TYPE,N.MANDATORY,N.ENCRYPTED,N.SAVE_AS_DEFAULT,N.INPUT_VALIDATION,N.MAX_CHARACTERS]},{title:aK().DISPLAY,attributes:[(b=ng()).IMAGE_SETTINGS,b.MINIMUM_VALUE,b.MAXIMUM_VALUE,b.REVERSE_ANSWER_ORDER,b.RANDOM_ORDER,b.KEEP_CODE_ORDER,b.SUBQUESTION_WIDTH,b.REPEAT_HEADERS,b.GET_ORDER_FROM_PREVIEW_QUESTION,b.HIDE_TIP,b.ALWAYS_HIDE_THIS_QUESTION,b.CSS_CLASSES,b.TEXT_INPUT_BOX_SIZE,b.TEXT_INPUTS,b.STEP_VALUE,b.CHECKBOX_LAYOUT]},{title:aK().LOGIC,attributes:[(E=nL()).MINIMUM_ANSWERS,E.MAXIMUM_ANSWERS,E.ARRAY_FILTER_EXCLUSION,E.ARRAY_FILTER,E.ARRAY_FILTER_STYLE,E.RANDOMIZATION_GROUP_NAME,E.QUESTION_VALIDATION_EQUATION,E.QUESTION_VALIDATION_TIP,E.SUBQUESTION_VALIDATION_EQUATION,E.SUBQUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(y=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,y.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(S=nH()).SHOW_IN_STATISTICS,S.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().ARRAY_TEXT.theme]:[{title:aK().SIMPLE,attributes:[(A=nO()).QUESTION_CODE,A.QUESTION_TYPE,A.MANDATORY,{...A.MAX_CHARACTERS,props:{...A.MAX_CHARACTERS.props,placeholder:250}},A.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(f=nO()).QUESTION_CODE,f.QUESTION_TYPE,f.MANDATORY,f.MAX_CHARACTERS,f.ENCRYPTED,f.SAVE_AS_DEFAULT,f.INPUT_VALIDATION]},{title:aK().DISPLAY,attributes:[(j=ng()).IMAGE_SETTINGS,j.RANDOM_ORDER,j.KEEP_CODE_ORDER,j.SUBQUESTION_WIDTH,j.REPEAT_HEADERS,j.HIDE_TIP,j.ALWAYS_HIDE_THIS_QUESTION,j.CSS_CLASSES,j.TEXT_INPUT_BOX_SIZE,j.PLACEHOLDER_ANSWER]},{title:aK().LOGIC,attributes:[(C=nL()).MINIMUM_ANSWERS,C.MAXIMUM_ANSWERS,C.ARRAY_FILTER_EXCLUSION,C.ARRAY_FILTER,C.ARRAY_FILTER_STYLE,C.EXCLUSIVE_OPTIONS,C.RANDOMIZATION_GROUP_NAME,C.QUESTION_VALIDATION_EQUATION,C.QUESTION_VALIDATION_TIP,C.SUBQUESTION_VALIDATION_EQUATION,C.SUBQUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(O=nD()).SHOW_GRAND_TOTAL,O.SHOW_TOTALS_FOR,O.INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().BROWSER_DETECTION.theme]:[{title:aK().SIMPLE,attributes:(w=nO(),q=ng(),[w.QUESTION_CODE,w.QUESTION_TYPE,w.MANDATORY,q.IMAGE_SETTINGS,w.LOGIC,q.SHOW_PLATFORM_INFORMATION,nH().SHOW_IN_STATISTICS,nq().USE_MAPPING_SERVICE])},{title:aK().GENERAL,attributes:[(M=nO()).QUESTION_CODE,M.QUESTION_TYPE,M.MANDATORY,M.ENCRYPTED]},{title:aK().DISPLAY,attributes:[(L=ng()).IMAGE_SETTINGS,L.ALWAYS_HIDE_THIS_QUESTION,L.CSS_CLASSES,L.SHOW_PLATFORM_INFORMATION,L.PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().LOGIC,attributes:[(D=nL()).RANDOMIZATION_GROUP_NAME,D.QUESTION_VALIDATION_EQUATION,D.QUESTION_VALIDATION_TIP]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(R=nH()).SHOW_IN_PUBLIC_STATISTICS,R.SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:Object.values(nq())},{title:aK().SLIDER,attributes:[]}],[lh().DATE_TIME.theme]:[{title:aK().SIMPLE,attributes:(P=nO(),k=ng(),U=nw(),[P.QUESTION_CODE,P.QUESTION_TYPE,P.MANDATORY,k.DISPLAY_DROPDOWN_BOXES,k.MONTH_DISPLAY_STYLE,k.MINIMUM_DATE,k.MAXIMUM_DATE,U.DATE_FORMAT,U.MINUTE_STEP_INTERVAL,P.LOGIC,nH().SHOW_IN_STATISTICS,k.IMAGE_SETTINGS])},{title:aK().GENERAL,attributes:[(H=nO()).QUESTION_CODE,H.QUESTION_TYPE,H.MANDATORY,H.ENCRYPTED,H.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(G=ng()).IMAGE_SETTINGS,G.MAXIMUM_DATE,G.MINIMUM_DATE,G.MONTH_DISPLAY_STYLE,G.DISPLAY_DROPDOWN_BOXES,G.REVERSE_ANSWER_ORDER,G.HIDE_TIP,G.ALWAYS_HIDE_THIS_QUESTION,G.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(V=nL()).RANDOMIZATION_GROUP_NAME,V.QUESTION_VALIDATION_EQUATION,V.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[(Y=nw()).DATE_FORMAT,Y.MINUTE_STEP_INTERVAL]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().END_SCREEN.theme]:uC(),[lh().EQUATION.theme]:[{title:aK().SIMPLE,attributes:[(Q=nO()).QUESTION_CODE,Q.QUESTION_TYPE,Q.MANDATORY,Q.LOGIC,nH().SHOW_IN_STATISTICS,nL().EQUATION,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(B=nO()).QUESTION_CODE,B.QUESTION_TYPE,B.MANDATORY,B.ENCRYPTED,B.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(F=ng()).IMAGE_SETTINGS,F.ALWAYS_HIDE_THIS_QUESTION,F.CSS_CLASSES,F.CONDITION_HELP_FOR_PRINTABLE_SURVEY]},{title:aK().LOGIC,attributes:[(z=nL()).EQUATION,z.RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[($=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,$.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(W=nH()).SHOW_IN_STATISTICS,W.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:[]},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().FILE_UPLOAD.theme]:[{title:aK().SIMPLE,attributes:(Z=nO(),K=nD(),[Z.QUESTION_CODE,Z.QUESTION_TYPE,Z.MANDATORY,K.MIN_NUMBER_FILES,K.MAX_NUMBER_FILES,K.ALLOWED_FILE_TYPES,K.MAXIMUM_FILE_SIZE_ALLOWED,ng().IMAGE_SETTINGS,Z.LOGIC,nH().SHOW_IN_STATISTICS])},{title:aK().GENERAL,attributes:[(X=nO()).QUESTION_CODE,X.QUESTION_TYPE,X.MANDATORY,X.ENCRYPTED,X.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(J=ng()).IMAGE_SETTINGS,J.HIDE_TIP,J.ALWAYS_HIDE_THIS_QUESTION,J.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(ee=nL()).RANDOMIZATION_GROUP_NAME,ee.QUESTION_VALIDATION_EQUATION,ee.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme]:[{title:aK().SIMPLE,attributes:[(et=nO()).QUESTION_CODE,et.QUESTION_TYPE,et.MANDATORY,et.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(ei=nO()).QUESTION_CODE,ei.QUESTION_TYPE,ei.MANDATORY,ei.ENCRYPTED,ei.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(ea=ng()).USE_SLIDER_LAYOUT,ea.IMAGE_SETTINGS,ea.HIDE_TIP,ea.ALWAYS_HIDE_THIS_QUESTION,ea.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(es=nL()).RANDOMIZATION_GROUP_NAME,es.QUESTION_VALIDATION_EQUATION,es.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(el=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,el.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(en=nH()).SHOW_IN_STATISTICS,en.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:[]},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().GENDER.theme]:[{title:aK().SIMPLE,attributes:(er=nO(),eo=ng(),[er.QUESTION_CODE,er.QUESTION_TYPE,er.MANDATORY,er.LOGIC,eo.DISPLAY_TYPE,nH().SHOW_IN_STATISTICS,eo.IMAGE_SETTINGS])},{title:aK().GENERAL,attributes:[(ed=nO()).QUESTION_CODE,ed.QUESTION_TYPE,ed.MANDATORY,ed.ENCRYPTED,ed.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(eu=ng()).IMAGE_SETTINGS,eu.DISPLAY_TYPE,eu.HIDE_TIP,eu.ALWAYS_HIDE_THIS_QUESTION,eu.CSS_CLASSES]},{title:aK().LOGIC,attributes:[nL().RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[(ec=nD()).SPSS_EXPORT_SCALE_TYPE,ec.INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(em=nH()).SHOW_IN_STATISTICS,em.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_LIST_RADIO.theme]:[{title:aK().SIMPLE,attributes:[(ep=nO()).QUESTION_CODE,ep.QUESTION_TYPE,ep.MANDATORY,ep.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eh=nO()).QUESTION_CODE,eh.QUESTION_TYPE,eh.MANDATORY,eh.ENCRYPTED,eh.SAVE_AS_DEFAULT,eh.OTHER]},{title:aK().DISPLAY,attributes:[(eg=ng()).IMAGE_SETTINGS,eg.LABEL_FOR_OTHER_OPTIONS,eg.ANSWER_OPTIONS_ORDER,eg.KEEP_CODE_ORDER,eg.POSITION_FOR_OTHER_OPTION,eg.ANSWER_CODE,eg.HIDE_TIP,eg.ALWAYS_HIDE_THIS_QUESTION,eg.CSS_CLASSES,eg.DISPLAY_COLUMNS]},{title:aK().LOGIC,attributes:[(ev=nL()).RANDOMIZATION_GROUP_NAME,ev.QUESTION_VALIDATION_EQUATION,ev.COMMENT_MANDATORY,ev.SUBQUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(ex=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,ex.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(eI=nH()).SHOW_IN_STATISTICS,eI.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_IMAGE_SELECT.theme]:[{title:aK().SIMPLE,attributes:[(e_=nO()).QUESTION_CODE,e_.QUESTION_TYPE,e_.MANDATORY,e_.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eT=nO()).QUESTION_CODE,eT.QUESTION_TYPE,eT.MANDATORY,eT.ENCRYPTED,eT.SAVE_AS_DEFAULT,eT.OTHER]},{title:aK().DISPLAY,attributes:[(eN=ng()).IMAGE_SETTINGS,eN.LABEL_FOR_OTHER_OPTIONS,eN.POSITION_FOR_OTHER_OPTION,eN.HIDE_TIP,eN.ALWAYS_HIDE_THIS_QUESTION,eN.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(eb=nL()).RANDOMIZATION_GROUP_NAME,eb.QUESTION_VALIDATION_EQUATION]},{title:aK().OTHER,attributes:[(eE=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,eE.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(ey=nH()).SHOW_IN_STATISTICS,ey.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:[]},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_LIST_RADIO_WITH_COMMENT.theme]:[{title:aK().SIMPLE,attributes:[(eS=nO()).QUESTION_CODE,eS.QUESTION_TYPE,eS.MANDATORY,eS.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eA=nO()).QUESTION_CODE,eA.QUESTION_TYPE,eA.MANDATORY,eA.ENCRYPTED,eA.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(ef=ng()).IMAGE_SETTINGS,ef.ANSWER_OPTIONS_ORDER,ef.KEEP_CODE_ORDER,ef.HIDE_TIP,ef.ALWAYS_HIDE_THIS_QUESTION,ef.CSS_CLASSES,ef.CONDITION_HELP_FOR_PRINTABLE_SURVEY]},{title:aK().LOGIC,attributes:[nL().RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(ej=nH()).SHOW_IN_STATISTICS,ej.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:[]},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().NUMERIC.theme]:[{title:aK().SIMPLE,attributes:[(eC=nO()).QUESTION_CODE,eC.QUESTION_TYPE,eC.MANDATORY,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eO=nO()).QUESTION_CODE,eO.QUESTION_TYPE,eO.MANDATORY,eO.ENCRYPTED,eO.SAVE_AS_DEFAULT,eO.INPUT_VALIDATION,eO.MAX_CHARACTERS]},{title:aK().DISPLAY,attributes:[(ew=ng()).ANSWER_PREFIX,ew.ANSWER_SUFFIX,ew.PLACEHOLDER_ANSWER,ew.TEXT_INPUT_WIDTH,ew.TEXT_INPUT_BOX_SIZE,ew.HIDE_TIP,ew.ALWAYS_HIDE_THIS_QUESTION,ew.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(eq=nL()).RANDOMIZATION_GROUP_NAME,eq.QUESTION_VALIDATION_EQUATION,eq.QUESTION_VALIDATION_TIP,eq.SUBQUESTION_VALIDATION_EQUATION,eq.SUBQUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[(eM=nw()).MAXIMUM_VALUE,eM.MINIMUM_VALUE,eM.INTEGER_ONLY]},{title:aK().STATISTICS,attributes:[(eL=nH()).SHOW_IN_STATISTICS,eL.SHOW_IN_PUBLIC_STATISTICS]}],[lh().SHORT_TEXT.theme]:uC(),[lh().LONG_TEXT.theme]:[{title:aK().SIMPLE,attributes:[(eD=nO()).QUESTION_CODE,eD.QUESTION_TYPE,eD.MANDATORY,{...eD.MAX_CHARACTERS,props:{...eD.MAX_CHARACTERS.props,placeholder:1500}},eD.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eR=nO()).QUESTION_CODE,eR.QUESTION_TYPE,eR.MANDATORY,eR.MAX_CHARACTERS,eR.ENCRYPTED,eR.SAVE_AS_DEFAULT,eR.INPUT_VALIDATION]},{title:aK().DISPLAY,attributes:[(eP=ng()).IMAGE_SETTINGS,eP.HIDE_TIP,eP.ALWAYS_HIDE_THIS_QUESTION,eP.CSS_CLASSES,eP.TEXT_INPUT_WIDTH,eP.TEXT_INPUT_BOX_SIZE,eP.DISPLAY_ROWS]},{title:aK().LOGIC,attributes:[(ek=nL()).RANDOMIZATION_GROUP_NAME,ek.QUESTION_VALIDATION_EQUATION,ek.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_SHORT_TEXTS.theme]:[{title:aK().SIMPLE,attributes:(eU=nO(),eH=ng(),[eU.QUESTION_CODE,eU.QUESTION_TYPE,eU.MANDATORY,eU.NUMBERS_ONLY,eU.MAX_CHARACTERS,eH.INPUT_ON_DEMAND,eU.LOGIC,nH().SHOW_IN_STATISTICS,eH.IMAGE_SETTINGS])},{title:aK().GENERAL,attributes:[(eG=nO()).QUESTION_CODE,eG.QUESTION_TYPE,eG.MANDATORY,eG.MAX_CHARACTERS,eG.ENCRYPTED,eG.SAVE_AS_DEFAULT,eG.INPUT_VALIDATION,eG.NUMBERS_ONLY]},{title:aK().DISPLAY,attributes:[(eV=ng()).IMAGE_SETTINGS,eV.INPUT_ON_DEMAND,eV.ANSWER_PREFIX,eV.ANSWER_SUFFIX,eV.SUBQUESTION_TITLE,eV.RANDOM_ORDER,eV.KEEP_CODE_ORDER,eV.HIDE_TIP,eV.ALWAYS_HIDE_THIS_QUESTION,eV.CSS_CLASSES,eV.TEXT_INPUT_COLUMNS,eV.TEXT_INPUT_BOX_SIZE,eV.DISPLAY_ROWS,eV.LABEL_WRAPPER_WIDTH]},{title:aK().LOGIC,attributes:Object.values(nL())},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_CHOICE.theme]:[{title:aK().SIMPLE,attributes:[(eY=nO()).QUESTION_CODE,eY.QUESTION_TYPE,eY.MANDATORY,eY.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(eQ=nO()).QUESTION_CODE,eQ.QUESTION_TYPE,eQ.MANDATORY,eQ.ENCRYPTED,eQ.SAVE_AS_DEFAULT,eQ.OTHER]},{title:aK().DISPLAY,attributes:[(eB=ng()).IMAGE_SETTINGS,eB.LABEL_FOR_OTHER_OPTIONS,eB.POSITION_FOR_OTHER_OPTION,eB.SUBQUESTION_TITLE,eB.SUBQUESTION_OPTIONS_ORDER,eB.KEEP_CODE_ORDER,eB.HIDE_TIP,eB.ALWAYS_HIDE_THIS_QUESTION,eB.CSS_CLASSES,eB.DISPLAY_COLUMNS]},{title:aK().LOGIC,attributes:[(eF=nL()).MINIMUM_ANSWERS,eF.MAXIMUM_ANSWERS,eF.ARRAY_FILTER_EXCLUSION,eF.ARRAY_FILTER,eF.ARRAY_FILTER_STYLE,eF.NUMBERS_ONLY_FOR_OTHER,eF.ASSESSMENT_VALUE,eF.EXCLUSIVE_OPTIONS,eF.RANDOMIZATION_GROUP_NAME,eF.QUESTION_VALIDATION_EQUATION,eF.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(ez=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,ez.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(e$=nH()).SHOW_IN_STATISTICS,e$.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_CHOICE_BUTTONS.theme]:[{title:aK().SIMPLE,attributes:[(eW=nO()).QUESTION_CODE,eW.QUESTION_TYPE,eW.MANDATORY,ng().IMAGE_SETTINGS,eW.LOGIC,nH().SHOW_IN_STATISTICS]},{title:aK().GENERAL,attributes:[(eZ=nO()).QUESTION_CODE,eZ.QUESTION_TYPE,eZ.MANDATORY,eZ.ENCRYPTED,eZ.SAVE_AS_DEFAULT,eZ.OTHER]},{title:aK().DISPLAY,attributes:[(eK=ng()).IMAGE_SETTINGS,eK.LABEL_FOR_OTHER_OPTIONS,eK.POSITION_FOR_OTHER_OPTION,eK.SUBQUESTION_TITLE,eK.SUBQUESTION_OPTIONS_ORDER,eK.KEEP_CODE_ORDER,eK.HIDE_TIP,eK.ALWAYS_HIDE_THIS_QUESTION,eK.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(eX=nL()).MINIMUM_ANSWERS,eX.MAXIMUM_ANSWERS,eX.ARRAY_FILTER_EXCLUSION,eX.ARRAY_FILTER,eX.ARRAY_FILTER_STYLE,eX.NUMBERS_ONLY_FOR_OTHER,eX.EXCLUSIVE_OPTIONS,eX.RANDOMIZATION_GROUP_NAME,eX.QUESTION_VALIDATION_EQUATION,eX.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(eJ=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,eJ.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(e0=nH()).SHOW_IN_STATISTICS,e0.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[(e1=nV()).BUTTON_SIZE,e1.MAXIMUM_NUMBER_OF_BUTTONS_IN_A_ROW]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_CHOICE_IMAGE_SELECT.theme]:[{title:aK().SIMPLE,attributes:[(e2=nO()).QUESTION_CODE,e2.QUESTION_TYPE,e2.MANDATORY,e2.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(e3=nO()).QUESTION_CODE,e3.QUESTION_TYPE,e3.MANDATORY,e3.ENCRYPTED,e3.SAVE_AS_DEFAULT,e3.OTHER,e3.INPUT_VALIDATION]},{title:aK().DISPLAY,attributes:[(e6=ng()).IMAGE_SETTINGS,e6.LABEL_FOR_OTHER_OPTIONS,e6.POSITION_FOR_OTHER_OPTION,e6.SUBQUESTION_TITLE,e6.SUBQUESTION_OPTIONS_ORDER,e6.KEEP_CODE_ORDER,e6.HIDE_TIP,e6.ALWAYS_HIDE_THIS_QUESTION,e6.CSS_CLASSES,e6.CONDITION_HELP_FOR_PRINTABLE_SURVEY,e6.FIX_WIDTH,e6.FIX_HEIGHT,e6.CROP_OR_RESIZE,e6.KEEP_ASPECT_RATIO,e6.HORIZONTAL_SCROLL]},{title:aK().LOGIC,attributes:Object.values(nL())},{title:aK().OTHER,attributes:[(e4=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,e4.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(e5=nH()).SHOW_IN_STATISTICS,e5.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_CHOICE_WITH_COMMENTS.theme]:[{title:aK().SIMPLE,attributes:[(e7=nO()).QUESTION_CODE,e7.QUESTION_TYPE,e7.MANDATORY,nL().COMMENT_ONLY_WHEN,e7.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(e9=nO()).QUESTION_CODE,e9.QUESTION_TYPE,e9.MANDATORY,e9.ENCRYPTED,e9.SAVE_AS_DEFAULT,e9.OTHER,e9.INPUT_VALIDATION]},{title:aK().DISPLAY,attributes:[(e8=ng()).IMAGE_SETTINGS,e8.CHOICE_COLUMN_WIDTH,e8.LABEL_FOR_OTHER_OPTIONS,e8.POSITION_FOR_OTHER_OPTION,e8.SUBQUESTION_TITLE,e8.SUBQUESTION_OPTIONS_ORDER,e8.KEEP_CODE_ORDER,e8.HIDE_TIP,e8.ALWAYS_HIDE_THIS_QUESTION,e8.CSS_CLASSES,e8.CONDITION_HELP_FOR_PRINTABLE_SURVEY,e8.TEXT_INPUT_COLUMNS]},{title:aK().LOGIC,attributes:Object.values(nL())},{title:aK().OTHER,attributes:[(te=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,te.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(tt=nH()).SHOW_IN_STATISTICS,tt.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().MULTIPLE_NUMERICAL_INPUTS.theme]:[{title:aK().SIMPLE,attributes:[(ti=nO()).QUESTION_CODE,ti.QUESTION_TYPE,ti.MANDATORY,ti.LOGIC,ti.ENCRYPTED,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(ta=nO()).QUESTION_CODE,ta.QUESTION_TYPE,nR().USE_SLIDER_LAYOUT,ta.MANDATORY,ta.ENCRYPTED]},{title:aK().LOGIC,attributes:[(ts=nL()).MINIMUM_ANSWERS,ts.MAXIMUM_ANSWERS,ts.ARRAY_FILTER,ts.ARRAY_FILTER_EXCLUSION,ts.ARRAY_FILTER_STYLE,ts.EXCLUSIVE_OPTIONS,ts.RANDOMIZATION_GROUP_NAME,ts.QUESTION_VALIDATION_EQUATION]},{title:aK().DISPLAY,attributes:[(tl=ng()).LABEL_WRAPPER_WIDTH,tl.RANDOM_ORDER,tl.KEEP_CODE_ORDER,tl.TEXT_INPUT_WIDTH,tl.ALWAYS_HIDE_THIS_QUESTION,tl.CSS_CLASSES,tl.CONDITION_HELP_FOR_PRINTABLE_SURVEY]},{title:aK().INPUT,attributes:[(tn=nw()).VALUE_RANGE_ALLOWS_MISSING,tn.INTEGER_ONLY,tn.MINIMUM_VALUE,tn.MAXIMUM_VALUE,tn.MINIMUM_SUM_VALUE,tn.MAXIMUM_SUM_VALUE]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().STATISTICS,attributes:[(tr=nH()).SHOW_IN_PUBLIC_STATISTICS,tr.SHOW_IN_STATISTICS]},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[(to=nR()).ORIENTATION,to.HANDLE_SHAPE,to.CUSTOM_HANDLE_UNICODE_CODE,to.SLIDER_STARTS_AT_THE_MIDDLE_POSITION,to.SLIDER_MINIMUM_VALUE,to.SLIDER_MAXIMUM_VALUE,to.SLIDER_ACCURACY,to.REVERSE_THE_SLIDER_DIRECTION,to.ALLOW_SLIDER_RESET,to.SLIDER_INITIAL_VALUE,to.SLIDER_INITIAL_VALUE_SET_AT_STARTS,to.DISPLAY_SLIDER_MIN_AND_MAX_VALUE,to.SLIDER_LEFT_RIGHT_TEXT_SEPARATOR]},{title:" ",attributes:[nO().SAVE_AS_DEFAULT]}],[lh().QUESTION_GROUP.theme]:uC(),[lh().RANKING.theme]:[{title:aK().SIMPLE,attributes:[(td=nO()).QUESTION_CODE,td.QUESTION_TYPE,td.MANDATORY,ng().IMAGE_SETTINGS,td.LOGIC,nH().SHOW_IN_STATISTICS]},{title:aK().GENERAL,attributes:[(tu=nO()).QUESTION_CODE,tu.QUESTION_TYPE,tu.MANDATORY,tu.ENCRYPTED,tu.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(tc=ng()).IMAGE_SETTINGS,tc.HIDE_TIP,tc.ALWAYS_HIDE_THIS_QUESTION,tc.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(tm=nL()).RANDOMIZATION_GROUP_NAME,tm.MAXIMUM_COLUMNS_FOR_ANSWERS]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().RANKING_ADVANCED.theme]:[{title:aK().SIMPLE,attributes:(tp=nO(),th=nL(),[tp.QUESTION_CODE,tp.QUESTION_TYPE,tp.MANDATORY,ng().IMAGE_SETTINGS,tp.LOGIC,th.MINIMUM_ANSWERS,th.MAXIMUM_ANSWERS,nH().SHOW_IN_STATISTICS])},{title:aK().GENERAL,attributes:[(tg=nO()).QUESTION_CODE,tg.QUESTION_TYPE,tg.MANDATORY,tg.ENCRYPTED,tg.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(tv=ng()).IMAGE_SETTINGS,tv.HIDE_TIP,tv.ALWAYS_HIDE_THIS_QUESTION,tv.ANSWER_OPTIONS_ORDER,tv.KEEP_CODE_ORDER,tv.SAME_HEIGHT_FOR_ALL_ANSWER_OPTIONS,tv.SAME_HEIGHT_FOR_LIST,tv.SHOW_JAVASCRIPT_ALERT,tv.SHOW_HANDLE,tv.SHOW_NUMBER,tv.WITHOUT_REORDER,tv.CSS_CLASSES,tv.VISUALIZATION]},{title:aK().LOGIC,attributes:[(tx=nL()).MINIMUM_ANSWERS,tx.MAXIMUM_ANSWERS,tx.ARRAY_FILTER_EXCLUSION,tx.ARRAY_FILTER,tx.ARRAY_FILTER_STYLE,tx.RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[(tI=nD()).CHOICE_HEADER,tI.RANK_HEADER,tI.INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(t_=nH()).SHOW_IN_STATISTICS,t_.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().RATING.theme]:[{title:aK().SIMPLE,attributes:[(tT=nO()).QUESTION_CODE,tT.QUESTION_TYPE,tT.MANDATORY,tT.RATING_ITEMS,tT.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(tN=nO()).QUESTION_CODE,tN.QUESTION_TYPE,tN.MANDATORY,tN.ENCRYPTED,tN.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(tb=ng()).IMAGE_SETTINGS,tb.USE_SLIDER_LAYOUT,tb.DISPLAY_TYPE,tb.HIDE_TIP,tb.ALWAYS_HIDE_THIS_QUESTION,tb.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(tE=nL()).RANDOMIZATION_GROUP_NAME,tE.MAXIMUM_COLUMNS_FOR_ANSWERS]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_BUTTONS.theme]:[{title:aK().SIMPLE,attributes:[(ty=nO()).QUESTION_CODE,ty.QUESTION_TYPE,ty.MANDATORY,ty.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(tS=nO()).QUESTION_CODE,tS.QUESTION_TYPE,tS.MANDATORY,tS.ENCRYPTED,tS.SAVE_AS_DEFAULT,tS.OTHER]},{title:aK().DISPLAY,attributes:[(tA=ng()).IMAGE_SETTINGS,tA.LABEL_FOR_OTHER_OPTIONS,tA.POSITION_FOR_OTHER_OPTION,tA.ANSWER_OPTIONS_ORDER,tA.KEEP_CODE_ORDER,tA.ANSWER_CODE,tA.HIDE_TIP,tA.ALWAYS_HIDE_THIS_QUESTION,tA.CSS_CLASSES,tA.CONDITION_HELP_FOR_PRINTABLE_SURVEY]},{title:aK().LOGIC,attributes:[(tf=nL()).ASSESSMENT_VALUE,tf.RANDOMIZATION_GROUP_NAME,tf.QUESTION_VALIDATION_EQUATION,tf.COMMENT_MANDATORY,tf.QUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(tj=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,tj.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(tC=nH()).SHOW_IN_STATISTICS,tC.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().SINGLE_CHOICE_DROPDOWN.theme]:[{title:aK().SIMPLE,attributes:[(tO=nO()).QUESTION_CODE,tO.QUESTION_TYPE,tO.MANDATORY,tO.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(tw=nO()).QUESTION_CODE,tw.QUESTION_TYPE,tw.MANDATORY,tw.ENCRYPTED,tw.SAVE_AS_DEFAULT,tw.OTHER]},{title:aK().DISPLAY,attributes:[(tq=ng()).IMAGE_SETTINGS,tq.CATEGORY_SERARATOR,tq.PREFIX_FOR_LIST_ITEMS,tq.HEIGHT_OF_DROPDOWN,tq.LABEL_FOR_OTHER_OPTIONS,tq.POSITION_FOR_OTHER_OPTION,tq.ANSWER_OPTIONS_ORDER,tq.KEEP_CODE_ORDER,tq.ANSWER_CODE,tq.HIDE_TIP,tq.ALWAYS_HIDE_THIS_QUESTION,tq.CSS_CLASSES]},{title:aK().LOGIC,attributes:[(tM=nL()).RANDOMIZATION_GROUP_NAME,tM.QUESTION_VALIDATION_EQUATION,tM.COMMENT_MANDATORY,tM.SUBQUESTION_VALIDATION_TIP]},{title:aK().OTHER,attributes:[(tL=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,tL.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(tD=nH()).SHOW_IN_STATISTICS,tD.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[(tR=nV()).ALLOW_SEARCHING_DROPDOWN,tR.DISPLAY_TICK_SELECTED_ITEM,tR.WIDTH_DROPDOWN_SELECTED_ENTRY]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().TEXT_DISPLAY.theme]:[{title:aK().SIMPLE,attributes:[(tP=nO()).QUESTION_CODE,tP.QUESTION_TYPE,tP.MANDATORY,tP.LOGIC,nH().SHOW_IN_STATISTICS,ng().IMAGE_SETTINGS]},{title:aK().GENERAL,attributes:[(tk=nO()).QUESTION_CODE,tk.QUESTION_TYPE,tk.MANDATORY,tk.ENCRYPTED,tk.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(tU=ng()).IMAGE_SETTINGS,tU.HIDE_TIP,tU.ALWAYS_HIDE_THIS_QUESTION,tU.CSS_CLASSES]},{title:aK().LOGIC,attributes:[nL().RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[nD().INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[nH().SHOW_IN_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().LOCATION,attributes:[]},{title:aK().SLIDER,attributes:[]}],[lh().WELCOME_SCREEN.theme]:uC(),[lh().YES_NO.theme]:[{title:aK().SIMPLE,attributes:(tH=nO(),tG=ng(),[tH.QUESTION_CODE,tH.QUESTION_TYPE,tH.MANDATORY,tG.DISPLAY_TYPE,tH.LOGIC,nH().SHOW_IN_STATISTICS,tG.IMAGE_SETTINGS])},{title:aK().GENERAL,attributes:[(tV=nO()).QUESTION_CODE,tV.QUESTION_TYPE,tV.MANDATORY,tV.ENCRYPTED,tV.SAVE_AS_DEFAULT]},{title:aK().DISPLAY,attributes:[(tY=ng()).IMAGE_SETTINGS,tY.DISPLAY_TYPE,tY.HIDE_TIP,tY.ALWAYS_HIDE_THIS_QUESTION,tY.CSS_CLASSES]},{title:aK().LOGIC,attributes:[nL().RANDOMIZATION_GROUP_NAME]},{title:aK().OTHER,attributes:[(tQ=nD()).INSERT_PAGE_BREAK_IN_PRINTABLE_VIEW,tQ.SPSS_EXPORT_SCALE_TYPE]},{title:aK().INPUT,attributes:[]},{title:aK().STATISTICS,attributes:[(tB=nH()).SHOW_IN_STATISTICS,tB.SHOW_IN_PUBLIC_STATISTICS]},{title:aK().TIMER,attributes:Object.values(nG())},{title:aK().THEME_OPTIONS,attributes:[]},{title:aK().FILE_META_DATA,attributes:[]},{title:aK().SLIDER,attributes:[]}]})[I.questionThemeName]:[]},[null==I?void 0:I.questionThemeName]),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g(e),c({isConditionPanelOpen:i,isExpressionScriptPanelOpen:a})},S=()=>{y(null,!1,!1)},A=e=>{let i=[...n.questionGroups];i[N].questions[b]=e,r({questionGroups:i}),T(e,N,b)},f=function(e){var i,a,s;let l=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=null==n||null==(s=n.questionGroups)||null==(a=s[N])||null==(i=a.questions)?void 0:i[b];if(!r)return void iv("Invalid question group or question");let o={...r};l?(o.attributes={...o.attributes,...e},A(o),d(iJ(o.qid).questionAttribute().update({...e}))):(A({...o,...e}),d(iJ(o.qid).question().update({...e})))};if(!I.qid)return(0,m.jsx)(m.Fragment,{});let C=db().includes(I.questionThemeName)||!Object.values(lh()).map(e=>e.theme).includes(I.questionThemeName);if(I&&"number"==typeof I.qid){if(u.isConditionPanelOpen||p)return(0,m.jsx)(uY,{survey:n,update:r,language:o,onNavigateBack:S,scenarioToPatch:p,setPendingScenarioName:x},`condition-designer-${I.qid}`);if(null!==I.relevance&&u.isExpressionScriptPanelOpen)return(0,m.jsx)(uF,{onNavigateBack:S},`expression-script-${I.qid}`)}return(0,m.jsxs)("div",{className:sN()("right-sidebar-settings"),"data-testid":"question-settings",id:"sidebar-question-settings",children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[(0,m.jsx)("div",{onClick:()=>{T(I,N,b)},className:"focused-question-code",children:t("Question settings")}),(0,m.jsx)(sk.A,{variant:"link",style:{padding:0},onClick:_,children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),!C&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mb-3 advanced-toggle",children:(0,m.jsx)(s4,{toggleOptions:[{name:t("Simple"),value:!1},{name:t("Advanced"),value:!0}],value:!!(null==s?void 0:s.isAdvanced),onChange:e=>l({isAdvanced:e}),isSecondary:!0})}),null==E?void 0:E.map((e,i)=>(0,m.jsx)(uj,{question:I,isAdvanced:!!(null==s?void 0:s.isAdvanced),simpleSettings:aK().SIMPLE===e.title,handleUpdate:f,title:e.title,attributes:e.attributes,language:o},`${e.title}-${i}`))]}),C&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("p",{style:{paddingLeft:"18px"},children:t("This question type isn’t supported in the new editor yet, but your responses will still be collected. If you want to make edits you can switch to a similar question type or edit it in the classic editor.")})}),(0,m.jsx)("div",{id:"condition-designer",children:I?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(uQ,{onShowPanel:y},`add-scenario-${I.qid}`),(null==(i=I.scenarios)?void 0:i.length)?(0,m.jsx)(uO,{setScenarioToPatch:g,pendingScenarioName:v,setPendingScenarioName:x},`scenario-list-${I.qid}-${I.scenarios.length}`):null,null!=I.relevance&&(0,m.jsx)(uz,{onShowPanel:y,onNavigateBack:S},`condition-expression-trigger-${I.qid}`)]}):null})]})},uW=e=>{let{update:i,value:a={}}=e,[s,l]=(0,h.useState)(!1),[n,r]=(0,h.useState)(null),[o,d]=(0,h.useState)(125);return(0,h.useCallback)(e=>{i({image:e})},[i]),(0,m.jsx)(m.Fragment,{})},uZ=e=>{let{surveyId:i}=e,{survey:{imageAlign:a,showXQuestions:s,showWelcome:l,welcomeImage:n,imageBrightness:r},update:o}=dV(i),{focused:d={},unFocus:u,setFocused:c}=dH(),{addToBuffer:p}=dF(),h=e=>{o(e),p(iJ(i).survey().update({...e}))};return(0,m.jsxs)("div",{className:sN()("survey-settings"),children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[(0,m.jsx)("div",{onClick:()=>{c(d)},className:"focused-question-code",children:t("Welcome screen settings")}),(0,m.jsx)(sk.A,{variant:"link",style:{padding:0},onClick:u,children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),(0,m.jsxs)(a0,{simpleSettings:!0,isDefaultOpen:!0,children:[(0,m.jsx)("div",{className:"ms-3 mb-3",children:(0,m.jsx)(s4,{labelText:t("Show welcome screen"),value:iq(l),onChange:e=>h({showWelcome:e}),noPermissionDisabled:!0})}),(0,m.jsx)(uW,{imageAlign:a,value:n,imageBrightness:r||0,update:e=>h(e)}),(0,m.jsx)("div",{className:"ms-3 mt-3",children:(0,m.jsx)(s4,{id:"question-counter",labelText:t("Show “There are X questions in this survey.”"),value:iq(s),onChange:e=>h({showXQuestions:e}),onOffToggle:!0,noPermissionDisabled:!0})})]})]})};var uK=a(44816);let uX=[{component:s_,attributePath:"l10ns.[language].groupName",props:{labelText:"Title",dataTestId:"group-title",noPermissionDisabled:!0}},{component:s_,attributePath:"l10ns.[language].description",props:{labelText:"Description",dataTestId:"group-description",noPermissionDisabled:!0,type:"textarea",role:"textarea"}},{component:s_,attributePath:"randomizationGroup",props:{labelText:"Randomization group",dataTestId:"group-randomization-group",noPermissionDisabled:!0,type:"textarea",role:"textarea"}},{component:s_,attributePath:"gRelevance",props:{labelText:"Condition",dataTestId:"condition-group",noPermissionDisabled:!0,type:"textarea",role:"textarea"}}],uJ=e=>{let{component:i,propName:a,handleUpdate:s,props:l,value:n}=e;return(0,m.jsx)(a0,{simpleSettings:!0,isDefaultOpen:!0,title:t("Basic"),children:(0,m.jsx)("div",{className:"right-side-bar-settings",children:(0,m.jsx)(i,{...l,onChange:e=>{let{target:{value:i}}=e;return s(a,i)},value:n})})})},u0=e=>{let{gid:i}=e,{addToBuffer:a}=dF(),{surveyId:s}=(0,_.g)(),{survey:l,update:n}=dV(s),[r]=j(ep,"en"),{groupIndex:o,unFocus:d}=dH(),u=(e,s)=>{let d=[...l.questionGroups];"randomizationGroup"===e||"gRelevance"===e?d[o][e]=s:d[o].l10ns[r][e]=s,n({questionGroups:d}),a(iJ(i).questionGroup().update({questionGroup:d[o],questionGroupL10n:d[o].l10ns}))};return(0,m.jsxs)("div",{className:sN()("right-sidebar-settings"),children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[(0,m.jsx)("div",{children:t("Group settings")}),(0,m.jsx)(sk.A,{variant:"link",style:{padding:0},onClick:d,children:(0,m.jsx)(uK.A,{stroke:"black",fontWeight:800,color:"black",size:15})})]}),uX.map(e=>{let i=e.attributePath.replace("[language]",r).split("."),a=i[i.length-1],s=i.reduce((e,i)=>e&&e[i],l.questionGroups[o]);return(0,m.jsx)(uJ,{...e,handleUpdate:u,propName:a,value:s},`${e.attributePath}-group-attribute`)})]})},u1=e=>{let{surveyId:i}=e,{survey:{languageSettings:a,language:s},update:l}=dV(i),{focused:n={},unFocus:r,setFocused:o}=dH(),{addToBuffer:d}=dF(),u=e=>{let i={...a};i[s]={...i[s],...e},d(iJ(null).languageSetting().update({[s]:e})),l({languageSettings:i})},c=s?a[s]:{};return(0,m.jsxs)("div",{className:sN()("survey-settings"),"data-testid":"end-screen-settings",children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[(0,m.jsx)("div",{onClick:()=>{o(n)},className:"focused-question-code",children:t("End screen settings")}),(0,m.jsx)(sk.A,{variant:"link",style:{padding:0},onClick:r,children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),(0,m.jsxs)(a0,{simpleSettings:!0,isDefaultOpen:!0,children:[(0,m.jsx)(s_,{dataTestId:"end-screen-button-title",onChange:e=>{let{target:{value:i}}=e;return u({urlDescription:i})},value:c.urlDescription,labelText:"URL description",className:"ms-3 mt-3",noPermissionDisabled:!0}),(0,m.jsx)(s_,{dataTestId:"end-screen-forwarding-button-url",onChange:e=>{let{target:{value:i}}=e;return u({url:i})},value:c.url,labelText:"End url",className:"ms-3 mt-3",noPermissionDisabled:!0})]})]})},u2=e=>{var i,a;let{surveyId:s}=e,{panel:l}=(0,_.g)(),[n]=j($,!1),{focused:r,groupIndex:o,questionIndex:d}=dH(),u=r&&Object.keys(r).length>0;return n||l&&l!==se().structure.panel?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)("div",{className:sN()("right-side-bar",{"bg-white sidebar active-side-bar":u,"d-none":!u}),children:[r&&null!=o&&null==d&&(0,m.jsx)(u0,{gid:r.gid}),r&&(0,m.jsx)(u$,{surveyId:s}),(null==r||null==(i=r.info)?void 0:i.type)===lh().WELCOME_SCREEN.type&&(0,m.jsx)(uZ,{surveyId:s}),(null==r||null==(a=r.info)?void 0:a.type)===lh().END_SCREEN.type&&(0,m.jsx)(u1,{surveyId:s})]})},u3=()=>{let{surveyId:e,panel:i}=(0,_.g)(),{survey:a={}}=dV(e),s=dP(),{unFocus:l}=dH(),[n]=j(ep,a.language),[r,o]=j(ec),[d,u]=j($,!1),c=dQ(()=>{l()},!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(rM,{surveyId:e}),(0,m.jsxs)("div",{className:"main-body position-relative right-side-margin",children:[(0,m.jsx)("div",{className:"survey-part",children:(()=>{if(([se().settings.panel,se().presentation.panel].includes(i)?sa:si)===sa){return(0,m.jsx)(uN,{id:e})}else{return(0,m.jsx)(uf,{language:n,i18n:()=>uA(n,s,o,r,!0),children:(0,m.jsx)(oJ,{id:e})})}})()}),(!i||i===se().structure.panel)&&(0,m.jsx)("div",{className:"inner-wrap",ref:c}),d&&(0,m.jsx)("div",{className:"adding-question-group-wrapper",onClick:()=>u(!1)})]}),(0,m.jsx)(u2,{surveyId:e})]})},u6=e=>{let{isSurveyActive:i=!1,survey:a}=e,{surveyId:s}=(0,_.g)(),[,l]=j($),[n,r]=j("editor_help_appeared",!1,{staleTime:null,cacheTime:null}),[o,d]=j(eg,!1),u=dP(),c=(0,_.Zp)(),p=se(),{unFocus:g,setFocused:v}=dH(),x=[{title:t("Welcome to LimeSurvey"),content:t("You're now using the LimeSurvey editor. This quick tutorial will guide you through what's most important in just a few steps."),placement:"center",target:"#editor"},{title:t("Canvas"),content:t("This is where you create your questions and answer options. A sample question group and question is always created to get you started. Just click on any element to edit it."),placement:"left-start",target:"#survey-col"},{title:t("Survey title"),content:t("Click on the survey title to edit it, your changes will be saved automatically."),placement:"bottom",target:"#top-bar-select"},{title:t("Add content"),content:t("Select the plus symbol to add questions, groups or logic to the survey. For now, let's add a simple multiple-choice question."),spotlightPadding:20,target:"#topbar-add-question",onHighlightAreaClick:()=>{T(e=>({...e,stepIndex:e.stepIndex+1}))},onNextStep:()=>l(!0)},{title:t("Select a question type"),content:t("Select the question type for your new question from this menu. Try it and add a simple multiple-choice question for now."),spotlightPadding:4,placement:"left",target:"#topbar-question-inserter",highlight:`#question-type-${lh().MULTIPLE_CHOICE.theme}-item`,disableNextButton:!0,onPreviousStep:()=>l(!1),onHighlightAreaClick:async(e,i,a,s)=>{var l;(null==(l=s.target.id)?void 0:l.includes(`question-type-${lh().MULTIPLE_CHOICE.theme}-item`))?(await aR(500),T(e=>({...e,stepIndex:e.stepIndex+1}))):(s.preventDefault(),s.stopPropagation())}},{title:t("Edit text"),content:t("Click and type to fill in your question text. You can also use the toolbar for formatting and more options."),spotlightPadding:20,placement:"left-start",target:".question.focus-element",onPreviousStep:()=>l(!0)},{title:t("Delete question"),content:t("Use the trash-icon to delete questions  or the X-icons to delete answer options."),spotlightPadding:10,placement:"top",target:"#question-footer-delete-icon",onHighlightAreaClick:async(e,i,a,s)=>{s.preventDefault(),s.stopPropagation()}},{title:t("Question settings"),content:t("Use this panel to change question types, logic, and display settings. You can also switch between simple and advanced question settings."),spotlightPadding:20,placement:"left",target:"#sidebar-question-settings",onNextStep:()=>{c(`/survey/${s}/${se().structure.panel}`)}},{title:t("Reorder questions"),content:t("You can reorder your questions and groups by drag and drop inside the survey structure."),spotlightPadding:5,placement:"right",target:"#survey-menu"},{title:t("Theme options"),content:t("Open the settings to access theme options and change your survey's design. Try it and change the style of your survey."),spotlightPadding:5,placement:"right",target:`#btn-${p.presentation.panel}-open`,onNextStep:async()=>{g(),c(`/survey/${s}/${se().presentation.panel}/${se().presentation.defaultMenu}`)},onHighlightAreaClick:async()=>{await aR(500),T(e=>({...e,stepIndex:e.stepIndex+1}))}},{title:t("Theme options"),content:t("The theme options allow you to change the appearance of your survey. Try it and change a style of your survey."),spotlightPadding:5,placement:"left",target:"#survey-settings",onPreviousStep:()=>{let e=a.questionGroups[0].questions[0];c(`/survey/${s}/${se().structure.panel}`),v(e,0,0)}},{title:t("Theme options"),content:t("You will see a preview of your changes on the right side."),spotlightPadding:40,placement:"left",target:"#theme-options-preview-container",onNextStep:()=>{}},{title:t("Return to the editor"),content:t("Use the left-side menu bar to navigate back to your survey at any time."),spotlightPadding:5,placement:"right",target:`#btn-${p.structure.panel}-open`,onNextStep:()=>{c(`/survey/${s}/${se().structure.panel}`)},onHighlightAreaClick:async()=>{await aR(500),T(e=>({...e,stepIndex:e.stepIndex+1}))}},{title:t("Autosave"),content:t("See how LimeSurvey autosaves your work? You don't have to worry about saving your progress at any time."),spotlightPadding:5,placement:"bottom",target:"#auto-saved",onPreviousStep:()=>{c(`/survey/${s}/${se().presentation.panel}/${se().presentation.defaultMenu}`)}},{title:t("Preview survey"),content:t("Use the survey preview to see how your survey will look like for your participants."),spotlightPadding:5,placement:"bottom",target:"#preview-button"},{title:t("Activate survey"),content:t("When your survey is ready, use this button to activate it. Once activated, you can access the options for sharing your survey."),spotlightPadding:5,placement:"bottom",target:"#activate-survey-button",onHighlightAreaClick:async()=>{T(e=>({...e,stepIndex:e.stepIndex+1}))}}],[I,T]=(0,h.useState)({run:!1,steps:x,stepIndex:0}),N=(0,h.useMemo)(()=>new dx(u,H()),[u]);(0,h.useEffect)(()=>{N.getUserSettingByName(eT).then(e=>{404!==e.httpStatus||i||n||(r(!0),b())})},[i,s]);let b=()=>{window.scrollTo(0,0),g(),c(`/survey/${s}/${se().structure.panel}`),T({...I,stepIndex:0,run:!0}),d(!1)};return(0,h.useEffect)(()=>{o&&b()},[o]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o2,{tutorialState:I,setTutorialState:T,onStepChange:e=>{N.setUserSettingByName(eT,e.index)},onTutorialFinish:()=>{(e=>{let{Component:i,position:a="bottom-right",className:s="error-toast",rightIcon:l=(0,m.jsx)(tR,{}),onRightIconClick:n=()=>{},duration:r=5e3,id:o}=e;ir.Ay.custom(e=>(0,m.jsxs)("div",{className:`${s} ${e.visible?"animate-enter":"animate-leave"}`,children:[i,(0,m.jsx)("div",{className:"mouse-pointer toast-component-right-icon",onClick:()=>{n(),ir.Ay.remove(e.id)},children:l})]}),{position:a,duration:r,id:o||`${Date.now()}`})})({Component:(0,m.jsxs)("div",{className:"tutorial-finished-content",children:[(0,m.jsx)("div",{className:"green-mark"}),(0,m.jsxs)("span",{className:"reg14",children:[(0,m.jsx)(rV,{}),(0,lD.format)(t("%s Congrats! You have completed the tour."),"\uD83C\uDF89")]})]}),position:"bottom-center",className:"tutorial-finish-modal"})}})})},u4=e=>{let{isLoadingSurvey:i}=e;return(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{children:i?t("Loading survey..."):t("Loading translations...")})]})},u5=e=>{let{children:i}=e,a=dP(),{surveyId:s}=(0,_.g)(),l=!!a&&!!a.isLoggedIn;if((0,h.useEffect)(()=>{let e=setTimeout(()=>{a&&!l&&(s?window.location="/surveyAdministration/view/?surveyid="+s:window.location=eG)},1e3);return()=>clearTimeout(e)},[a]),l)return i},u7="date-range",u9="multi-select",u8="contain",ce="completed",ct="column-select",ci="response-actions",ca=e=>e.getSelectedRowModel().rows.map(e=>e.original.id),cs=e=>{let i=e.getIsPinned(),a="left"===i&&e.getIsLastColumn("left");return i?{boxShadow:a&&"-4px 0px 2px -4px gray inset",left:"left"===i&&`${e.getStart("left")-35}px`,right:"right"===i&&`${e.getAfter("right")-35}px`,opacity:.95,position:"sticky",width:e.getSize(),zIndex:2}:{position:"relative"}},cl=e=>{var i,a,s,l;if(!(null==(a=e.column.columnDef)||null==(i=a.meta)?void 0:i.question))return{};let n={...null==e||null==(l=e.column)||null==(s=l.columnDef)?void 0:s.meta};return{values:[...e.getContext().getValue()],...n}},cn="responses",cr="statistics",co="overview",cd=()=>({results:{label:t("Results"),panel:"results",icon:tO,defaultMenu:cu.overview}}),cu={overview:co,list:cn,statistics:cr},cc=e=>{let{surveyId:i}=e,a=(0,_.Zp)(),{panel:s}=(0,_.g)(),{survey:l={}}=dV(i),n=e=>{let i=cd()[e];i.panel!==s&&(i.getRedirectUrl&&1?window.open(i.getRedirectUrl(l.sid),"_self"):a(`/responses/${l.sid}/${i.panel}/${i.defaultMenu||""}`))},r=(0,h.useMemo)(()=>{let e=[],i={};return Object.keys(cd()).forEach(a=>{let s=cd()[a];e.push({icon:s.icon,label:s.label,tip:s.tip,iconEvent:s.panel,panel:a,panelItems:{[cd().results.panel]:[{label:t("Results overview"),labelEditor:t("Results overview"),menu:cu.overview},{label:t("Responses list"),labelEditor:t("Responses list"),menu:cn,activeMenus:[cn,cr]}]}[a],panelComponent:i[a]||[],onIconClickCallback:()=>{n(s)},panelEvent:s.panel,onPanelClickCallback:()=>{n(s)}})}),e},[]);return(0,h.useEffect)(()=>{if(s)return;let e=cd()[cd().results.panel];a(`/responses/${l.sid}/${e.panel}/${e.defaultMenu||""}`)},[s]),(0,m.jsx)(rT,{testId:"left-sidebar",items:r,showFeedbackButton:!0,onIconClick:e=>n(e),page:"responses",sidebarClassName:"med14-c",showCloseButton:!1})},cm="yyyy-MM-dd",cp=new Date("2000-04-17T15:30"),ch=new Date("2050-04-17T15:30"),cg=e=>{var i,a,s,l,n,r,o;let{column:d,columnsFilters:u,setColumnsFilters:c}=e,p=null==(i=d.columnDef.meta)?void 0:i.filterType,h=null==(a=d.columnDef.meta)?void 0:a.question,g=null==(s=d.columnDef.meta)?void 0:s.language,v=u[d.id]||{},x=(null==(l=d.columnDef.meta)?void 0:l.keys)??[],I=(e,i)=>{let a=!0;if(!(a=i===u7?(null==e?void 0:e.startDate)||(null==e?void 0:e.endDate):i===u8?(null==e?void 0:e.length)>0:"range"===i?(e[0]||0)<=(e[1]||1/0)&&(e[0]||e[1]):null==e?void 0:e.some(e=>""!==e))){delete u[d.id],c({...u});return}i===u7&&(e=[(null==e?void 0:e.startDate)?null==e?void 0:e.startDate:(0,lr.GP)(cp,cm),(null==e?void 0:e.endDate)?null==e?void 0:e.endDate:(0,lr.GP)(ch,cm)]),c({...u,[d.id]:{value:e,keys:x,filterMethod:i}})};if(!p)return null;let _=[];if(p===u9){let e=d.id===ce;h?null!==p&&(_=h.questionThemeName===lh().SINGLE_CHOICE_FIVE_POINT_CHOICE.theme?[1,2,3,4,5].map(e=>({label:e,value:e})):(null==(o=h.answers)?void 0:o.map(e=>{var i,a;return{label:(null==e||null==(i=e.l10ns[g])?void 0:i.answer)||"",value:(null==e||null==(a=e.l10ns[g])?void 0:a.answer)||""}}))||[]):_=(null==(r=d.columnDef.meta)||null==(n=r.answerOptions)?void 0:n.map(i=>({label:e?i?"Yes":"No":null==i?void 0:i.toString(),value:null==i?void 0:i.toString()})))||[];let i=_.filter(e=>{var i;return null==(i=v.value)?void 0:i.some(i=>i===e.value)});return(0,m.jsx)("div",{children:(0,m.jsx)(sY,{options:_,onChange:e=>{I((null==e?void 0:e.map(e=>e.value))||[],u9)},defaultValue:i,isMultiselect:!0,placeholder:t("Filter column"),styles:{control:e=>({...e,minHeight:"30px",fontSize:"0.8rem"}),menu:e=>({...e,fontSize:"0.8rem"})}})})}if(p===u7){let[e,i]=v.value||["",""];return(0,m.jsx)("div",{className:"d-flex flex-column gap-1",onClick:e=>e.stopPropagation(),children:(0,m.jsx)(lo,{onUpdate:e=>I(e[0],u7),startDate:e,endDate:i})})}if("range"===p){let[e,i]=v.value||["",""];return(0,m.jsxs)("div",{className:"d-flex gap-1",onClick:e=>e.stopPropagation(),children:[(0,m.jsx)(s_,{type:"number",className:"form-control-sm",placeholder:t("Min"),value:e,onChange:e=>I([e.target.value?Number(e.target.value):"",i],"range"),...d.columnDef.props}),(0,m.jsx)(s_,{type:"number",className:"form-control-sm",placeholder:t("Max"),value:i,onChange:i=>I([e,i.target.value?Number(i.target.value):""],"range"),...d.columnDef.props})]})}return(0,m.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,m.jsx)(s_,{type:"text",className:"form-control form-control-sm",placeholder:t("Filter column"),onChange:e=>I(e.target.value,u8)})})},cv=e=>{let{exportOptions:i}=e,[a,s]=(0,h.useState)({exportFormat:"0",dataView:"0",onlyCompleted:"0"});return(0,h.useEffect)(()=>{i.current={exportFormat:"0",dataView:"0",onlyCompleted:"0"}},[]),(0,m.jsxs)("div",{className:"responses-export",children:[(0,m.jsx)("h2",{className:"title",children:t("Export survey responses")}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"export-option ",children:[(0,m.jsx)("h6",{children:t("Export format")}),(0,m.jsx)("div",{children:(0,m.jsx)(s4,{toggleOptions:[{name:t("PDF"),value:"0"},{name:t("CSV"),value:"1"},{name:t("XLS"),value:"2"}],id:"responses-export-format",className:"condition-toggle",value:a.exportFormat,onChange:e=>{s({...a,exportFormat:e}),i.current={...i.current,exportFormat:e}}})})]}),(0,m.jsxs)("div",{className:"export-option ",children:[(0,m.jsx)("h6",{children:t("Data view")}),(0,m.jsx)("div",{children:(0,m.jsx)(s4,{toggleOptions:[{name:t("Filtered Data"),value:"0"},{name:t("All Data"),value:"1"}],id:"responses-export-data",className:"condition-toggle",value:a.dataView,onChange:e=>{s({...a,dataView:e}),i.current={...i.current,dataView:e}}})})]}),(0,m.jsxs)("div",{className:"export-option ",children:[(0,m.jsx)("h6",{children:t("Only completed")}),(0,m.jsx)("div",{children:(0,m.jsx)(s4,{toggleOptions:[{name:t("Yes"),value:"0"},{name:t("No"),value:"1"}],id:"responses-export-completed",className:"condition-toggle",value:a.onlyCompleted,onChange:e=>{s({...a,onlyCompleted:e}),i.current={...i.current,onlyCompleted:e}}})})]}),(0,m.jsx)("hr",{})]})},cx=e=>{let{language:i,survey:a,onSave:s,showResponseDetails:l,canGoNextResponse:n,canGoPreviousResponse:r,rowInfo:o={},disableUpdatingResponses:d=!1}=e,u=o.getVisibleCells(),c={},p=(null==o?void 0:o.original)||{};return u.map(e=>{var i,a;let s=null==(a=e.column.columnDef)||null==(i=a.meta)?void 0:i.question;s&&!c[s.qid]&&(c[s.qid]=cl(e,o))}),(0,m.jsxs)("div",{className:"response-detail-view",children:[(0,m.jsx)("div",{className:"response-questions",children:Object.entries(c).map((e,l)=>{var n;let[,r]=e;return(0,m.jsx)(h.Fragment,{children:(0,m.jsx)(oB,{language:i,valueInfo:r,surveySettings:{showNoAnswer:a.showNoAnswer,languages:a.languages},questionNumber:null==r||null==(n=r.meta)?void 0:n.questionNumber,onSave:s,onCancel:()=>{},disableUpdatingResponses:d})},"response-detail-view-"+l)})}),(0,m.jsxs)("div",{className:"user-response-details",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Completed"),": ",(0,m.jsx)("i",{className:p.completed})]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Response ID"),": ",p.id]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Start language"),": ",p.language]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Seed"),": ",p.seed]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Date started"),": ",p.startDate]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Last action"),": ",p.dateLastAction]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("IP address"),":"," ",p.ipAddr?p.ipAddr:t("Not enabled")]}),(0,m.jsxs)("p",{className:"user-response-paragraph",children:[t("Referrer URL"),":"," ",p.refUrl?p.refUrl:t("Not enabled")]})]}),(0,m.jsxs)("div",{className:"w-100 p-3 response-detail-view-action-buttons",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between gap-2 mb-3 pb-0 pt-0",children:[(0,m.jsxs)(s5,{disabled:!r,onClick:()=>l((null==o?void 0:o.index)-1),variant:"outline-secondary",className:"w-100 label-s d-flex justify-content-center align-content-center",children:[(0,m.jsx)("i",{className:"ri-arrow-left-long-line me-2"}),t("Previous")]}),(0,m.jsxs)(s5,{disabled:!n,onClick:()=>l(+(null==o?void 0:o.index)+1),variant:"outline-secondary",className:"w-100 label-s d-flex justify-content-center align-content-center",children:[t("Next"),(0,m.jsx)("i",{className:"ms-2 ri-arrow-right-long-fill"})]})]}),(0,m.jsx)(s5,{href:aH(`/admin/export/sa/exportresults/surveyid/${a.sid}/id/${p.id}`),className:"export-response-button w-100 text-white",children:t("Export response")})]})]})]},null==p?void 0:p.id)},cI=e=>{var i;let{table:a,onDeleteClick:s=()=>{},onAttachmentsDeleteClick:l=()=>{},onDownloadFilesClick:n=()=>{}}=e,r=(null==a||null==(i=a.getSelectedRowModel())?void 0:i.rows)||[],o=r.length>0;return(0,m.jsxs)("div",{className:sN()("bulk-actions",{"pointer-events-none":!o}),style:{opacity:o?"1":"0"},children:[(0,m.jsxs)("div",{className:"number-selected",children:[(0,m.jsx)("span",{className:"number",children:r.length})," ",t("selected")]}),(0,m.jsx)("div",{className:"seprator",children:(0,m.jsx)(tF,{})}),(0,m.jsxs)(s5,{onClick:n,variant:"none",children:[(0,m.jsx)(tt,{fill:"currentColor",className:"bulk-icon"}),t("Download files")]}),(0,m.jsxs)(s5,{onClick:l,variant:"none",children:[(0,m.jsx)(tg,{fill:"currentColor",className:"bulk-icon"}),t("Delete attachments")]}),(0,m.jsxs)(s5,{onClick:s,variant:"none",className:"text-danger",children:[(0,m.jsx)(tg,{fill:"currentColor",className:"bulk-icon text-danger"}),t("Delete")]}),(0,m.jsx)(s5,{onClick:()=>{a.toggleAllRowsSelected(!1)},className:"x-button",variant:"none",children:(0,m.jsx)(tR,{className:"bulk-icon"})})]})};var c_=a(63123),cT=a(17223);let cN=e=>{let{table:i,pinnedColumns:a,setPinnedColumns:s}=e;return(0,m.jsx)("thead",{children:i.getHeaderGroups().map(e=>(0,m.jsx)("tr",{children:e.headers.map((i,l)=>{var n;let r="id"===i.id,o=i.column.getIsSorted(),d=null==(n=i.column.columnDef.meta)?void 0:n.title,u=l===e.headers.length-2,c=l===e.headers.length-1;return(0,m.jsxs)("th",{className:sN()(`${i.id}`,{"highlight-cell":o,columnBeforeActions:u}),style:{...cs(i.column)},children:[(0,m.jsxs)("div",{className:sN()(`d-flex flex-column text-fade-bottom-right align-items-start  position-relative ${i.id}`,{columnBeforeActions:u,"justify-content-end":c}),style:{width:i.getSize()},children:[d&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"question-title text-fade-bottom-right",children:d})}),(0,c_.Kv)(i.column.columnDef.header,i.getContext())]}),(0,m.jsxs)("div",{className:sN()("header-actions-container",{"d-none":i.id===ct||i.id===ci}),children:[(0,m.jsx)("div",{onClick:()=>(e=>{let{column:i,id:l}=e;if(l===ct)return void s([...a]);if(i.getIsPinned()){let e=a.indexOf(l);a.splice(e,1),s([...a])}else s([...a,l])})(i),className:sN()("pin-icon",{"ri-pushpin-2-line":!i.column.getIsPinned(),"ri-unpin-line":i.column.getIsPinned()})}),(0,m.jsx)("div",{onClick:r?i.column.getToggleSortingHandler():void 0,className:sN()("sort-icon",{"ri-sort-desc":!o,"ri-sort-asc":"desc"===o,"ri-format-clear":"asc"===o,"d-none":!r})}),(0,m.jsx)("div",{onMouseDown:i.getResizeHandler(),onTouchStart:i.getResizeHandler(),className:`resizer ${i.column.getIsResizing()?"isResizing":""}`})]})]},i.id)})},e.id))})};var cb=a(48488);let cE=e=>{let{filesInfo:i,surveyId:a,rowId:s,questionId:l}=e;return i.map((e,i)=>{let n=Math.max(e.approxFileSizeInMB,.1);return e.isDeleted?(0,m.jsx)(cb.A,{children:(0,m.jsx)("span",{className:"file-name text-danger",children:t("File has been deleted")})},`${e.key}-${i}`):(0,m.jsxs)("div",{className:"td-value-container",children:[(0,m.jsx)(cb.A,{children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("span",{className:"file-name",children:[e.name,":"]}),(0,m.jsxs)("a",{href:`${location.protocol}//${location.hostname}/responses/downloadfile?surveyId=${a}&responseId=${s}&qid=${l}&index=${i}`,className:"ms-1 file-size",target:"_blank",rel:"noreferrer",children:[n,t("MB")]})]})}),e.comment&&(0,m.jsx)(cb.A,{children:(0,m.jsx)("div",{children:(0,m.jsxs)("span",{className:"file-comment",children:[t("Comment"),": ",e.comment]})})}),e.title&&(0,m.jsx)(cb.A,{children:(0,m.jsx)("div",{children:(0,m.jsxs)("span",{className:"file-title",children:[t("Title"),": ",e.title]})})})]},`${e.key}-${i}`)})},cy=e=>{let{cell:i}=e,a=i.getContext().getValue(),s="";return s="object"==typeof a?null==a?void 0:a.map((e,a)=>{let{value:s,comment:l,subquestionTitle:n,answerTitle:r,questionThemeName:o,checked:d}=e;return(0,m.jsx)(cb.A,{children:(e=>{let{value:i,comment:a,subquestionTitle:s,answerTitle:l,questionThemeName:n="",checked:r,index:o}=e;if(!i&&!l&&!(null==a?void 0:a.value))return(0,m.jsx)(m.Fragment,{});if(!s&&!l&&!(null==a?void 0:a.value))return(0,m.jsxs)("span",{children:[" ",i," "]});if(n===lh().MULTIPLE_NUMERICAL_INPUTS.theme){var d;return(0,m.jsxs)(m.Fragment,{children:[s,": ",(null==(d=Number(i))?void 0:d.toFixed(2))??"0.00"]})}return dM.includes(n)?(0,m.jsxs)(m.Fragment,{children:[s,": ",l,a&&(0,m.jsxs)("span",{children:[": ",a.value]})]}):(0,m.jsxs)("span",{children:[r&&!dL.includes(n)&&(0,m.jsx)("i",{className:"ri-check-line text-success"}),dL.includes(n)&&`${o+1}. `,!lg.includes(n)&&!dL.includes(n)&&`${s}`,(lg.includes(n)||dL.includes(n))&&l,(null==a?void 0:a.value)&&(0,m.jsxs)("span",{children:[l&&":"," ",a.value]})]})})({value:s,comment:l,subquestionTitle:n,answerTitle:r,questionThemeName:o,checked:d,index:a})},`cell-value-${a}${i.column.id}`)}):(0,c_.Kv)(i.column.columnDef.cell,i.getContext()),i.column.id===ce?(0,m.jsx)("i",{className:i.getContext().getValue()}):(0,m.jsx)(m.Fragment,{children:s})},cS=e=>{let{table:i,clickedRowRef:a,showFilters:s,sortedColumnId:l,columnsFilters:n,setColumnsFilters:r,sid:o,setShowQuestionComponent:d,cellQuestionInfoRef:u}=e;return(0,m.jsxs)("tbody",{children:[s&&i.getHeaderGroups().map(e=>(0,m.jsx)("tr",{className:"border-none column-filters",children:e.headers.map((e,i)=>{let a=e.column.id===l;return(0,m.jsx)("td",{style:{...cs(e.column)},className:sN()(`border-none column-filter-${i}`,{"highlight-cell":a}),children:(0,m.jsx)(cg,{columnsFilters:n,setColumnsFilters:r,column:e.column})},e.id+"filters")})},e.id)),i.getRowModel().rows.map(e=>{let i=e.getIsSelected();return(0,m.jsx)("tr",{className:`${i?"row-selected":""} data-row`,children:e.getVisibleCells().map((i,s)=>{var n,r,c,p,h,g,v;let x=i.column.id===l,I=(null==(c=i.column.columnDef)||null==(r=c.meta)||null==(n=r.question)?void 0:n.questionThemeName)===lh().FILE_UPLOAD.theme,_=s===e.getVisibleCells().length-2,T=null==e||null==(p=e.original)?void 0:p.id,N=null==i||null==(v=i.column)||null==(g=v.columnDef)||null==(h=g.meta)?void 0:h.qid,b=i.getContext().getValue();return(0,m.jsx)("td",{onClick:()=>{var s,l;let n;return n=null==(l=i.column.columnDef)||null==(s=l.meta)?void 0:s.question,void(a.current=e,u.current={...cl(i,e),cell:i},n&&d(!0))},style:{...cs(i.column),maxWidth:i.column.getSize()},className:sN()(`${i.column.id}`,{"highlight-cell":x,columnBeforeActions:_}),children:(0,m.jsx)("div",{className:"text-fade-bottom-right td-value-container",children:I?(0,m.jsx)(cE,{filesInfo:b,questionId:N,rowId:T,surveyId:o}):(0,m.jsx)(cy,{cell:i})})},i.id)})},e.id)})]})},cA=e=>{var i,a,s,l;let{survey:n,showFilters:r,sortedColumnId:o,sorting:d,setSorting:u,responsesData:c,onFiltersChange:p=()=>{},handleResponsesDelete:g=()=>{},handleAttachmentsDelete:v=()=>{},handleResponsesUpdate:x=()=>{},pagination:I,setPagination:_,isFetching:T=!1,columnsFilters:N,setColumnsFilters:b,surveyQuestions:E=[],hidePaginationButtons:y=!1,hideActions:S=!1,hideSelect:A=!1,disableUpdatingResponses:f=!1}=e,[j,C]=(0,h.useState)(!0),[O,w]=(0,h.useState)([]),[q,M]=(0,h.useState)([]),L=(0,h.useRef)({}),D=(0,h.useRef)(!1),[R,P]=(0,h.useState)(null),[k,H]=(0,h.useState)(!1),[G,V]=(0,h.useState)(!1),[Y,Q]=(0,h.useState)(!1),[B,F]=(0,h.useState)(!1),[z,$]=(0,h.useState)(!1),[W,Z]=(0,h.useState)(!1),[K,X]=(0,h.useState)({}),J=(0,h.useRef)({}),[ee,et]=(0,h.useState)(!1),[ei,ea]=(0,h.useState)([]),[es,el]=(0,h.useState)([ct]),en=(0,c_.N4)({data:O,columns:q,state:{sorting:d,pagination:I,columnVisibility:K,columnOrder:ei,columnPinning:{left:es,right:[ci]}},defaultColumn:{size:80,maxSize:1e3,minSize:200},onColumnOrderChange:ea,onSortingChange:u,getCoreRowModel:(0,cT.HT)(),getSortedRowModel:(0,cT.h5)(),getPaginationRowModel:(0,cT.kW)(),getFacetedRowModel:(0,cT.kQ)(),rowCount:null==(a=c._meta)||null==(i=a.pagination)?void 0:i.totalItems,getFacetedUniqueValues:(0,cT.oS)(),enableRowSelection:!0,onPaginationChange:_,manualPagination:!0,manualFiltering:!0,manualSorting:!0,columnResizeMode:"onChange",enableColumnResizing:!0,getRowId:(e,i)=>(null==e?void 0:e.id)===void 0?i:null==e?void 0:e.id});(0,h.useEffect)(()=>{N&&!j&&er(N)},[N]);let er=(0,h.useCallback)((0,i_.debounce)(e=>{p(e),_({...I,pageIndex:0})},1e3),[n.sid]);(0,h.useEffect)(()=>{var e,i,a;let s,l;if(!c||!n.sid)return;let r=(e=>{let{onResponseDetailViewClick:i=()=>{},deleteCallback:a=()=>{},showColumnsManagment:s=()=>{},onDownloadAllFilesClick:l=()=>{},onDeleteResponseFilesClick:n=()=>{}}=e;return{SELECT:{id:ct,maxSize:60,header:e=>{let{table:i}=e;return(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",checked:i.getIsAllRowsSelected(),onChange:i.getToggleAllRowsSelectedHandler()})},cell:e=>{let{row:i}=e;return(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",checked:i.getIsSelected(),onChange:i.getToggleSelectedHandler()})}},ACTIONS:{id:ci,header:(0,m.jsx)("span",{onClick:s,children:(0,m.jsx)(tZ,{})}),cell:()=>(0,m.jsx)(rf,{shouldDisableIfSurveyActive:!1,items:[{label:t("View/Edit response details"),icon:(0,m.jsx)(tI,{}),onClick:i},{label:t("Download all response files"),icon:(0,m.jsx)(tt,{height:16,width:16}),onClick:l},{label:t("Delete all response files"),icon:(0,m.jsx)(tg,{height:16,width:16}),onClick:n},{label:t("Delete this response"),icon:(0,m.jsx)(tg,{height:16,width:16}),onClick:a,className:"delete-response-action"}],meatballClassName:"responses-meatball-menu",actionsTitle:"Response Actions",placement:"left"})}}})({onResponseDetailViewClick:eu,deleteCallback:eo,showColumnsManagment:()=>H(!0),onDownloadAllFilesClick:()=>ed(!1),onDeleteResponseFilesClick:()=>em()}),o=q;q.length?!S&&q.length&&(q.pop(),M([...q,r.ACTIONS])):(o=((e,i)=>{let a=[];if(!i.sid)return[];let s=i.datestamp;a.push({id:"id",accessorKey:"id",header:t("ID"),meta:{survey:i,filterType:"range",keys:["id"]},filterFn:"range",props:{min:0,type:"number"}}),a.push({id:ce,accessorKey:ce,header:t("completed"),meta:{survey:i,filterType:u9,answerOptions:[!1,!0],keys:[ce]},filterFn:u9}),(null==i?void 0:i.hasTokens)&&(a.push({id:"token",accessorKey:"token",header:t("Token"),meta:{keys:["token"],filterType:u8}}),a.push({id:"firstName",accessorKey:"firstName",header:t("First name"),meta:{keys:["firstName"]}}),a.push({id:"lastName",accessorKey:"lastName",header:t("Last name"),meta:{keys:["lastName"]}}),a.push({id:"email",accessorKey:"email",header:t("Email"),meta:{keys:["email"]}})),a.push({id:"dateLastAction",accessorKey:"dateLastAction",header:t("Date last action"),meta:{survey:i,filterType:u7,keys:["dateLastAction"]},filterFn:u7}),a.push({id:"seed",accessorKey:"seed",header:t("Seed"),meta:{survey:i,filterType:"range",keys:["seed"]},filterFn:"range"}),a.push({id:"language",accessorKey:"language",header:t("Language"),meta:{survey:i,filterType:u9,keys:["language"],answerOptions:i.languages}}),s&&a.push({id:"submitDate",accessorKey:"submitDate",header:t("Submit date"),meta:{survey:i,filterType:u7,keys:["submitDate"]},filterFn:u7});let l={};return Object.entries(e).map(e=>{var s;let[n,r]=e,{qid:o,sqid:d,actual_aid:u}=r;if(l[o])return void l[o].keys.push(n);{let e=ay(o,i);l[o]={question:null==e?void 0:e.question,questionNumber:null==e?void 0:e.questionNumber,keys:[n]}}if(!l[o])return;let c=l[o].question,m=l[o].questionNumber;a.push({accessorKey:o.toString(),id:o.toString(),header:`${iO(null==c||null==(s=c.l10ns[i.language])?void 0:s.question)}`,meta:{question:c,questionNumber:m,language:i.language,filterType:null,qid:o,sqid:d,aid:u,title:null==c?void 0:c.title,keys:l[o].keys}})}),a})(c.surveyQuestions||E,n),A||(o=[r.SELECT,...o]),S||(o=[...o,r.ACTIONS]),M(o)),C(!1),w((e=c.responses,i=n.language,a=o,s=[],l={},e.map((e,n)=>{s.push({}),s[n].language=e.language,s[n].id=e.id,s[n].seed=e.seed,s[n].submitDate=e.submitDate,s[n].token=e.token,s[n].firstName=e.firstName,s[n].lastName=e.lastName,s[n].email=e.email,s[n].dateLastAction=U(e.dateLastAction).format("MM-DD-YYYY HH:mm:ss"),s[n].startDate=U(e.startDate).format("MM-DD-YYYY HH:mm:ss"),s[n].ipAddr=e.ipAddr,s[n].refUrl=e.refUrl,s[n].completed=e.completed?"ri-check-line text-success":"ri-close-large-line text-danger",s[n].answer={},s[n].meta={},Object.entries(e.answers).forEach(r=>{var o,d,u,c,m,p,h,g;let v,x,I,[,_]=r,T=(0,i_.cloneDeep)(_),{value:N,qid:b,sqid:E,actual_aid:y}=T,S=l[b]||(null==a||null==(c=a.find(e=>{var i;return(null==(i=e.accessorKey)?void 0:i.toString())===(null==b?void 0:b.toString())}))||null==(u=c.meta)?void 0:u.question);if(!S){s[n][b]=[];return}if(l[b]=S,(o=s[n])[b]??(o[b]=[]),(d=s[n].answer)[b]??(d[b]=[]),S.questionThemeName===lh().FILE_UPLOAD.theme)return void((e,i,a,s,l,n)=>{if((null==e||!e.endsWith("_filecount"))&&a)try{let r=JSON.parse(a)||[];i[l][s]=[],i[l].meta[s]=r;let o=!1;r.forEach(a=>{let{name:r,size:d,title:u,comment:c,isDeleted:m}=a,p=(d/1e3).toFixed(1);o=o||!m,i[l][s].push({name:r,key:e,size:d,title:u,comment:c,approxFileSizeInMB:p,responseId:n.id,isDeleted:m})}),i[l].hasFiles=o}catch(e){console.error("Error parsing file upload value:",e)}})(T.key,s,N,b,n,e);let A=s[n][b],f=((e,i)=>{if(i.answers&&i.answers.length)for(let a=0;a<i.answers.length;a++){let s=i.answers[a];if(s.aid===e)return{answer:s,answerIndex:a}}return{}})(y,S).answer??((e,i,a)=>{if(a.answers&&a.answers.length)for(let s=0;s<a.answers.length;s++){let l=a.answers[s];if(l[i]===e)return{answer:l,answerIndex:s}}return{}})(T.value,"code",S).answer,j=((e,i)=>{if(i.subquestions&&i.subquestions.length)for(let a=0;a<i.subquestions.length;a++){let s=i.subquestions[a];if(s.qid===e)return{subquestion:s,subquestionIndex:a}}return{}})(E,S).subquestion??((e,i,a)=>{if(a.subquestions&&a.subquestions.length)for(let s=0;s<a.subquestions.length;s++){let l=a.subquestions[s];if(l[i]===e)return{subquestion:l,subquestionIndex:s}}return{}})(T.aid,"title",S).subquestion,C=(v=S.questionThemeName,n5.includes(v)||(x=S.questionThemeName,n9.includes(x))),O=!T.actual_aid&&!T.sqid&&(null==(m=T.key)?void 0:m.includes("comment"));T.aid=y;let w=(I=S.questionThemeName,n5.includes(I))?"aid":"sqid";f||j||C?O?(N=f?iO(null==f||null==(p=f.l10ns[i])?void 0:p.answer):iO(N),A.length||A.push({value:`✖ ${t("No answer")}`,key:T.key,aid:T.actual_aid,[w]:T[w]}),A[A.length-1].comment={value:N,key:T.key,[w]:A[A.length-1][w]}):A.push({value:N,key:T.key,aid:T.actual_aid,[w]:T[w],qid:T[w],checked:!!N,responseId:e.id,questionThemeName:S.questionThemeName,subquestionTitle:iO(null==j||null==(h=j.l10ns[i])?void 0:h.question)||N,answerTitle:iO(null==f||null==(g=f.l10ns[i])?void 0:g.answer)||N}):A.push({value:iO(N),key:T.key,aid:T.actual_aid,[w]:T[w],responseId:e.id}),T.aid=y,delete T.question,s[n].answer[b].push(T)})}),s))},[c,n.sid]),(0,h.useEffect)(()=>{c&&q.length&&!j&&!ei.length&&ea(q.map(e=>null==e?void 0:e.id))},[q]),(0,h.useEffect)(()=>{en.getSelectedRowModel().rows.length>0&&en.resetRowSelection()},[d,N,I]);let eo=()=>{D.current=!1,V(!0)},ed=function(){var e,i;let a=!(arguments.length>0)||void 0===arguments[0]||arguments[0],s=L.current,l=null==(e=s.original)?void 0:e.id,r=null==(i=s.original)?void 0:i.hasFiles,o=ca(en);r?window.open(`${location.protocol}//${location.hostname}/responses/downloadfiles?surveyId=${n.sid}&responseIds=${(a?o:[l]).join(",")}`):ix({message:t("No files to download!"),position:"bottom-center",duration:2e3})},eu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;P(e||L.current),Z(!0)},ec=(e,i)=>{let a={},s=i.original.id;for(let i in e)a[s]={...a[[s]],[i]:e[i]};x(a),$(!1)},em=()=>{Q(!0)};return(0,h.useEffect)(()=>{if(!T)try{let e=en.getRowModel().rows;"first"===ee?(L.current=e[0],eu(L.current)):"last"===ee&&(L.current=e[e.length-1],eu(L.current))}catch(e){console.error(e)}finally{et(!1)}},[O]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"responses-table",children:[(0,m.jsx)("div",{className:"table-container",children:(0,m.jsxs)("table",{className:"table table-hover align-middle",children:[(0,m.jsx)(cN,{pinnedColumns:es,setPinnedColumns:el,table:en}),(0,m.jsx)(cS,{cellQuestionInfoRef:J,clickedRowRef:L,columnsFilters:N,setColumnsFilters:b,setShowQuestionComponent:$,showFilters:r,sid:n.sid,sortedColumnId:o,table:en})]})}),(0,m.jsx)("div",{className:sN()("d-flex justify-content-center align-content-center py-1 px-4",{"d-none":y}),children:(0,m.jsx)(la,{OnPageNumberClick:e=>en.setPageIndex(e),canGoNextPage:en.getCanNextPage(),canGoPrevPage:en.getCanPreviousPage(),currentPageIndex:I.pageIndex,maxNumberOfButtons:5,onFirstPageClick:en.firstPage,onLastPageClick:en.lastPage,onNextPageClick:en.nextPage,onPrevPageClick:en.previousPage,totalPages:en.getPageCount(),onPageSizeChange:e=>{en.setPageSize(e),en.firstPage()},pageSize:I.pageSize})})]}),(0,m.jsx)(cI,{table:en,onDeleteClick:()=>{V(!0),D.current=!0},onAttachmentsDeleteClick:()=>{Q(!0),D.current=!0},onDownloadFilesClick:ed}),(0,m.jsx)(cj,{showResponsesDeleteModal:G,setShowResponsesDeleteModal:V,setShowAttachmentsDeleteModal:Q,onAttachmentsDeleteConfirm:()=>{var e;let i=null==(e=L.current.original)?void 0:e.id,a=ca(en);v(D.current?a:[i]),D.current=!1},showAttachmentsDeleteModal:Y,showFiltersColumn:B,setShowFiltersColumn:F,showSurveyDetails:W,setShowSurveyDetails:Z,showQuestionComponent:z,setShowQuestionComponent:$,setShowColumnManagementModal:H,showColumnManagementModal:k,onResponsesDeleteConfirm:()=>void g(D.current?ca(en):[L.current.original.id],!1),handleOnColumnsManagementConfirm:e=>{let i=e.map(e=>e.id);X(Object.assign({},...e.map(e=>({[e.id]:e.checked})))),ea(i)},handleOnHide:()=>{D.current=!1},table:en,QuestionComponent:(0,m.jsx)(oB,{surveySettings:{showNoAnswer:n.showNoAnswer,languages:n.languages},language:n.language,valueInfo:J.current,onSave:e=>ec(e,L.current),onCancel:()=>$(!1),clickedRowRef:L,disableUpdatingResponses:f}),SurveyDetailsComponent:(0,m.jsx)(cx,{language:n.language,survey:n,meta:{...null==(l=L.current)||null==(s=l.original)?void 0:s.meta},onSave:e=>ec(e,L.current),OnCancel:()=>$(!1),canGoNextResponse:en.getCanNextPage()||(null==R?void 0:R.index)<en.getRowModel().rows.length-1,canGoPreviousResponse:en.getCanPreviousPage()||(null==R?void 0:R.index)>0,rowInfo:{...R},showResponseDetails:e=>{if(e===I.pageSize&&en.getCanNextPage()){en.nextPage(),et("first");return}if(-1===e&&en.getCanPreviousPage()){en.previousPage(),et("last");return}-1!==e&&e<I.pageSize&&eu(en.getRowModel().rows[e])},disableUpdatingResponses:f})})]})},cf=e=>{let{table:i={},onHide:a=()=>{},handleOnColumnsManagementConfirm:s=()=>{}}=e,[l,n]=(0,h.useState)(()=>i.getAllLeafColumns().map((e,i)=>({checked:e.getIsVisible(),id:e.id,index:i,header:e.columnDef.header}))),r=(0,h.useMemo)(()=>(null==l?void 0:l.length)?l.map((e,a)=>a&&a!==i.getAllLeafColumns().length-1?(0,m.jsx)(s0.sx,{index:a,draggableId:`${e.id}${a}-column-management-item`,isDragDisabled:a<3,children:(i,s)=>{var r;return(0,m.jsxs)("div",{...i.draggableProps,ref:i.innerRef,className:sN()("mb-1 reg16 column-item",{"focus-element":s.isDragging}),style:{...i.draggableProps.style},children:[(0,m.jsx)("div",{...i.dragHandleProps,className:sN()("ms-2 me-2 pb-1 p-0",{"opacity-0":a<3}),children:(0,m.jsx)(tv,{className:"cm-drag-icon"})}),(0,m.jsx)("input",{className:"form-check-input me-2",type:"checkbox",id:`column-${e.id}`,checked:null==(r=l[a])?void 0:r.checked,onChange:e=>{let{target:{checked:i}}=e;l[a]={...l[a],checked:i},n([...l])},disabled:a<3}),(0,m.jsx)("label",{className:"form-check-label ",htmlFor:`column-${e.id}`,children:e.header})]})}},`${e.id}-${e.index}`):null):null,[i,l]);return(0,m.jsxs)("div",{className:"column-manager",children:[(0,m.jsx)("h1",{className:"mb-3 reg24",children:t("Organize columns")}),(0,m.jsx)("p",{className:"reg14",children:t("Select which columns you want to display inside this table. You can order the columns by drag and drop.")}),(0,m.jsxs)("div",{className:"d-flex gap-3 my-4",children:[(0,m.jsxs)(s5,{className:"med14-c d-flex justify-content-center align-content-center gap-2",variant:"outline-none",onClick:()=>{n([...[...l].map(e=>({...e,checked:!0}))])},children:[(0,m.jsx)("div",{children:(0,m.jsx)(tu,{})}),(0,m.jsx)("div",{className:"d-flex align-items-center",children:t("Select all")})]}),(0,m.jsxs)(s5,{className:"med14-c d-flex justify-content-center align-content-center gap-2",variant:"outline-none",onClick:()=>{n([...[...l].map((e,i)=>i<3||i===l.length-1?e:{...e,checked:!1})])},children:[(0,m.jsx)("div",{children:(0,m.jsx)(tW,{})}),(0,m.jsx)("div",{className:"d-flex align-items-center",children:t("Clear selection")})]})]}),(0,m.jsx)(s0.JY,{onDragEnd:e=>{if(!e.destination)return;let i=[...l],a=e.source.index,s=e.destination.index,[r]=i.splice(a,1);i.splice(s,0,r),i.map((e,i)=>({...e,index:i})),n([...i])},children:(0,m.jsx)(s0.gL,{direction:"vertical",droppableId:"droppable-columns-management",children:e=>(0,m.jsxs)("div",{ref:e.innerRef,...e.droppableProps,...e.droppableProps,children:[(0,m.jsx)("div",{className:"columns-container mb-3",children:r}),e.placeholder]})},"droppable-columns-management")}),(0,m.jsxs)("div",{className:"border-none d-flex align-items-center justify-content-end gap-2",children:[(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"secondary",onClick:a,children:t("Cancel")}),(0,m.jsx)(s5,{size:"lg",className:"text-light",variant:"primary",onClick:()=>{s(l),a()},children:t("Confirm")})]})]})},cj=e=>{let{showResponsesDeleteModal:i,setShowResponsesDeleteModal:a,showAttachmentsDeleteModal:s,setShowAttachmentsDeleteModal:l,showColumnManagementModal:n,setShowColumnManagementModal:r,showQuestionComponent:o,setShowQuestionComponent:d,showSurveyDetails:u,setShowSurveyDetails:c,handleOnColumnsManagementConfirm:p=()=>{},onAttachmentsDeleteConfirm:h=()=>{},onResponsesDeleteConfirm:g=()=>{},QuestionComponent:v,SurveyDetailsComponent:x,table:I,handleOnHide:_}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r9,{title:t("Delete responses"),description:t("Do you really want to delete this response?"),show:i,onConfirm:()=>{g(),a(!1)},onHide:()=>{a(!1),_()},modalBodyClassname:"responses-confirm-modal-body"}),(0,m.jsx)(r9,{title:t("Delete attachments"),description:t("Are you sure you want to delete the attachments for the selected responses?"),show:s,onConfirm:()=>{h(),l(!1)},onHide:()=>{l(!1),_()},modalBodyClassname:"responses-confirm-modal-body"}),(0,m.jsx)(r8,{show:n,onHide:()=>{r(!1),_()},headerClassname:"position-absolute end-0",Component:(0,m.jsx)(cf,{table:I,onHide:()=>{r(!1),_()},handleOnColumnsManagementConfirm:p}),componentClassname:"column-manager"}),(0,m.jsx)(r8,{show:o,onHide:()=>{d(!1),_()},headerClassname:"position-absolute end-0",Component:v,componentClassname:"question-component-modal"}),(0,m.jsx)(r8,{show:u,onHide:()=>{c(!1),_()},headerClassname:"position-absolute end-0",Component:x,componentClassname:"responses-component-modal",modalClassname:"responses-component-details-modal"})]})};var cC=a(45785),cO=a(24188),cw=a(37063),cq=a(41868),cM=a(46787),cL=a(33486),cD=a(22124),cR=a(75390);let cP=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{width:"100%",minHeight:500,height:"100%",children:(0,m.jsxs)(cO.E,{dataKey:"value",nameKey:"title",data:i,children:[(0,m.jsx)(cw.d,{strokeDasharray:"3 3"}),(0,m.jsx)(cq.W,{dataKey:"title",angle:-45,textAnchor:"end",height:80}),(0,m.jsx)(cM.h,{}),(0,m.jsx)(cL.m,{cursor:{fill:"#eeeff7"},content:(0,m.jsx)(nP,{})}),(0,m.jsx)(cD.y,{maxBarSize:60,dataKey:"value",nameKey:"title",data:i,children:i.map((e,i)=>(0,m.jsx)(cR.f,{fill:nk[i%nk.length]},`bar-chart-${i}`))})]})})};var ck=a(75510),cU=a(78997),cH=a(22981),cG=a(42989);let cV=e=>{let{payload:i}=e;return(0,m.jsx)("div",{className:"overflow-auto d-flex justify-content-center gap-2 mt-4",children:i.map((e,i)=>(0,m.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,m.jsx)("div",{className:"recharts-square",style:{background:e.color}}),(0,m.jsx)("div",{title:e.value,className:"recharts-square-value",children:e.value})]},i))})},cY=e=>{let{cx:i,cy:a,midAngle:s,outerRadius:l,startAngle:n,endAngle:r,fill:o,percent:d,value:u,payload:c}=e,p=Math.PI/180,h=Math.sin(-p*(s??1)),g=Math.cos(-p*(s??1)),v=(i??0)+((l??0)+10)*g,x=(a??0)+((l??0)+10)*h,I=(i??0)+((l??0)+30)*g,_=(a??0)+((l??0)+30)*h,T=I+(g>=0?1:-1)*22,N=g>=0?"start":"end",b=(null==c?void 0:c.percentage)?parseFloat(c.percentage).toFixed(2):((d??1)*100).toFixed(2);return(0,m.jsxs)("g",{children:[(0,m.jsx)(ck.h,{cx:i,cy:a,startAngle:n,endAngle:r,innerRadius:(l??0)+6,outerRadius:(l??0)+10,fill:o}),(0,m.jsx)("path",{d:`M${v},${x}L${I},${_}L${T},${_}`,stroke:o,fill:"none"}),(0,m.jsx)("circle",{cx:T,cy:_,r:2,fill:o,stroke:"none"}),(0,m.jsx)("text",{x:T+(g>=0?1:-1)*12,y:_,textAnchor:N,className:"active-shape-value",children:`${u}`}),(0,m.jsx)("text",{x:T+(g>=0?1:-1)*12,y:_,dy:18,textAnchor:N,className:"active-shape-percent-value",children:`(${b}%)`})]})},cQ=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{minHeight:500,width:"100%",height:"100%",children:(0,m.jsxs)(cU.r,{children:[(0,m.jsx)(cH.F,{data:i,cx:"50%",cy:"50%",dataKey:"value",label:cY,nameKey:"title",fill:"#8884d8",children:i.map((e,i)=>(0,m.jsx)(cR.f,{fill:nk[i%nk.length]},`peie-cell-${i}`))}),(0,m.jsx)(cL.m,{cursor:{fill:"#eeeff7"},content:nP}),(0,m.jsx)(cG.s,{content:cV})]})})};var cB=a(63063),cF=a(13379),cz=a(54829),c$=a(13451);let cW=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{width:"100%",minHeight:400,height:"100%",children:(0,m.jsxs)(cB.V,{data:i,children:[(0,m.jsx)(cF.z,{}),(0,m.jsx)(cz.r,{dataKey:"title"}),(0,m.jsx)(c$.V,{name:"Experience",dataKey:"value",stroke:nk["1"],fill:nk["1"],fillOpacity:.6}),(0,m.jsx)(cL.m,{content:(0,m.jsx)(nP,{})})]})})};var cZ=a(65205),cK=a(15171);let cX=e=>{let{x:i,y:a,stroke:s,value:l}=e;return(0,m.jsx)("text",{x:i,y:a,dy:-4,fill:s,fontSize:10,textAnchor:"middle",children:l})},cJ=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{width:"100%",minHeight:500,height:"100%",children:(0,m.jsxs)(cZ.b,{data:i,children:[(0,m.jsx)(cw.d,{strokeDasharray:"3 3"}),(0,m.jsx)(cq.W,{dataKey:"key"}),(0,m.jsx)(cM.h,{}),(0,m.jsx)(cL.m,{content:(0,m.jsx)(nP,{})}),(0,m.jsx)(cG.s,{}),(0,m.jsx)(cK.N,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8},label:(0,m.jsx)(cX,{})})]})})};var c0=a(25911),c1=a(15971);let c2=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{width:"100%",minHeight:500,height:"100%",children:(0,m.jsxs)(c0.D,{cx:"50%",cy:"50%",innerRadius:"25%",outerRadius:"90%",data:i,startAngle:90,endAngle:-270,children:[(0,m.jsx)(cF.z,{}),(0,m.jsx)(c1.Z,{background:!0,dataKey:"value",nameKey:"title"}),(0,m.jsx)(cG.s,{iconSize:10,layout:"vertical",verticalAlign:"middle",align:"right"}),(0,m.jsx)(cL.m,{content:(0,m.jsx)(nP,{})})]})})},c3=e=>{let{cx:i,cy:a,midAngle:s,outerRadius:l,startAngle:n,endAngle:r,fill:o,percent:d,value:u,payload:c}=e,p=Math.PI/180,h=Math.sin(-p*(s??1)),g=Math.cos(-p*(s??1)),v=(i??0)+((l??0)+10)*g,x=(a??0)+((l??0)+10)*h,I=(i??0)+((l??0)+30)*g,_=(a??0)+((l??0)+30)*h,T=I+(g>=0?1:-1)*22,N=g>=0?"start":"end",b=(null==c?void 0:c.percentage)?parseFloat(c.percentage).toFixed(2):((d??1)*100).toFixed(2);return(0,m.jsxs)("g",{children:[(0,m.jsx)(ck.h,{cx:i,cy:a,startAngle:n,endAngle:r,innerRadius:(l??0)+6,outerRadius:(l??0)+10,fill:o}),(0,m.jsx)("path",{d:`M${v},${x}L${I},${_}L${T},${_}`,stroke:o,fill:"none"}),(0,m.jsx)("circle",{cx:T,cy:_,r:2,fill:o,stroke:"none"}),(0,m.jsx)("text",{x:T+(g>=0?1:-1)*12,y:_,textAnchor:N,className:"active-shape-value",children:`${u}`}),(0,m.jsx)("text",{x:T+(g>=0?1:-1)*12,y:_,dy:18,textAnchor:N,className:"active-shape-percent-value",children:`(${b}%)`})]})},c6=e=>{let{data:i}=e;return(0,m.jsx)(cC.u,{minHeight:500,width:"100%",height:"100%",children:(0,m.jsxs)(cU.r,{children:[(0,m.jsx)(cH.F,{data:i,cx:"50%",cy:"50%",outerRadius:150,innerRadius:120,dataKey:"value",label:c3,nameKey:"title",fill:"#8884d8",children:i.map((e,i)=>(0,m.jsx)(cR.f,{fill:nk[i%nk.length]},`peie-cell-${i}`))}),(0,m.jsx)(cL.m,{cursor:{fill:"#eeeff7"},content:nP}),(0,m.jsx)(cG.s,{content:cV})]})})},c4=e=>{let i,{statisticsData:a,graphType:s,onGraphChangeCallbackData:l=()=>{},title:n,filterZeroValues:r=!1,disablePieChart:o=!1,disableDoughnutChart:d=!1,disableBarChart:u=!1,disableLineChart:c=!1,disableRadarChart:p=!1}=e,[g,v]=(0,h.useState)(s),x=(0,h.useMemo)(()=>r||1===g||5===g?a.filter(e=>e.value>0):a,[a,r,g]);if(-1===g||null==g)return null;switch(g){case 0:default:i=cP;break;case 1:i=cQ;break;case 4:i=c2;break;case 2:i=cW;break;case 3:i=cJ;break;case 5:i=c6}let I=e=>{v(e),l(l)};return(0,m.jsxs)(rd.A,{className:"responses-chart-card py-3",children:[(0,m.jsx)("div",{className:"d-flex w-100 justify-content-center",children:(0,m.jsx)("h2",{className:"text-xl flex-grow-1 text-center font-semibold mb-4",children:n})}),(0,m.jsx)("div",{className:"chart-wrapper",children:0!==x.length?(0,m.jsx)(i,{data:x}):(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"300px"},children:(0,m.jsx)("span",{className:"text-muted",children:t("No data available")})})}),(0,m.jsxs)("div",{className:"d-flex mt-3 justify-content-center gap-1",children:[!u&&(0,m.jsxs)(s5,{onClick:()=>I(0),variant:"outline-dark",active:0==g,children:[t("Bar chart")," ",(0,m.jsx)("i",{className:"ri-bar-chart-fill"})]}),!o&&(0,m.jsxs)(s5,{onClick:()=>I(1),variant:"outline-dark",active:1==g,children:[t("Pie chart")," ",(0,m.jsx)("i",{className:"ri-pie-chart-fill"})]}),!p&&(0,m.jsxs)(s5,{onClick:()=>I(2),variant:"outline-dark",active:2==g,children:[t("Radar chart"),(0,m.jsx)("i",{className:"ri-webhook-line"})]}),!c&&(0,m.jsxs)(s5,{onClick:()=>I(3),variant:"outline-dark",active:3==g,children:[t("Line chart")," ",(0,m.jsx)("i",{className:"ri-line-chart-fill"})]}),!d&&(0,m.jsxs)(s5,{onClick:()=>I(5),variant:"outline-dark",active:5==g,children:[t("Doughnut chart")," ",(0,m.jsx)("i",{className:"ri-donut-chart-line"})]})]})]})},c5=e=>{let{surveyId:i,filters:a={},isRightBarOpen:s=!1}=e,{statistics:l}=function(e,i){let a=dP(),s=(0,h.useMemo)(()=>new dv(a,e,H()),[a]),{data:l,isFetching:n,refetch:r}=(0,b.I)({queryKey:[ev,e,i],queryFn:()=>s.getSurveyStatistics(e,i),select:e=>e.statistics,placeholderData:d3.rX});return{statistics:l,isFetching:n,refetch:r}}(i,a),[n,r]=(0,h.useState)([]),[o,d]=(0,h.useState)(null);return((0,h.useEffect)(()=>{let e=[];if(!(null==l?void 0:l.length))return;let i=l.map(i=>{var a,s;let l=null==i||null==(s=i.meta)||null==(a=s.question)?void 0:a.attributes,n=nU(i);return(e.push(n),l)?l.statistics_graphtype||0:-1});d(e),r(i)},[l]),(null==l?void 0:l.length)&&o&&n.length)?(0,m.jsx)("div",{className:"responses-statistics-body",children:(0,m.jsx)("div",{className:"responses-charts row",children:l.map((e,i)=>{var a;return -1===n[i]||void 0===n[i]||null===n[i]?null:(0,m.jsx)("div",{className:`${!s?"col-xxl-6":""} col-12 mb-2`,children:(0,m.jsx)(c4,{statisticsData:o[i],graphType:n[i],title:null==(a=l[i])?void 0:a.title})},`responses-charts-${i}`)})})}):(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{children:t("Loading statistics...")})]})},c7=e=>{let{filters:i,setFilters:a,setShowFilters:s}=e,[l,n]=(0,h.useState)(i),[r,o]=(0,h.useState)(null),d=(0,h.useCallback)((0,i_.debounce)(e=>{a({...l,...e})},1e3),[a]);return(0,h.useEffect)(()=>{l.maxId&&l.minId&&l.maxId<l.minId?(o(t("Max ID must be greater than Min ID")),d.cancel()):l.minId&&l.maxId&&l.minId>l.maxId?(o(t("Min ID must be less than Max ID")),d.cancel()):l.maxId&&l.maxId<0?(o(t("Max ID must be a positive integer")),d.cancel()):l.minId&&l.minId<0?(o(t("Min ID must be a positive integer")),d.cancel()):(o(null),d(l))},[l]),(0,m.jsxs)("div",{className:"right-side-bar bg-white sidebar active-side-bar",children:[(0,m.jsxs)(rN,{className:"right-side-bar-header primary",children:[(0,m.jsx)("div",{className:"focused-question-code",children:t("Filter responses")}),(0,m.jsx)(s5,{variant:"link",style:{padding:0},onClick:()=>s(!1),children:(0,m.jsx)(tp,{className:"text-black fill-current"})})]}),(0,m.jsxs)("div",{className:"px-3 mt-1",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"label-s mb-1",children:t("Include")}),(0,m.jsx)("div",{children:(0,m.jsx)(sY,{options:[{label:t("All responses"),value:""},{label:t("Complete only"),value:!0},{label:t("Incomplete only"),value:!1}],update:e=>n({...l,completed:e}),defaultValue:i.completed})})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("p",{className:"label-s mb-1",children:t("Response ID")}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"d-flex gap-1",onClick:e=>e.stopPropagation(),children:[(0,m.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:t("Min"),onChange:e=>{let{target:{value:i}}=e;return n({...l,minId:""===i?"":+i})},min:0,pattern:"^[0-9]*$",defaultValue:i.minId}),(0,m.jsx)("input",{type:"number",className:"form-control form-control-sm",placeholder:t("Max"),onChange:e=>{let{target:{value:i}}=e;return n({...l,maxId:""===i?"":+i})},min:0,pattern:"^[0-9]*$",defaultValue:i.maxId})]})}),(0,m.jsx)("p",{children:r&&(0,m.jsx)("span",{className:"text-danger",children:r})})]})]})]})},c9=e=>{let{setShowFilters:i=()=>{},showFilters:a,setFilters:s=()=>{},setTabKey:l=()=>{},tabKey:n}=e,{menu:r}=(0,_.g)(),o=[{icon:()=>(0,m.jsx)("i",{className:"ri-table-line"}),value:cn},{icon:()=>(0,m.jsx)("i",{className:"ri-bar-chart-2-line"}),value:cr}];return r===cu.overview?null:(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("div",{className:sN()("d-flex gap-2 align-items-center",{"opacity-0 disabled":n===co}),children:[(0,m.jsx)("div",{children:(0,m.jsxs)(s5,{className:"btn filter-button",onClick:()=>i(!a),variant:"light",children:[a?(0,m.jsx)("i",{className:"ri-eye-off-line me-2"}):(0,m.jsx)("i",{className:"ri-filter-2-line me-2"}),a?"Hide filters":"Filter responses"]})}),(0,m.jsx)("div",{children:(0,m.jsxs)(s5,{className:"btn filter-button",onClick:()=>{s({}),i(!1)},variant:"light",children:[(0,m.jsx)("i",{className:"ri-filter-off-line me-2"}),t("Clear filters")]})})]}),(0,m.jsx)("div",{children:(0,m.jsx)(s4,{value:n,update:e=>l(e),toggleOptions:o})})]})},c8=e=>{let{surveyId:i,survey:a,surveyQuestions:s}=e,l=(0,_.Zp)(),[n,r]=(0,h.useState)(null),[o,d]=(0,h.useState)(null),[u,c]=(0,h.useState)(null),[p={},g]=(0,h.useState)(null),v=dP();return((0,h.useEffect)(()=>{new dh(v,i,H()).getResponsesOverview(i).then(e=>{r(null==e?void 0:e.overview);let i=(0,i_.cloneDeep)(e.overview.dailyActivity);i.data=i.data.map(e=>({...e,key:(0,lr.GP)(e.key,"MM-dd"),title:(0,lr.GP)(e.title,"MM-dd")})),i.legend=i.legend.map(e=>(0,lr.GP)(e,"MM-dd"));let a=e.overview.statistics,s={title:t("Responses rate"),total:a.totalResponses,legend:["totalResponses","incompleteResponses","completedWithoutAnswers","incompletedWithoutAnswers"],data:[{title:t("Complete responses"),key:"incompleteResponses",value:a.totalResponses-a.incompleteResponses},{title:t("Completed without answers"),key:"completedWithoutAnswers",value:a.completedWithoutAnswers},{title:t("Incompleted without answers"),key:"incompletedWithoutAnswers",value:a.incompletedWithoutAnswers}]};g(e.overview.statistics),c(nU(s)),d(nU(i))})},[i]),n&&o&&u&&a.sid)?(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("div",{className:"row g-4 mb-3 pb-1",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",children:p.totalResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Total responses")})]})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",children:p.totalResponses-p.incompleteResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Full responses")})]})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsx)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:(null==p?void 0:p.completionRate)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",children:`${p.completionRate}%`}),(0,m.jsx)("span",{className:"reg14",children:t("Response rate")})]}):(0,m.jsx)("span",{className:"reg14",children:t("No responses yet.")})})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(rd.A,{className:"h-100 w-100",children:(0,m.jsxs)(rd.A.Body,{className:"d-flex flex-row flex-wrap justify-content-center align-items-center gap-2",children:[(0,m.jsx)("span",{className:"reg28 text-nowrap",children:p.incompleteResponses}),(0,m.jsx)("span",{className:"reg14",children:t("Incomplete responses")})]})})})]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-xxl-6 col-12 mb-2",children:(0,m.jsx)(c4,{graphType:0,statisticsData:o,title:t("Responses last 30 day"),disableDoughnutChart:!0,disableBarChart:!0,disableLineChart:!0,disableRadarChart:!0,disablePieChart:!0})}),(0,m.jsx)("div",{className:"col-xxl-6 col-12 mb-2",children:(0,m.jsx)(c4,{graphType:1,statisticsData:u,title:t("Completed / Incomplete / Lurkers"),filterZeroValues:!0,disableDoughnutChart:!0,disableBarChart:!0,disableLineChart:!0,disableRadarChart:!0,disablePieChart:!0})})]}),(0,m.jsxs)("div",{className:"position-relative mt-4",children:[(0,m.jsx)(cA,{responsesData:{responses:n.responses.slice(0,3)},pagination:{},survey:a,surveyQuestions:s,hidePaginationButtons:!0,hideActions:!0,hideSelect:!0,disableUpdatingResponses:!0}),(0,m.jsxs)("div",{onClick:()=>l(`/responses/${i}/results/list`),className:"text-end mt-2 med14-c cursor-pointer text-primary",children:[t("View all responses")," ",(0,m.jsx)("i",{className:"ri-arrow-right-line"})]})]})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{children:t("Loading statistics...")})]})})},me=e=>{let{tabKey:i,filters:a,setFilters:s,showStatisticsFilters:l,setShowStatisticsFilters:n}=e;return i===cr&&l?(0,m.jsx)(c7,{setShowFilters:n,filters:a,setFilters:s}):null},mt=e=>{let{children:i}=e,a=dP(),{surveyId:s}=(0,_.g)(),{pathname:l}=(0,_.zy)(),n=dX(),[r,o]=(0,h.useState)(!1),[d,u]=(0,h.useState)(!0),[c,p]=j(en,!1),[g,v]=j(ex,!1),[x,I]=j(eI,!1),[T,N]=j("user_permissions",null);return((0,h.useEffect)(()=>{(N(null),null==a?void 0:a.token)?(u(!0),n.getUserPermissions().then(e=>{let{permissions:{global:i,survey:a}}=e;N({global:i,survey:a})}).catch(()=>{u(!1)})):u(!1)},[null==a?void 0:a.token]),(0,h.useEffect)(()=>{var e,i,l,n,r,d,c,m,h,g,x,_,N,b,E,y;if(!T){o(!1),p(!1),v(!1),I(!1),(null==a?void 0:a.token)||u(!1);return}let{global:S,survey:A}=T,f=(null==S||null==(e=S.superadmin)?void 0:e.read)===!0||(null==S||null==(i=S.superadmin)?void 0:i.read)===1,j=null==A?void 0:A[s],C=!!j,O=(null==S||null==(l=S.surveys)?void 0:l.read)===!0||(null==S||null==(n=S.surveys)?void 0:n.read)===1,w=(null==S||null==(r=S.surveys)?void 0:r.update)===!0||(null==S||null==(d=S.surveys)?void 0:d.update)===1,q=(null==j||null==(c=j.survey)?void 0:c.read)===!0||(null==j||null==(m=j.survey)?void 0:m.read)===1,M=(null==j||null==(h=j.survey)?void 0:h.update)===!0||(null==j||null==(g=j.survey)?void 0:g.update)===1,L=(null==j||null==(x=j.responses)?void 0:x.read)===!0||(null==j||null==(_=j.responses)?void 0:_.read)===1,D=(null==j||null==(N=j.responses)?void 0:N.update)===!0||(null==j||null==(b=j.responses)?void 0:b.update)===1,R=(null==j||null==(E=j.statistics)?void 0:E.read)===!0||(null==j||null==(y=j.statistics)?void 0:y.read)===1,P=f||(C?q:O),k=f||(C?M:w),U=f||L||D||R||w,H=f||D||w;o(P),p(k),v(U),I(H),u(!1)},[T,s,null==a?void 0:a.token,o,p,v,I]),d)?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"d-flex vh-100 flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{children:t("Checking permissions...")})]})}):l.startsWith("/responses/")&&(g||x)||r||c||"-1"===s?i:(0,m.jsx)("h1",{className:"d-flex vh-100 justify-content-center align-items-center",children:t("You don't have permissions to enter this page.")})},mi=[!1,{path:"/responses/:surveyId/:panel?/:menu?",element:(0,m.jsx)(u5,{children:(0,m.jsx)(mt,{children:(0,m.jsx)(()=>{var e;let{surveyId:i,menu:a,panel:s}=(0,_.g)(),l=(0,_.Zp)(),[n,r]=(0,h.useState)({}),[o,d]=(0,h.useState)({pageIndex:0,pageSize:10}),[u,c]=(0,h.useState)(""),[p,g]=(0,h.useState)([]),[v,x]=(0,h.useState)(!1),[I,N]=(0,h.useState)(!1),[E,y]=(0,h.useState)({}),[S,f]=(0,h.useState)([]),[C,O]=(0,h.useState)(cn),[w,q]=(0,h.useState)({}),[M]=j(eI),{survey:L={},fetchSurvey:D}=dV(i),{responses:R,isFetching:P,mutateOperations:k}=function(e,i,a,s){let l=dP(),n=(0,h.useMemo)(()=>new dh(l,e,H()),[l]),{data:r,isFetching:o,refetch:d}=(0,b.I)({queryKey:["survey_responses",e,i.pageIndex,i.pageSize,a,s],queryFn:()=>n.getSurveyResponses(e,{pagination:i,filters:a,sorting:s}),select:e=>e.responses,placeholderData:d3.rX}),u=(0,d6.n)({mutationFn:e=>n.patchResponses(e),onSuccess:()=>{A.invalidateQueries({queryKey:["surveyResponses",e,i,a,s]})},onSettled:d});return{responses:r,isFetching:o,refetch:d,mutateOperations:e=>{u.mutate(e)}}}(i,o,n,p);(0,h.useEffect)(()=>{D(i)},[]),(0,h.useEffect)(()=>{a===cu.statistics?O(cr):a===cu.list?O(cn):a===cu.overview&&O(co)},[a]);let U=(null==(e=p[0])?void 0:e.id)??null,G=e=>{let n=s||cd().results.panel;e!==a&&l(`/responses/${i}/${n}/${e}`)},V=()=>{},Y=e=>{g(e)},Q=async e=>{let i=[];for(let a in e){let s={},l=e[a];for(let e in l){let i=l[e];s[e]=!0===i?"Y":i}let n=iJ(a).response().update({...s});i.push(n)}k(i)},B=e=>{d(e)},F=e=>{r(e)},z=e=>{let i=[];e.forEach(e=>{let a=iJ(e).response().delete();i.push(a)}),k(i)},$=e=>{let i=[];e.forEach(e=>{let a=iJ(e).responseFile().delete();i.push(a)}),k(i)};return(null==L?void 0:L.sid)&&R?(0,m.jsxs)(T.A,{className:"responses",fluid:!0,children:[P&&(0,m.jsx)("div",{className:"responses-refreshing-loader",children:(0,m.jsx)("div",{className:"spinner-border text-primary",children:" "})}),(0,m.jsx)(ir.l$,{}),(0,m.jsx)(dt,{surveyId:i,showAddQuestionButton:!1,showPublishSettings:!1,showShareButton:!1,showPreviewButton:!1,showExportResponsesButton:C!==cr,showExportStatisticsButton:C===cr,onExportResponsesClick:()=>{ig({html:(0,m.jsx)(cv,{exportOptions:{}}),showCloseButton:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:t("Export"),cancelButtonText:t("Cancel"),closeButtonClass:"feedback-close-button",popupClass:"export-popup-container",confirmButtonClass:"export-button",preConfirm:V})}}),(0,m.jsxs)("div",{className:"responses-body",children:[(0,m.jsx)(cc,{showSidebarCloseButton:!1,page:ek,navigatePage:eU,surveyId:i}),(0,m.jsxs)("div",{className:"body-content mt-3",children:[(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)(c9,{setShowFilters:C===cn?x:N,showFilters:C===cn?v:I,setFilters:C===cn?f:q,setTabKey:e=>{(O(e),e===cr)?G(cu.statistics):e===cn&&G(cu.list)},tabKey:C})}),(()=>{switch(a){case cu.overview:return(0,m.jsx)(c8,{surveyId:i,survey:L,surveyQuestions:R.surveyQuestions});case cu.list:if(C===cr)return(0,m.jsx)(c5,{filters:w,surveyId:i,isRightBar:I});if(C===cn)return(0,m.jsx)(cA,{responsesData:R,globalFilter:u,rowSelection:E,setGlobalFilter:c,setRowSelection:y,setShowFilters:x,showFilters:v,setSorting:g,sorting:p,sortedColumnId:U,survey:L,onPaginationChange:B,onFiltersChange:F,onSortChange:Y,handleResponsesDelete:z,handleAttachmentsDelete:$,handleResponsesUpdate:Q,pagination:o,setPagination:d,isFetching:P,columnsFilters:S,setColumnsFilters:f,disableUpdatingResponses:!M});return null;default:return(0,m.jsx)(c8,{surveyId:i,survey:L,surveyQuestions:R.surveyQuestions})}})()]}),(0,m.jsx)(me,{filters:w,setFilters:q,tabKey:C,showStatisticsFilters:I,setShowStatisticsFilters:N})]})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex flex-column justify-content-center align-items-center",children:[(0,m.jsx)("span",{style:{width:48,height:48},className:"loader mb-4"}),(0,m.jsx)("h1",{className:"",children:t("Loading responses...")})]})})},{})})})},{path:"/survey/:surveyId/:panel?/:menu?",element:(0,m.jsx)(u5,{children:(0,m.jsx)(mt,{children:(0,m.jsx)(dN,{children:(0,m.jsx)(e=>{let{children:i}=e,{surveyId:a}=(0,_.g)(),s=(0,_.zy)(),{survey:l={},update:n}=dV(a),{unFocus:r,setFocused:o}=dH(),{fetchAllLanguages:d}=(()=>{let[e,i]=j(ec),[a]=j(J),{translationsService:s}=dK(),[l,n]=(0,h.useState)(!1);return{fetchAllLanguages:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==a?void 0:a.lang)&&!l){n(!0);let l=[a.lang,...r].filter((i,a,s)=>!(e||{})[i]&&s.indexOf(i)===a);if(0===l.length)return void n(!1);Promise.all(l.map(e=>s.getAllLanguages(e).then(i=>({[e]:i})).catch(i=>(console.error(`Error fetching languages for ${e}:`,i),null)))).then(e=>{let a=e.reduce((e,i)=>i?{...e,...i}:e,{});i(e=>({...e,...a}))}).catch(e=>{console.error("Error in fetching languages:",e)}).finally(()=>{n(!1)})}}}})(),{surveyGroupsService:u}=(()=>{let e=dP(),{surveyId:i}=(0,_.g)();return{surveyGroupsService:new dd(e,i,H())}})(),{translationsService:c}=dK(),[p,g]=(0,h.useState)(!1),[,v]=j(B,{}),[,x]=j(F,!1),[,I]=j(z,{}),[,T]=j("save_status",{}),[,N]=j(el,0),[,b]=j(er,{}),[,E]=j("survey_groups",{}),[,y]=j(ep,l.language),[S,A]=j(en),[f]=j(J);return(0,h.useEffect)(()=>{T(""),v((null==l?void 0:l.attributeDescriptions)||{}),l.sid&&d(l.languages)},[l.sid]),(0,h.useEffect)(()=>{x(null==l?void 0:l.active)},[l.sid,null==l?void 0:l.active]),(0,h.useEffect)(()=>{if(!(null==l?void 0:l.questionGroups))return;let e={},i=1;for(let a of l.questionGroups)for(let s of a.questions)s.title&&(e[s.title]={question:{...s,questionNumber:i}}),i++;I(e)},[l.questionGroups,l.sid]),(0,h.useEffect)(()=>{let e=0;if((null==l?void 0:l.questionGroups)&&(null==l?void 0:l.showXQuestions)){for(let i of l.questionGroups)e+=i.questions.length;N(e)}},[l.questionGroups]),(0,h.useEffect)(()=>{var e,i;l.questionGroups&&l.newSurvey&&(null==l||null==(i=l.questionGroups[0])||null==(e=i.questions)?void 0:e.length)===1&&(o(null==l?void 0:l.questionGroups[0].questions[0],0,0),n({newSurvey:!1}))},[l.newSurvey]),(0,h.useEffect)(()=>{if("scrollRestoration"in history&&(history.scrollRestoration="manual"),!S||!l.sid||p)return;g(!0),r();let e=new URLSearchParams(s.search),i=e.keys().next().value,a=+e.get(i);if(i===iZ)o({info:lh().WELCOME_SCREEN},void 0,void 0,!1);else if(i===iK)o({info:lh().END_SCREEN},void 0,void 0,!1);else if(a){if(i===iB){let e=ay(a,l);o(e.question,e.groupIndex,e.questionIndex,!1)}else if(i===iF){let e=((e,i)=>{for(let a=0;a<i.questionGroups.length;a++){let s=i.questionGroups[a];if(s.gid===e)return{group:s,index:a}}return{}})(a,l);o(e.group,e.index,void 0,!1)}}else r()},[l.sid]),(0,h.useEffect)(()=>{y(l.language),A(l.hasSurveyUpdatePermission||!0)},[l.sid,l.hasSurveyUpdatePermission,l.language]),(0,h.useEffect)(()=>{new dr(H()).getSiteData().then(e=>{e&&b(e)}),u.getSurveyGroups().then(e=>{(null==e?void 0:e.data)&&E(e.data)})},[]),(0,h.useEffect)(()=>{let e;return()=>{clearTimeout(e)}},[f.lang]),(0,m.jsx)(m.Fragment,{children:i})},{children:(0,m.jsx)(()=>{let{surveyId:e,menu:i}=(0,_.g)(),a=(0,_.Zp)(),{survey:s={}}=dV(e),{ready:l}=(0,N.Bd)(),n=(0,h.useRef)(null),r=(0,h.useRef)(null),o=(0,h.useRef)(!1),[d]=j(ep,s.language),[u]=j(en),[c]=j(ec),p=(0,h.useCallback)(()=>{aB(s.expires)&&ix(rK(s.sid,a))},[s.expires,s.sid]);(0,h.useEffect)(()=>{o.current||!s.sid||e!=s.sid||document.referrer.includes("/dashboard/view")&&(s.active&&r.current&&r.current(!0),p(),o.current=!0)},[e,r.current]);let g=!(null==s?void 0:s.sid)||void 0===u||void 0===d||""===d;return(0,m.jsxs)("div",{id:"editor",children:[(0,m.jsx)(u6,{survey:s,isSurveyActive:s.active}),(0,m.jsx)(dt,{surveyId:e,surveyActivationHandlerRef:n,setShowOverviewModalRef:r}),!g&&l&&c?(0,m.jsx)(T.A,{className:"p-0",fluid:!0,children:(0,m.jsxs)("div",{id:"content","data-testid":"editor",className:"d-flex position-relative",children:[(0,m.jsx)(u3,{}),(0,m.jsx)(d5,{shouldBeVisible:i===eE})]})}):(0,m.jsx)(u4,{isLoadingSurvey:g})]},d)},{})})})})})},{path:"/sharing/:surveyId/:panel?/:menu?",element:(0,m.jsx)(u5,{children:(0,m.jsx)(mt,{children:(0,m.jsx)(dN,{children:(0,m.jsx)(()=>{let{menu:e,surveyId:i}=(0,_.g)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(dt,{surveyId:i,showShareButton:!1,showShareActionButton:!0,showAddQuestionButton:!1}),(0,m.jsx)(T.A,{className:"p-0",fluid:!0,children:(0,m.jsx)("div",{id:"content","data-testid":"editor",className:"d-flex position-relative",children:(0,m.jsxs)("div",{className:sN()("main-body position-relative",{"right-side-margin":e!==eP}),children:[(0,m.jsx)(rM,{surveyId:i,page:eH,showSidebarCloseButton:!1}),e===eP?(0,m.jsx)(rI,{}):null,(0,m.jsx)(ro,{slotName:"sharingpanel:extra:menu"})]})})})]})},{})})})})},{path:"/401",element:(0,m.jsx)(()=>(0,m.jsxs)("div",{style:{height:"100vh"},className:"d-flex gap-4 flex-column justify-content-center align-items-center",children:[(0,m.jsx)("h1",{children:"401"})," ",t("Access denied")]}),{})},{path:"/404",element:(0,m.jsx)(lm,{})},{path:"*",element:(0,m.jsx)(lm,{})}];a(13195),a(61909);let ma=(0,g.Ge)(mi);p.createRoot(document.getElementById("root")).render((0,m.jsx)(function(){return(0,h.useEffect)(()=>{let e=setInterval(()=>{new dg(H()).getVersionInfo().then(e=>{let{data:{needsDbUpdate:i}}=e;i&&(alert(t("An update is available. You will be redirected to the admin panel to perform the update.")),window.location.href=eG)}).catch(()=>{})},1e4);return()=>clearInterval(e)},[]),(0,m.jsx)(iH,{children:(0,m.jsx)(v.Ay,{breakpoints:["lg","xl"],children:(0,m.jsxs)(x.t,{client:A,persistOptions:f,children:[(0,m.jsx)(uf,{i18n:uA,children:(0,m.jsx)(g.pg,{router:ma})}),(0,m.jsxs)("div",{className:"d-none",children:["limesurvey-editor@1.0.9","@","360facd60bbaa1c02ba65d3c217c5ca423c20735"]}),(0,m.jsx)(I.E,{initialIsOpen:!1})]})})})},{})),(s=console.log)&&s instanceof Function&&a.e("57").then(a.bind(a,56824)).then(e=>{let{onCLS:i,onINP:a,onFCP:l,onLCP:n,onTTFB:r}=e;i(s),a(s),l(s),n(s),r(s)})}},d={};function u(e){var i=d[e];if(void 0!==i)return i.exports;var a=d[e]={id:e,loaded:!1,exports:{}};return o[e].call(a.exports,a,a.exports,u),a.loaded=!0,a.exports}u.m=o,u.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return u.d(i,{a:i}),i},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(a,s){if(1&s&&(a=this(a)),8&s||"object"==typeof a&&a&&(4&s&&a.__esModule||16&s&&"function"==typeof a.then))return a;var l=Object.create(null);u.r(l);var n={};e=e||[null,i({}),i([]),i(i)];for(var r=2&s&&a;("object"==typeof r||"function"==typeof r)&&!~e.indexOf(r);r=i(r))Object.getOwnPropertyNames(r).forEach(e=>{n[e]=()=>a[e]});return n.default=()=>a,u.d(l,n),l},u.d=(e,i)=>{for(var a in i)u.o(i,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce((i,a)=>(u.f[a](e,i),i),[])),u.u=e=>"static/js/async/"+e+".9dde6a97.js",u.miniCssF=e=>""+e+".css",u.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),u.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),a={},u.l=function(e,i,s,l){if(a[e])return void a[e].push(i);if(void 0!==s)for(var n,r,o=document.getElementsByTagName("script"),d=0;d<o.length;d++){var c=o[d];if(c.getAttribute("src")==e||c.getAttribute("data-rspack")=="limesurvey-editor:"+s){n=c;break}}n||(r=!0,(n=document.createElement("script")).timeout=120,u.nc&&n.setAttribute("nonce",u.nc),n.setAttribute("data-rspack","limesurvey-editor:"+s),n.src=e),a[e]=[i];var m=function(i,s){n.onerror=n.onload=null,clearTimeout(p);var l=a[e];if(delete a[e],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach(function(e){return e(s)}),i)return i(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)},u.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),u.nc=void 0,s=[],u.O=(e,i,a,l)=>{if(i){l=l||0;for(var n=s.length;n>0&&s[n-1][2]>l;n--)s[n]=s[n-1];s[n]=[i,a,l];return}for(var r=1/0,n=0;n<s.length;n++){for(var[i,a,l]=s[n],o=!0,d=0;d<i.length;d++)(!1&l||r>=l)&&Object.keys(u.O).every(e=>u.O[e](i[d]))?i.splice(d--,1):(o=!1,l<r&&(r=l));if(o){s.splice(n--,1);var c=a();void 0!==c&&(e=c)}}return e},u.p="/editor/",l={410:0},u.f.j=function(e,i){var a=u.o(l,e)?l[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise((i,s)=>a=l[e]=[i,s]);i.push(a[2]=s);var n=u.p+u.u(e),r=Error();u.l(n,function(i){if(u.o(l,e)&&(0!==(a=l[e])&&(l[e]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",r.name="ChunkLoadError",r.type=s,r.request=n,a[1](r)}},"chunk-"+e,e)}},u.O.j=e=>0===l[e],n=(e,i)=>{var a,s,[n,r,o]=i,d=0;if(n.some(e=>0!==l[e])){for(a in r)u.o(r,a)&&(u.m[a]=r[a]);if(o)var c=o(u)}for(e&&e(i);d<n.length;d++)s=n[d],u.o(l,s)&&l[s]&&l[s][0](),l[s]=0;return u.O(c)},(r=self.webpackChunklimesurvey_editor=self.webpackChunklimesurvey_editor||[]).forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r));var c=u.O(void 0,["783","535","354","493","378"],()=>u(3036));c=u.O(c)})();